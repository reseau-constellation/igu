import{d as Y,p as re,q,r as p,v as K,dz as Te,a as V,c as C,w as t,D as xe,H as A,e as S,t as r,f as a,X as oe,க as ne,o as Ve,cq as ze,b as e,ம as he,c2 as Z,aC as be,as as Ee,W as L,aE as Le,L as le,ah as Me,dA as Je,J as T,al as Ge,n as ge,ax as We,dB as P,x as je,y as we,z as ke,h as Ce,V as Se,A as pe,i as ve,l as qe,Q as Ie,R as N,bv as Oe,C as Q,M as De,N as ae,bK as $e,dC as Fe,b_ as He,a2 as ue,aZ as fe,aS as Ke,am as Qe,an as Xe,B as b,aN as Pe,aO as M,ao as Ze,bt as Ye,bu as et,m as Ae,I as Ue,dD as tt,bc as at,dE as lt,cT as Ne,bg as ot,bh as nt,bl as it,bk as st,bj as ut,dF as _e,aR as rt,bo as ct,bp as dt,dG as ye,dH as mt,bq as pt,dI as vt,di as ft,bn as bt,dJ as _t,dK as yt}from"./index-C3ZHHF5B.js";import{_ as xt}from"./RésultatRechercheProjet.vue_vue_type_script_setup_true_lang-D_i8nkZs.js";import{_ as Vt}from"./CarteProjet.vue_vue_type_script_setup_true_lang-DzZVFJCC.js";import{_ as ht}from"./NouveauProjet.vue_vue_type_script_setup_true_lang-CoQ1lkMx.js";const gt=Y({__name:"JetonFichierImportation",props:{spécification:{}},setup(l){const i=l,{மொழியாக்கம்_பயன்படுத்து:k}=ne(),{$மொ:j}=k(),n=re(),s=q(()=>i.spécification.source.typeSource==="fichier"?h.value===void 0:!1),v=q(()=>i.spécification.source.typeSource==="url"||typeof h.value=="string"),h=p();K(async()=>{i.spécification.source.typeSource==="fichier"&&(h.value=await n.automatisations.résoudreAdressePrivéeFichier({clef:i.spécification.source.adresseFichier}))});const D=q(()=>i.spécification.source.typeSource==="fichier"?"mdi-file":"mdi-web"),f=q(()=>i.spécification.source.typeSource==="fichier"?h.value===void 0?"automatisation.rechercheFichier":h.value===null?"automatisations.fichierIntrouvable":Te.parse(h.value).base:i.spécification.source.url.slice(-10)+j("communs.troisPetitsPoints"));return(U,y)=>(V(),C(oe,null,{prepend:t(()=>[s.value?(V(),C(xe,{key:0,indeterminate:"",color:"primary"})):v.value?(V(),C(A,{key:1},{default:t(()=>[S(r(D.value),1)]),_:1})):(V(),C(A,{key:2,color:"error"},{default:t(()=>y[0]||(y[0]=[S(" mdi-alert ")])),_:1}))]),default:t(()=>[S(" "+r(a(j)(f.value)),1)]),_:1}))}}),jt=Y({__name:"JetonStatutAutomatisation",props:{statut:{}},setup(l){const{மொழியாக்கம்_பயன்படுத்து:i}=ne(),{$மொ:k}=i(),j=l,n=q(()=>{switch(j.statut.type){case"erreur":return{icône:"mdi-alert",couleur:"error"};case"programmée":return{icône:"mdi-check",couleur:"success"};case"sync":return{icône:"mdi-sync",couleur:"primary"};case"écoute":return{icône:"",couleur:"success"};default:throw new Error(JSON.stringify(j.statut))}}),s=p(new Date().getTime());let v;Ve(()=>{v=window.setInterval(()=>s.value=new Date().getTime(),1e3)}),ze(()=>{v&&clearInterval(v)});const h=q(()=>{switch(j.statut.type){case"écoute":return"auto.jetonStatut.écoute";case"sync":return k("auto.jetonStatut.sync",{depuis:s.value-j.statut.depuis});case"programmée":return k("auto.jetonStatut.programmée",{dans:j.statut.à-s.value});case"erreur":return j.statut.prochaineProgramméeÀ?k("auto.jetonStatut.erreurRéssayer",{dans:j.statut.prochaineProgramméeÀ-s.value}):"auto.jetonStatut.erreur";default:throw new Error(j.statut)}});return(D,f)=>(V(),C(oe,null,{prepend:t(()=>[D.statut.type==="sync"?(V(),C(xe,{key:0,indeterminate:""},{default:t(()=>[e(A,{color:n.value.couleur},{default:t(()=>[S(r(n.value.icône),1)]),_:1},8,["color"])]),_:1})):(V(),C(A,{key:1,color:n.value.couleur},{default:t(()=>[S(r(n.value.icône),1)]),_:1},8,["color"]))]),default:t(()=>[S(" "+r(a(k)(h.value)),1)]),_:1}))}}),ea=Y({__name:"ItemAutomatisation",props:{spécification:{}},setup(l){const i=l,k=re(),{அகராதியிலிருந்து_மொழிபெயர்ப்பு:j}=he(),n=p();Ve(()=>{if(i.spécification.type==="importation")Z(k.tableaux.suivreNomsTableau({idTableau:i.spécification.idTableau,f:f=>n.value=f}));else switch(i.spécification.typeObjet){case"tableau":Z(k.tableaux.suivreNomsTableau({idTableau:i.spécification.idObjet,f:f=>n.value=f}));break;case"projet":Z(k.projets.suivreNomsProjet({idProjet:i.spécification.idObjet,f:f=>n.value=f}));break;case"bd":Z(k.bds.suivreNomsBd({idBd:i.spécification.idObjet,f:f=>n.value=f}));break;case"nuée":Z(k.nuées.suivreNomsNuée({idNuée:i.spécification.idObjet,f:f=>n.value=f}));break;default:throw new Error(JSON.stringify(i.spécification))}});const s=j(n),v=q(()=>i.spécification.type==="importation"?"mdi-table":be(i.spécification.typeObjet)),h=p();Z(k.automatisations.suivreÉtatAutomatisations({f:f=>h.value=f}));const D=q(()=>h.value?h.value[i.spécification.id]:void 0);return(f,U)=>(V(),C(le,null,{prepend:t(()=>[e(A,null,{default:t(()=>[S(r(f.spécification.type==="exportation"?"mdi-export":"mdi-import"),1)]),_:1})]),default:t(()=>[e(Ee,null,{default:t(()=>[e(A,null,{default:t(()=>[S(r(v.value),1)]),_:1}),S(" "+r(a(s)),1)]),_:1}),f.spécification.type==="importation"?(V(),C(gt,{key:0,spécification:f.spécification},null,8,["spécification"])):L("",!0),D.value?(V(),C(jt,{key:1,statut:D.value},null,8,["statut"])):(V(),C(Le,{key:2,type:"chip"}))]),_:1}))}}),wt=Y({__name:"SélecteurProjet",props:{multiples:{type:Boolean},originaux:{}},emits:["selectionne"],setup(l,{emit:i}){const k=i,{மொழியாக்கம்_பயன்படுத்து:j}=ne(),{$மொ:n}=j(),s=re(),v=p([]);K(()=>{k("selectionne",v.value)});const h=p(),{résultats:D,onTravaille:f}=Me(s.recherche.rechercherProjetsSelonTexte,{texte:h});return(U,y)=>(V(),C(Ge,{multiples:U.multiples,originaux:U.originaux,"resultats-recherche":a(D),"on-travaille":a(f),"texte-etiquette-recherche":a(n)("projets.recherche.étiquette"),"texte-aucun-résultat":a(n)("projets.recherche.aucunRésultat"),onSelectionnee:y[0]||(y[0]=_=>v.value=_),onRequeteModifiee:y[1]||(y[1]=_=>h.value=_)},{résultat:t(({résultat:_,click:x})=>[e(xt,{résultat:_,onClick:x},null,8,["résultat","onClick"])]),"jeton-objet":t(({id:_,deselectionner:x})=>[e(Vt,{id:_},{activator:t(({props:I})=>[e(Je,T({id:_},{props:I}),{default:t(()=>[e(A,{class:"ms-2",icon:"mdi-close",size:"small",variant:"flat",onClick:()=>x({id:_})},null,8,["onClick"])]),_:2},1040,["id"])]),_:2},1032,["id"])]),nouveau:t(({nouveau:_})=>[e(ht,{onNouveau:_},{activator:t(({props:x})=>[e(le,T(x,{title:a(n)("projets.nouveau.btn"),"prepend-icon":"mdi-plus"}),null,16,["title"])]),_:2},1032,["onNouveau"])]),_:1},8,["multiples","originaux","resultats-recherche","on-travaille","texte-etiquette-recherche","texte-aucun-résultat"]))}}),kt={class:"font-weight-bold"},Ct={class:"text-medium-emphasis text-caption"},St={class:"font-weight-bold"},qt={class:"text-medium-emphasis text-caption"},It={key:0,class:"my-1 text-medium-emphasis text-caption"},Ot={class:"font-weight-bold"},Dt={class:"d-flex vertical-align"},$t={class:"text-medium-emphasis text-caption",style:{display:"flex","align-items":"center"}},Ft={key:0,class:"my-1 text-medium-emphasis text-caption"},Pt={class:"font-weight-bold"},At={class:"text-medium-emphasis text-caption"},ta=Y({__name:"NouvelleExportation",props:{infoObjet:{}},setup(l){const i=l,{mdAndUp:k}=ge(),{மொழியாக்கம்_பயன்படுத்து:j,கிடைக்கும்_மொழிகளை_பயன்படுத்து:n}=ne(),{$மொ:s}=j(),{மொழி:v,மாற்றுமொழிகள்:h}=he(),{மொழிகளும்_குறியீடுகளும்:D}=n(),{so:f}=We(),U=f==="androïde"||f==="iOS",y=re(),_=p(!1),x=["objetConstellation","destination","format","automatiser","confirmation"],I=p(x.indexOf(i.infoObjet?P?"format":"destination":"objetConstellation")),X=q(()=>{switch(x[I.value]){case"objetConstellation":return"exportations.carte.titreObjetConstellation";case"destination":return"exportations.carte.titreDestination";case"format":return"exportations.carte.titreFormat";case"automatiser":return"exportations.carte.titreAutomatiser";case"confirmation":return"exportations.carte.titreConfirmation";default:return""}}),J=()=>{switch(x[I.value]){case"objetConstellation":I.value=x.indexOf(P?"format":"destination");break;default:I.value++;break}},F=()=>{switch(x[I.value]){case"format":I.value=x.indexOf(P?"objetConstellation":"destination");break;default:I.value--;break}},G=q(()=>{switch(x[I.value]){case"objetConstellation":return{actif:!!c.value,visible:!0};case"destination":return{actif:!!O.value,visible:!0};case"format":return{actif:!!d.value,visible:!0};case"automatiser":return{actif:!!H.value,visible:!0};case"confirmation":return{actif:!1,visible:!1};default:return{actif:!0,visible:!0}}}),W=q(()=>{switch(x[I.value]){case"objetConstellation":return{actif:!1,visible:!1};case"destination":return{actif:!i.infoObjet,visible:!i.infoObjet};case"format":return{actif:!i.infoObjet||!P,visible:!i.infoObjet||!P};case"confirmation":return{actif:!ie.value,visible:!0};default:return{actif:!0,visible:!0}}}),g=p(i.infoObjet?.typeObjet||"bd"),c=p(i.infoObjet?.id),m=[{type:"tableau",texte:"pages.mesDonnées.tableaux"},{type:"bd",texte:"pages.mesDonnées.bds"},{type:"projet",texte:"pages.mesDonnées.projets"},{type:"nuée",texte:"pages.mesDonnées.nuées"}],O=p(),ce=async()=>{(O.value===""||!O.value)&&(O.value=await tt())},d=p("ods"),R=["ods","csv","txt","xlsx","xls"],$=p(),de=q(()=>D.value.map(w=>w.மொழி));K(()=>{$.value=[v.value,...h.value].map(w=>D.value.find(u=>u.குறியீடு===w)?.மொழி||w)});const z=p(!0),H=p("manuelle"),ee=p(1),B=p("jours"),me=["années","mois","semaines","jours","heures","minutes","secondes","millisecondes"],ie=p(!1),se=async()=>{if(!(!O.value||!c.value||!g.value))if(H.value==="aucune"){if(g.value==="tableau"){const w=await y.tableaux.exporterDonnées({idTableau:c.value,langues:$.value});await y.bds.exporterDocumentDonnées({données:w,formatDoc:d.value,dossier:O.value,inclureFichiersSFIP:z.value})}else if(g.value==="bd"){const w=await y.bds.exporterDonnées({idBd:c.value,langues:$.value});await y.bds.exporterDocumentDonnées({données:w,formatDoc:d.value,dossier:O.value,inclureFichiersSFIP:z.value})}else if(g.value==="nuée"){const w=await y.nuées.exporterDonnéesNuée({idNuée:c.value,langues:$.value});await y.bds.exporterDocumentDonnées({données:w,formatDoc:d.value,dossier:O.value,inclureFichiersSFIP:z.value})}else if(g.value==="projet"){const w=await y.projets.exporterDonnées({idProjet:c.value,langues:$.value});await y.projets.exporterDocumentDonnées({données:w,formatDoc:d.value,dossier:O.value,inclureFichiersSFIP:z.value})}}else await y.automatisations.ajouterAutomatisationExporter({id:c.value,typeObjet:g.value,formatDoc:d.value,inclureFichiersSFIP:z.value,dossier:O.value,langues:$.value,fréquence:{type:H.value,détails:{n:ee.value,unités:B.value}}})};return(w,u)=>(V(),C(Ue,{modelValue:_.value,"onUpdate:modelValue":u[16]||(u[16]=o=>_.value=o)},{activator:t(({props:o})=>[je(w.$slots,"activator",we(ke({props:o})))]),default:t(()=>[e(Ae,{class:"mx-auto","min-width":a(k)?500:300},{default:t(()=>[e(Ce,null,{default:t(()=>[e(Se,{class:"d-flex"},{default:t(()=>[S(r(a(s)(X.value))+" ",1),e(pe),e(ve,{icon:"mdi-close",size:"small",variant:"flat",onClick:u[0]||(u[0]=o=>_.value=!1)})]),_:1})]),_:1}),e(qe,null,{default:t(()=>[e(Ie,{modelValue:I.value,"onUpdate:modelValue":u[15]||(u[15]=o=>I.value=o),style:{"overflow-y":"scroll"}},{default:t(()=>[e(N,{value:x.indexOf("objetConstellation")},{default:t(()=>[e(Oe,{modelValue:g.value,"onUpdate:modelValue":u[1]||(u[1]=o=>g.value=o),color:"primary",mandatory:""},{default:t(()=>[(V(),Q(ae,null,De(m,o=>e(oe,{key:o.type,value:o.type,text:a(s)(o.texte),class:"mx-2",variant:"outlined","prepend-icon":a(be)(o.type)},null,8,["value","text","prepend-icon"])),64))]),_:1},8,["modelValue"]),g.value==="bd"?(V(),C($e,{key:0,multiples:!1,onSelectionnee:u[2]||(u[2]=o=>c.value=o[0])})):g.value==="tableau"?(V(),C(Fe,{key:1,multiples:!1,onSelectionne:u[3]||(u[3]=o=>c.value=o)})):g.value==="projet"?(V(),C(wt,{key:2,multiples:!1,onSelectionne:u[4]||(u[4]=o=>c.value=o[0])})):g.value==="nuée"?(V(),C(He,{key:3,multiples:!1,onSelectionnee:u[5]||(u[5]=o=>c.value=o[0])})):L("",!0)]),_:1},8,["value"]),e(N,{value:x.indexOf("destination")},{default:t(()=>[e(ue,{modelValue:O.value,"onUpdate:modelValue":u[6]||(u[6]=o=>O.value=o),label:a(s)("exportations.carte.étiquetteDestination"),class:"mt-2",variant:"outlined","prepend-icon":"mdi-folder-outline",clearable:"",onClick:u[7]||(u[7]=()=>ce())},null,8,["modelValue","label"])]),_:1},8,["value"]),e(N,{value:x.indexOf("format")},{default:t(()=>[e(fe,{modelValue:d.value,"onUpdate:modelValue":u[8]||(u[8]=o=>d.value=o),items:R,label:a(s)("exportations.carte.étiquetteFormatDoc"),class:"mt-2",variant:"outlined"},{selection:t(({item:o})=>[S(r(a(s)(`exportations.format.${o.raw}`)),1)]),item:t(({item:o,props:te})=>[e(le,T(te,{title:a(s)(`exportations.format.${o.raw}`)}),null,16,["title"])]),_:1},8,["modelValue","label"]),e(Ke,{modelValue:$.value,"onUpdate:modelValue":u[9]||(u[9]=o=>$.value=o),items:de.value,label:a(s)("exportations.carte.étiquetteLangues"),variant:"outlined",multiple:"",chips:"","closable-chips":""},null,8,["modelValue","items","label"]),e(Qe,{modelValue:z.value,"onUpdate:modelValue":u[10]||(u[10]=o=>z.value=o),color:"primary"},{label:t(()=>[S(r(a(s)("exportations.carte.étiquetteInclureDocuments"))+" ",1),a(U)?L("",!0):(V(),C(Xe,{key:0,location:"bottom",text:a(s)("exportations.carte.indiceInclureDocuments")},{activator:t(({props:o})=>[e(A,T(o,{icon:"mdi-information-outline",end:""}),null,16)]),_:1},8,["text"]))]),_:1},8,["modelValue"])]),_:1},8,["value"]),e(N,{value:x.indexOf("automatiser")},{default:t(()=>[b("p",null,r(a(s)("exportations.carte.automatiser")),1),e(Pe,{modelValue:H.value,"onUpdate:modelValue":u[13]||(u[13]=o=>H.value=o)},{default:t(()=>[e(M,{value:"manuelle",class:"my-2"},{label:t(()=>[b("div",null,[b("p",kt,r(a(s)("automatisations.fréquence.manuelle")),1),b("p",Ct,r(a(s)("automatisations.fréquence.indiceManuelle")),1)])]),_:1}),e(M,{value:"dynamique",class:"my-2",disabled:a(P)},{label:t(()=>[b("div",null,[b("p",St,r(a(s)("automatisations.fréquence.dynamique")),1),b("p",qt,r(a(s)("automatisations.fréquence.indiceDynamique")),1),a(P)?(V(),Q("p",It,[e(A,{icon:"mdi-alert-outline",start:""}),S(r(a(s)("automatisations.fréquence.pasSurNavig")),1)])):L("",!0)])]),_:1},8,["disabled"]),e(M,{value:"fixe",class:"my-2",disabled:a(P)},{label:t(()=>[b("div",null,[b("p",Ot,r(a(s)("automatisations.fréquence.fixe")),1),u[17]||(u[17]=b("p",{class:"text-medium-emphasis text-caption"},null,-1)),b("div",Dt,[b("div",$t,r(a(s)("automatisations.fréquence.indiceFixe")),1),e(ue,{modelValue:ee.value,"onUpdate:modelValue":u[11]||(u[11]=o=>ee.value=o),class:"mx-1",variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"]),e(fe,{modelValue:B.value,"onUpdate:modelValue":u[12]||(u[12]=o=>B.value=o),items:me,class:"mx-1",variant:"outlined",density:"compact","hide-details":""},{selection:t(({item:o})=>[S(r(a(s)(`automatisations.fréquence.unités.${o.raw}`)),1)]),item:t(({item:o,props:te})=>[e(le,T(te,{title:a(s)(`automatisations.fréquence.unités.${o.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])]),a(P)?(V(),Q("p",Ft,[e(A,{icon:"mdi-alert-outline",start:""}),S(r(a(s)("automatisations.fréquence.pasSurNavig")),1)])):L("",!0)])]),_:1},8,["disabled"]),e(M,{value:"aucune",class:"my-2"},{label:t(()=>[b("div",null,[b("p",Pt,r(a(s)("automatisations.fréquence.aucune")),1),b("p",At,r(a(s)("automatisations.fréquence.indiceAucune")),1)])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["value"]),e(N,{value:x.indexOf("confirmation")},{default:t(()=>[e(ve,{onClick:u[14]||(u[14]=()=>se())})]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:1}),e(Ze,null,{default:t(()=>[e(Ye,{visible:W.value.visible,actif:W.value.actif,onRetour:F},null,8,["visible","actif"]),e(pe),e(et,{visible:G.value.visible,actif:G.value.actif,onSuivant:J},null,8,["visible","actif"])]),_:1})]),_:1},8,["min-width"])]),_:3},8,["modelValue"]))}}),Ut=at({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:l=>typeof l=="boolean"||[1e3,1024].includes(Number(l))},...lt({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:l=>l.multiple?[]:null,validator:l=>Ne(l).every(i=>i!=null&&typeof i=="object")},...ot({clearable:!0})},"VFileInput"),Nt=nt()({name:"VFileInput",inheritAttrs:!1,props:Ut(),emits:{"click:control":l=>!0,"mousedown:control":l=>!0,"update:focused":l=>!0,"update:modelValue":l=>!0},setup(l,i){let{attrs:k,emit:j,slots:n}=i;const{t:s}=it(),v=st(l,"modelValue",l.modelValue,d=>Ne(d),d=>!l.multiple&&Array.isArray(d)?d[0]:d),{isFocused:h,focus:D,blur:f}=ut(l),U=q(()=>typeof l.showSize!="boolean"?l.showSize:void 0),y=q(()=>(v.value??[]).reduce((d,R)=>{let{size:$=0}=R;return d+$},0)),_=q(()=>_e(y.value,U.value)),x=q(()=>(v.value??[]).map(d=>{const{name:R="",size:$=0}=d;return l.showSize?`${R} (${_e($,U.value)})`:R})),I=q(()=>{const d=v.value?.length??0;return l.showSize?s(l.counterSizeString,d,_.value):s(l.counterString,d)}),X=p(),J=p(),F=p(),G=q(()=>h.value||l.active),W=q(()=>["plain","underlined"].includes(l.variant));function g(){F.value!==document.activeElement&&F.value?.focus(),h.value||D()}function c(d){F.value?.click()}function m(d){j("mousedown:control",d)}function O(d){F.value?.click(),j("click:control",d)}function ce(d){d.stopPropagation(),g(),bt(()=>{v.value=[],_t(l["onClick:clear"],d)})}return rt(v,d=>{(!Array.isArray(d)||!d.length)&&F.value&&(F.value.value="")}),ct(()=>{const d=!!(n.counter||l.counter),R=!!(d||n.details),[$,de]=dt(k),{modelValue:z,...H}=ye.filterProps(l),ee=mt(l);return e(ye,T({ref:X,modelValue:v.value,"onUpdate:modelValue":B=>v.value=B,class:["v-file-input",{"v-file-input--chips":!!l.chips,"v-file-input--hide":l.hideInput,"v-input--plain-underlined":W.value},l.class],style:l.style,"onClick:prepend":c},$,H,{centerAffix:!W.value,focused:h.value}),{...n,default:B=>{let{id:me,isDisabled:ie,isDirty:se,isReadonly:w,isValid:u}=B;return e(pt,T({ref:J,"prepend-icon":l.prependIcon,onMousedown:m,onClick:O,"onClick:clear":ce,"onClick:prependInner":l["onClick:prependInner"],"onClick:appendInner":l["onClick:appendInner"]},ee,{id:me.value,active:G.value||se.value,dirty:se.value||l.dirty,disabled:ie.value,focused:h.value,error:u.value===!1}),{...n,default:o=>{let{props:{class:te,...Re}}=o;return e(ae,null,[e("input",T({ref:F,type:"file",readonly:w.value,disabled:ie.value,multiple:l.multiple,name:l.name,onClick:E=>{E.stopPropagation(),w.value&&E.preventDefault(),g()},onChange:E=>{if(!E.target)return;const Be=E.target;v.value=[...Be.files??[]]},onFocus:g,onBlur:f},Re,de),null),e("div",{class:te},[!!v.value?.length&&!l.hideInput&&(n.selection?n.selection({fileNames:x.value,totalBytes:y.value,totalBytesReadable:_.value}):l.chips?x.value.map(E=>e(oe,{key:E,size:"small",text:E},null)):x.value.join(", "))])])}})},details:R?B=>e(ae,null,[n.details?.(B),d&&e(ae,null,[e("span",null,null),e(vt,{active:!!v.value?.length,value:I.value,disabled:l.disabled},n.counter)])]):void 0})}),ft({},X,J,F)}}),Rt={class:"font-weight-bold"},Bt={class:"text-medium-emphasis text-caption"},Tt={class:"font-weight-bold"},zt={class:"text-medium-emphasis text-caption"},Et={key:0,class:"my-1 text-medium-emphasis text-caption"},Lt={key:1,class:"my-1 text-medium-emphasis text-caption"},Mt={class:"font-weight-bold"},Jt={class:"d-flex vertical-align"},Gt={class:"text-medium-emphasis text-caption",style:{display:"flex","align-items":"center"}},Wt={key:0,class:"my-1 text-medium-emphasis text-caption"},Ht={class:"font-weight-bold"},Kt={class:"text-medium-emphasis text-caption"},aa=Y({__name:"NouvelleImportation",props:{infoObjet:{}},setup(l){const i=l,{mdAndUp:k}=ge(),{மொழியாக்கம்_பயன்படுத்து:j}=ne(),{$மொ:n}=j(),s=p(!1),v=["objetConstellation","sourceImportation","correspondancesImportation","automatiser","confirmation"],h=p(v.indexOf(i.infoObjet?"sourceImportation":"objetConstellation")),D=q(()=>{switch(v[h.value]){case"objetConstellation":return"importations.carte.titreObjetConstellation";case"sourceImportation":return"importations.carte.titreSourceImportation";case"correspondancesImportation":return"importations.carte.titreCorrespondancesImportation";case"confirmation":return"importations.carte.titreconfirmation";default:return""}}),f=p(i.infoObjet?.typeObjet),U=p(i.infoObjet?.id),y=p(),_=p();K(()=>{y.value&&(_.value=void 0)}),K(()=>{_.value&&(y.value=void 0)});const x=p(),I=p(),X=p(!1);K(()=>{const g=y.value?.[0].name||_.value;I.value=g?.split(".").pop()}),K(async()=>{if(_.value)try{const g=await yt.get(_.value);x.value=g.data}catch{X.value=!0}else y.value?x.value=new Uint8Array(await y.value[0].arrayBuffer()):x.value=void 0});const J=p("manuelle"),F=p(1),G=p("jours"),W=["années","mois","semaines","jours","heures","minutes","secondes","millisecondes"];return(g,c)=>(V(),C(Ue,{modelValue:s.value,"onUpdate:modelValue":c[10]||(c[10]=m=>s.value=m)},{activator:t(({props:m})=>[je(g.$slots,"activator",we(ke({props:m})))]),default:t(()=>[e(Ae,{class:"mx-auto","max-width":a(k)?500:300},{default:t(()=>[e(Ce,null,{default:t(()=>[e(Se,{class:"d-flex"},{default:t(()=>[S(r(a(n)(D.value))+" ",1),e(pe),e(ve,{icon:"mdi-close",size:"small",variant:"flat",onClick:c[0]||(c[0]=m=>s.value=!1)})]),_:1})]),_:1}),e(qe,null,{default:t(()=>[e(Ie,{modelValue:h.value,"onUpdate:modelValue":c[9]||(c[9]=m=>h.value=m),style:{"overflow-y":"scroll"}},{default:t(()=>[e(N,{value:v.indexOf("objetConstellation")},{default:t(()=>[e(Oe,{modelValue:f.value,"onUpdate:modelValue":c[1]||(c[1]=m=>f.value=m),color:"primary",mandatory:""},{default:t(()=>[(V(),Q(ae,null,De(["tableau","bd"],m=>e(oe,{key:m,class:"mx-2",variant:"outlined","prepend-icon":a(be)(m)},null,8,["prepend-icon"])),64))]),_:1},8,["modelValue"]),f.value==="bd"?(V(),C($e,{key:0,multiples:!1,onSelectionnee:c[2]||(c[2]=m=>U.value=m[0])})):f.value==="tableau"?(V(),C(Fe,{key:1,multiples:!1,onSelectionne:c[3]||(c[3]=m=>U.value=m)})):L("",!0)]),_:1},8,["value"]),e(N,{value:v.indexOf("sourceImportation")},{default:t(()=>[e(Nt,{modelValue:y.value,"onUpdate:modelValue":c[4]||(c[4]=m=>y.value=m),class:"mt-2",variant:"outlined",label:a(n)("importations.carte.étiquetteFichier")},null,8,["modelValue","label"]),e(ue,{modelValue:_.value,"onUpdate:modelValue":c[5]||(c[5]=m=>_.value=m),"prepend-icon":"mdi-web",variant:"outlined",label:a(n)("importations.carte.étiquetteURL")},null,8,["modelValue","label"]),S(" "+r(_.value)+" "+r(x.value),1)]),_:1},8,["value"]),e(N,{value:v.indexOf("correspondancesImportation")},null,8,["value"]),e(N,{value:v.indexOf("automatiser")},{default:t(()=>[b("p",null,r(a(n)("exportations.carte.automatiser")),1),e(Pe,{modelValue:J.value,"onUpdate:modelValue":c[8]||(c[8]=m=>J.value=m)},{default:t(()=>[e(M,{value:"manuelle",class:"my-2"},{label:t(()=>[b("div",null,[b("p",Rt,r(a(n)("automatisations.fréquence.manuelle")),1),b("p",Bt,r(a(n)("automatisations.fréquence.indiceManuelle")),1)])]),_:1}),e(M,{value:"dynamique",class:"my-2",disabled:!!_.value||a(P)},{label:t(()=>[b("div",null,[b("p",Tt,r(a(n)("automatisations.fréquence.dynamique")),1),b("p",zt,r(a(n)("automatisations.fréquence.indiceDynamique")),1),_.value?(V(),Q("p",Et,[e(A,{icon:"mdi-alert-outline",start:""}),S(r(a(n)("automatisations.fréquence.pasDeSourceURL")),1)])):a(P)?(V(),Q("p",Lt,[e(A,{icon:"mdi-alert-outline",start:""}),S(r(a(n)("automatisations.fréquence.pasSurNavig")),1)])):L("",!0)])]),_:1},8,["disabled"]),e(M,{value:"fixe",class:"my-2",disabled:a(P)},{label:t(()=>[b("div",null,[b("p",Mt,r(a(n)("automatisations.fréquence.fixe")),1),c[11]||(c[11]=b("p",{class:"text-medium-emphasis text-caption"},null,-1)),b("div",Jt,[b("div",Gt,r(a(n)("automatisations.fréquence.indiceFixe")),1),e(ue,{modelValue:F.value,"onUpdate:modelValue":c[6]||(c[6]=m=>F.value=m),class:"mx-1",variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"]),e(fe,{modelValue:G.value,"onUpdate:modelValue":c[7]||(c[7]=m=>G.value=m),items:W,class:"mx-1",variant:"outlined",density:"compact","hide-details":""},{selection:t(({item:m})=>[S(r(a(n)(`automatisations.fréquence.unités.${m.raw}`)),1)]),item:t(({item:m,props:O})=>[e(le,T(O,{title:a(n)(`automatisations.fréquence.unités.${m.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])]),a(P)?(V(),Q("p",Wt,[e(A,{icon:"mdi-alert-outline",start:""}),S(r(a(n)("automatisations.fréquence.pasSurNavig")),1)])):L("",!0)])]),_:1},8,["disabled"]),e(M,{value:"aucune",class:"my-2"},{label:t(()=>[b("div",null,[b("p",Ht,r(a(n)("automatisations.fréquence.aucune")),1),b("p",Kt,r(a(n)("automatisations.fréquence.indiceAucune")),1)])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["value"]),e(N,{value:v.indexOf("confirmation")},null,8,["value"])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["max-width"])]),_:3},8,["modelValue"]))}});export{aa as _,ta as a,ea as b};
//# sourceMappingURL=NouvelleImportation.vue_vue_type_script_setup_true_lang-BRaEKGgm.js.map

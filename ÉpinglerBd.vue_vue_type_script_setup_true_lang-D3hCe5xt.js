import{r as q,q as m,dn as te,v as $,cg as ne,க as Q,d as R,dp as M,p as j,s as H,a as J,C as oe,b as i,w as a,e as g,t as C,L as ue,J as F,f as o,aX as de,ad as O,ae as k,aQ as re,dq as pe,aI as ce,av as L,N as fe,n as ve,c as me,x as ge,y as be,z as Ue,h as Se,V as Ve,A as z,i as x,O as D,l as Ce,H as V,B as c,dm as U,ao as qe,m as Te,I as xe}from"./index-CdQEPL7L.js";const Ae=()=>{const{மொழியாக்கம்_பயன்படுத்து:s}=Q(),{$மொ:l}=s();return[{titre:l("épingler.aucun"),sousTitre:l("épingler.indiceAucun"),icône:"mdi-cancel",valeur:"AUCUN"},{titre:l("épingler.tous"),sousTitre:l("épingler.indiceTous"),icône:"mdi-devices",valeur:"TOUS"},{titre:l("épingler.installé"),sousTitre:l("épingler.indiceInstallé"),icône:"mdi-monitor",valeur:"INSTALLÉ"},{titre:l("épingler.dispositifsSpécifiques"),sousTitre:l("épingler.indiceDispositifsSpécifiques"),icône:"mdi-monitor-cellphone-star",valeur:"SPÉCIFIQUES"}]},E=(s,l="AUCUN")=>{const t=q(l),d=q([]),S=m(()=>t.value==="SPÉCIFIQUES"?d.value:t.value),f=m(()=>t.value==="SPÉCIFIQUES"?d.value?.length:!0),v=m(()=>s.value==="AUCUN"||s.value===void 0?t.value!=="AUCUN":Array.isArray(s.value)?!te(new Set(s.value),new Set(t.value)):s.value!==t.value);return $(()=>{t.value!=="SPÉCIFIQUES"&&(d.value=[])}),$(()=>{s.value===void 0?t.value="AUCUN":Array.isArray(s.value)||ne(s.value)?(t.value="SPÉCIFIQUES",d.value=Array.isArray(s.value)?s.value:[s.value]):(s.value==="INSTALLÉ"||s.value==="TOUS")&&(t.value=s.value)}),{sélection:t,spécifiques:d,dispositifs:S,valide:f,modifié:v}},P=R({__name:"SélectionDispositifs",props:{selection:{},selectionModifiers:{},specifiques:{},specifiquesModifiers:{}},emits:["update:selection","update:specifiques"],setup(s){const l=M(s,"selection"),t=M(s,"specifiques"),d=j(),{மொழியாக்கம்_பயன்படுத்து:S}=Q(),{$மொ:f}=S(),v=Ae(),b=H(d.suivreDispositifs);return(T,r)=>(J(),oe(fe,null,[i(de,{modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=n=>l.value=n),items:o(v),"prepend-inner-icon":o(v).find(n=>n.valeur===l.value)?.icône,"item-value":"valeur",variant:"plain"},{selection:a(({item:n})=>[g(C(n.raw.titre),1)]),item:a(({item:n,props:p})=>[i(ue,F(p,{title:n.raw.titre,subtitle:n.raw.sousTitre,"prepend-icon":n.raw.icône}),null,16,["title","subtitle","prepend-icon"])]),_:1},8,["modelValue","items","prepend-inner-icon"]),i(L,null,{default:a(()=>[O(i(re,{modelValue:t.value,"onUpdate:modelValue":r[1]||(r[1]=n=>t.value=n),items:o(b),label:o(f)("épingler.indiceSélectionnerDispositif"),chips:"","closable-chips":"",density:"compact",variant:"outlined",multiple:""},{chip:a(({props:n,item:p})=>[i(pe,F(n,{"id-dispositif":p.title}),null,16,["id-dispositif"])]),item:a(({props:n,item:p})=>[i(ce,F(n,{"id-dispositif":p.title}),null,16,["id-dispositif"])]),_:1},8,["modelValue","items","label"]),[[k,l.value==="SPÉCIFIQUES"]])]),_:1})],64))}}),_e={class:"mb-2"},Ie=R({__name:"ÉpinglerBd",props:{idBd:{}},setup(s){const l=s,t=j(),{mdAndUp:d}=ve(),{மொழியாக்கம்_பயன்படுத்து:S}=Q(),{$மொ:f}=S(),v=q(!1),b=q(!1),T=H(t.bds.suivreÉpingleBd,{idBd:l.idBd}),{sélection:r,dispositifs:n,spécifiques:p,valide:X,modifié:G}=E(m(()=>T.value?.base),"TOUS"),{sélection:A,dispositifs:K,spécifiques:_,valide:W,modifié:Y}=E(m(()=>T.value?.données.tableaux),"TOUS"),{sélection:w,dispositifs:Z,spécifiques:I,valide:h,modifié:ee}=E(m(()=>T.value?.données.fichiers),"INSTALLÉ"),ie=m(()=>X&&W&&h),se=m(()=>G.value||Y.value||ee.value),B=q(!1),le=async()=>{if(B.value=!0,n.value!=="AUCUN"){const N={type:"bd",base:n.value,fichiersBase:"TOUS",données:{tableaux:K.value,fichiers:Z.value}};await t.bds.épinglerBd({idBd:l.idBd,options:N})}else await ae();y()},ae=async()=>{await t.favoris.désépinglerFavori({idObjet:l.idBd})},y=()=>{v.value=!1,B.value=!1};return(N,e)=>(J(),me(xe,{modelValue:v.value,"onUpdate:modelValue":e[8]||(e[8]=u=>v.value=u),"max-width":o(d)?500:300},{activator:a(({props:u})=>[ge(N.$slots,"activator",be(Ue({props:u})))]),default:a(()=>[i(Te,null,{default:a(()=>[i(Se,null,{default:a(()=>[i(Ve,{class:"d-flex"},{default:a(()=>[g(C(o(f)("épingler.titre"))+" ",1),i(z),i(x,{icon:"mdi-close",size:"small",variant:"flat",onClick:y})]),_:1})]),_:1}),i(D),i(Ce,{style:{"overflow-y":"scroll"}},{default:a(()=>[i(V,{start:""},{default:a(()=>e[9]||(e[9]=[g("mdi-pin-outline")])),_:1}),e[14]||(e[14]=c("span",{class:"font-weight-bold"},"ஒட்டுக்கொள்ளும் சாதனங்கள்",-1)),i(P,{selection:o(r),"onUpdate:selection":e[0]||(e[0]=u=>U(r)?r.value=u:null),specifiques:o(p),"onUpdate:specifiques":e[1]||(e[1]=u=>U(p)?p.value=u:null)},null,8,["selection","specifiques"]),i(L,null,{default:a(()=>[O(c("div",null,[c("p",_e,[c("span",null,C(o(f)("épingler.optionsAvancées")),1),i(x,{icon:b.value?"mdi-chevron-up":"mdi-chevron-down",size:"xsmall",variant:"flat",onClick:e[2]||(e[2]=()=>b.value=!b.value)},null,8,["icon"])]),i(L,null,{default:a(()=>[O(c("div",null,[i(D,{class:"mb-2"}),c("p",null,[i(V,{start:""},{default:a(()=>e[10]||(e[10]=[g("mdi-table-multiple")])),_:1}),e[11]||(e[11]=c("span",{class:"font-weight-bold"},"தரவுகளை ஒட்டுக்கொள்ளும் சாதனங்கள்",-1))]),i(P,{selection:o(A),"onUpdate:selection":e[3]||(e[3]=u=>U(A)?A.value=u:null),specifiques:o(_),"onUpdate:specifiques":e[4]||(e[4]=u=>U(_)?_.value=u:null)},null,8,["selection","specifiques"]),c("p",null,[i(V,{start:""},{default:a(()=>e[12]||(e[12]=[g("mdi-image-multiple-outline")])),_:1}),e[13]||(e[13]=c("span",{class:"font-weight-bold"},"கோப்புரைகளை ஒட்டுக்கொள்ளும் சாதனங்கள்",-1))]),i(P,{selection:o(w),"onUpdate:selection":e[5]||(e[5]=u=>U(w)?w.value=u:null),specifiques:o(I),"onUpdate:specifiques":e[6]||(e[6]=u=>U(I)?I.value=u:null)},null,8,["selection","specifiques"])],512),[[k,b.value]])]),_:1})],512),[[k,o(r)!=="AUCUN"]])]),_:1})]),_:1}),i(D),i(qe,null,{default:a(()=>[i(z),i(x,{variant:"outlined",onClick:y},{default:a(()=>[g(C(o(f)("communs.fermer"))+" ",1),i(V,{icon:"mdi-close",end:""})]),_:1}),i(x,{color:"primary",variant:"outlined",loading:B.value,disabled:!ie.value||!se.value,onClick:e[7]||(e[7]=()=>le())},{default:a(()=>[g(C(o(f)("communs.sauvegarder"))+" ",1),i(V,{icon:"mdi-check",end:""})]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:3},8,["modelValue","max-width"]))}});export{Ie as _,P as a,E as o};
//# sourceMappingURL=ÉpinglerBd.vue_vue_type_script_setup_true_lang-D3hCe5xt.js.map

import{w,r as I,l as A,U as B,z as D,B as j,C as t,L as U,M as $,N as E,t as a,D as k,E as M,F as v,J as x,W as O,H as R,X as S,Y as z,Z as X,$ as P,R as e,P as h,K as q,கas L,a0 as F,a1 as y,a2 as G,a3 as H,a4 as J,x as K,a5 as W,a6 as Y,a7 as Z,a8 as Q,p as ee}from"./index-f34e550d.js";import{_ as ae}from"./TitrePage.vue_vue_type_script_setup_true_lang-e9caa102.js";const te=w({__name:"DialogueNoms",props:{titre:null,sousTitre:null,nomsInitiaux:null,indiceNom:null,indiceLangue:null,texteAucunNom:null},emits:["ajusterNoms"],setup(o,{emit:l}){const d=o,{useI18n:n}=L(),{t:N}=n(),i=I(!1),C=()=>{i.value=!1,r.value=d.nomsInitiaux},f=()=>{l("ajusterNoms",r.value),i.value=!1},r=I(d.nomsInitiaux),V=g=>{r.value=g},_=A(()=>!B(r.value,d.nomsInitiaux));return(g,m)=>(D(),j(q,{modelValue:i.value,"onUpdate:modelValue":m[0]||(m[0]=p=>i.value=p)},{activator:t(({props:p})=>[U(g.$slots,"activator",$(E({props:p})))]),default:t(()=>[a(h,null,{default:t(()=>[a(k,null,{default:t(()=>[a(M,null,{default:t(()=>[v(x(o.titre),1)]),_:1}),a(O,null,{default:t(()=>[v(x(o.sousTitre),1)]),_:1})]),_:1}),a(R,null,{default:t(()=>[a(S,{"noms-initiaux":o.nomsInitiaux,"texte-aucun-nom":o.texteAucunNom,"indice-langue":o.indiceLangue,"indice-nom":o.indiceNom,onAjusterNoms:V},null,8,["noms-initiaux","texte-aucun-nom","indice-langue","indice-nom"])]),_:1}),a(z,null,{default:t(()=>[a(X),a(P,{variant:"text",onClick:C},{default:t(()=>[v(x(e(N)("communs.fermer")),1)]),_:1}),a(P,{color:"primary",variant:"flat",disabled:!e(_),onClick:f},{default:t(()=>[v(x(e(N)("communs.sauvegarder")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:3},8,["modelValue"]))}}),oe=w({__name:"PageCompte",setup(o){const l=K("constl"),{useI18n:d}=L(),{$t:n}=d(),{mdAndUp:N}=F(),i=I(),C=A(()=>{if(i.value)return URL.createObjectURL(new Blob([i.value],{type:"image"}))});let f;y(async()=>{f=await l?.profil?.suivreImage({f:s=>i.value=s})}),G(async()=>{f&&await f()});const{obtImageDéco:r}=W(),V=r("profil"),_=async s=>{s?(console.log("ici",{image:s}),await l?.profil?.sauvegarderImage({image:s})):(console.log("là",{image:s}),await l?.profil?.effacerImage())},{traduireNom:g}=H(),m=I({}),p=g(m);let b;y(async()=>{b=await l?.profil?.suivreNoms({f:s=>m.value=s})}),y(async()=>{b&&await b()});const T=async s=>{for(const[c,u]of Object.entries(s))await l?.profil?.sauvegarderNom({langue:c,nom:u})};return(s,c)=>(D(),j(J,{class:"text-center"},{default:t(()=>[a(ae,{titre:e(n)("pages.compte.titre")},null,8,["titre"]),a(Z,{"src-image":e(C),"img-defaut":e(V),"taille-avatar":e(N)?275:175,editable:!0,"max-taille-image":e(Y),onImageChangee:c[0]||(c[0]=u=>_(u))},null,8,["src-image","img-defaut","taille-avatar","max-taille-image"]),Q("h1",null,[v(x(e(p)||e(n)("communs.anonyme"))+" ",1),a(te,{"indice-nom":e(n)("listeNomsProfil.indiceNom"),"indice-langue":e(n)("listeNomsProfil.indiceLangue"),"texte-aucun-nom":e(n)("listeNomsProfil.texteAucunNom"),"noms-initiaux":m.value,titre:e(n)("pages.compte.titreDialogueNoms"),"sous-titre":e(n)("pages.compte.sousTitreDialogueNoms"),onAjusterNoms:c[1]||(c[1]=u=>T(u))},{activator:t(({props:u})=>[a(P,ee(u,{icon:"mdi-pencil",variant:"flat"}),null,16)]),_:1},8,["indice-nom","indice-langue","texte-aucun-nom","noms-initiaux","titre","sous-titre"])])]),_:1}))}});export{oe as default};
//# sourceMappingURL=PageCompte-253abc68.js.map

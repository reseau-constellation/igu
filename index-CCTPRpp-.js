import{dr as b,ds as g,aP as S,r as v,dj as I,dt as w,cc as d,q as M,f as q,o as C,du as L}from"./index-Dcz4EOgu.js";function A(e){return b()?(g(e),!0):!1}const F=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const T=Object.prototype.toString,j=e=>T.call(e)==="[object Object]";function k(e){return Array.isArray(e)?e:[e]}function x(e,n=1e3,u={}){const{immediate:f=!0,immediateCallback:i=!1}=u;let l=null;const s=v(!1);function t(){l&&(clearInterval(l),l=null)}function o(){s.value=!1,t()}function a(){const r=w(n);r<=0||(s.value=!0,i&&e(),t(),s.value&&(l=setInterval(e,r)))}if(f&&F&&a(),I(n)||typeof n=="function"){const r=S(n,()=>{s.value&&F&&a()});A(r)}return A(o),{isActive:s,pause:o,resume:a}}function E(e,n,u){return S(e,n,{...u,immediate:!0})}const O=F?window:void 0;function W(e){var n;const u=w(e);return(n=u?.$el)!=null?n:u}function D(...e){const n=[],u=()=>{n.forEach(t=>t()),n.length=0},f=(t,o,a,r)=>(t.addEventListener(o,a,r),()=>t.removeEventListener(o,a,r)),i=M(()=>{const t=k(w(e[0])).filter(o=>o!=null);return t.every(o=>typeof o!="string")?t:void 0}),l=E(()=>{var t,o;return[(o=(t=i.value)==null?void 0:t.map(a=>W(a)))!=null?o:[O].filter(a=>a!=null),k(w(i.value?e[1]:e[0])),k(q(i.value?e[2]:e[1])),w(i.value?e[3]:e[2])]},([t,o,a,r])=>{if(u(),!t?.length||!o?.length||!a?.length)return;const m=j(r)?{...r}:r;n.push(...t.flatMap(p=>o.flatMap(c=>a.map(y=>f(p,c,y,m)))))},{flush:"post"}),s=()=>{l(),u()};return A(u),s}function N(){const e=v(!1),n=L();return n&&C(()=>{e.value=!0},n),e}function G(e){const n=N();return M(()=>(n.value,!!e()))}function P(e,n={}){const{immediate:u=!0,fpsLimit:f=void 0,window:i=O}=n,l=v(!1),s=M(()=>f?1e3/w(f):null);let t=0,o=null;function a(p){if(!l.value||!i)return;t||(t=p);const c=p-t;if(s.value&&c<s.value){o=i.requestAnimationFrame(a);return}t=p,e({delta:c,timestamp:p}),o=i.requestAnimationFrame(a)}function r(){!l.value&&i&&(l.value=!0,t=0,o=i.requestAnimationFrame(a))}function m(){l.value=!1,o!=null&&i&&(i.cancelAnimationFrame(o),o=null)}return u&&r(),A(m),{isActive:d(l),pause:m,resume:r}}function R(e={}){const{window:n=O}=e,u=n?.navigator,f=G(()=>u&&"connection"in u),i=v(!0),l=v(!1),s=v(void 0),t=v(void 0),o=v(void 0),a=v(void 0),r=v(void 0),m=v(void 0),p=v("unknown"),c=f.value&&u.connection;function y(){u&&(i.value=u.onLine,s.value=i.value?void 0:Date.now(),t.value=i.value?Date.now():void 0,c&&(o.value=c.downlink,a.value=c.downlinkMax,m.value=c.effectiveType,r.value=c.rtt,l.value=c.saveData,p.value=c.type))}const h={passive:!0};return n&&(D(n,"offline",()=>{i.value=!1,s.value=Date.now()},h),D(n,"online",()=>{i.value=!0,t.value=Date.now()},h)),c&&D(c,"change",y,h),y(),{isSupported:f,isOnline:d(i),saveData:d(l),offlineAt:d(s),onlineAt:d(t),downlink:d(o),downlinkMax:d(a),effectiveType:d(m),rtt:d(r),type:d(p)}}function B(e={}){const{controls:n=!1,interval:u="requestAnimationFrame"}=e,f=v(new Date),i=()=>f.value=new Date,l=u==="requestAnimationFrame"?P(i,{immediate:!0}):x(i,u,{immediate:!0});return n?{now:f,...l}:f}function $(e={}){const{isOnline:n}=R(e);return n}export{B as a,$ as u};
//# sourceMappingURL=index-CCTPRpp-.js.map

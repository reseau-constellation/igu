import{d as S,க as k,p as g,q as p,r as h,v as V,dS as x,a as u,c,w as a,e as n,t as f,f as w,A as N,E as v,M as T,o as O,cC as C,b,ம as I,ce as m,aB as E,ar as A,T as B,aE as F,R as J}from"./index-CqpVgT1a.js";const $=S({__name:"JetonFichierImportation",props:{spécification:{}},setup(y){const e=y,{மொழியாக்கம்_பயன்படுத்து:i}=k(),{$மொ:r}=i(),s=g(),l=p(()=>e.spécification.source.typeSource==="fichier"?o.value===void 0:!1),_=p(()=>e.spécification.source.typeSource==="url"||typeof o.value=="string"),o=h();V(async()=>{e.spécification.source.typeSource==="fichier"&&(o.value=await s.automatisations.résoudreAdressePrivéeFichier({clef:e.spécification.source.adresseFichier}))});const d=p(()=>e.spécification.source.typeSource==="fichier"?"mdi-file":"mdi-web"),t=p(()=>e.spécification.source.typeSource==="fichier"?o.value===void 0?"automatisation.rechercheFichier":o.value===null?"automatisations.fichierIntrouvable":x.parse(o.value).base:e.spécification.source.url.slice(-10)+r("communs.troisPetitsPoints"));return(P,j)=>(u(),c(T,null,{prepend:a(()=>[l.value?(u(),c(N,{key:0,indeterminate:"",color:"primary"})):_.value?(u(),c(v,{key:1},{default:a(()=>[n(f(d.value),1)]),_:1})):(u(),c(v,{key:2,color:"error"},{default:a(()=>j[0]||(j[0]=[n(" mdi-alert ")])),_:1}))]),default:a(()=>[n(" "+f(w(r)(t.value)),1)]),_:1}))}}),D=S({__name:"JetonStatutAutomatisation",props:{statut:{}},setup(y){const{மொழியாக்கம்_பயன்படுத்து:e}=k(),{$மொ:i}=e(),r=y,s=p(()=>{switch(r.statut.type){case"erreur":return{icône:"mdi-alert",couleur:"error"};case"programmée":return{icône:"mdi-check",couleur:"success"};case"sync":return{icône:"mdi-sync",couleur:"primary"};case"écoute":return{icône:"",couleur:"success"};default:throw new Error(JSON.stringify(r.statut))}}),l=h(new Date().getTime());let _;O(()=>{_=window.setInterval(()=>l.value=new Date().getTime(),1e3)}),C(()=>{_&&clearInterval(_)});const o=p(()=>{switch(r.statut.type){case"écoute":return"auto.jetonStatut.écoute";case"sync":return i("auto.jetonStatut.sync",{depuis:l.value-r.statut.depuis});case"programmée":return i("auto.jetonStatut.programmée",{dans:r.statut.à-l.value});case"erreur":return r.statut.prochaineProgramméeÀ?i("auto.jetonStatut.erreurRéssayer",{dans:r.statut.prochaineProgramméeÀ-l.value}):"auto.jetonStatut.erreur";default:throw new Error(r.statut)}});return(d,t)=>(u(),c(T,null,{prepend:a(()=>[d.statut.type==="sync"?(u(),c(N,{key:0,indeterminate:""},{default:a(()=>[b(v,{color:s.value.couleur},{default:a(()=>[n(f(s.value.icône),1)]),_:1},8,["color"])]),_:1})):(u(),c(v,{key:1,color:s.value.couleur},{default:a(()=>[n(f(s.value.icône),1)]),_:1},8,["color"]))]),default:a(()=>[n(" "+f(w(i)(o.value)),1)]),_:1}))}}),R=S({__name:"ItemAutomatisation",props:{spécification:{}},setup(y){const e=y,i=g(),{அகராதியிலிருந்து_மொழிபெயர்ப்பு:r}=I(),s=h();O(()=>{if(e.spécification.type==="importation")m(i.tableaux.suivreNomsTableau({idTableau:e.spécification.idTableau,f:t=>s.value=t}));else switch(e.spécification.typeObjet){case"tableau":m(i.tableaux.suivreNomsTableau({idTableau:e.spécification.idObjet,f:t=>s.value=t}));break;case"projet":m(i.projets.suivreNomsProjet({idProjet:e.spécification.idObjet,f:t=>s.value=t}));break;case"bd":m(i.bds.suivreNomsBd({idBd:e.spécification.idObjet,f:t=>s.value=t}));break;case"nuée":m(i.nuées.suivreNomsNuée({idNuée:e.spécification.idObjet,f:t=>s.value=t}));break;default:throw new Error(JSON.stringify(e.spécification))}});const l=r(s),_=p(()=>e.spécification.type==="importation"?"mdi-table":E(e.spécification.typeObjet)),o=h();m(i.automatisations.suivreÉtatAutomatisations({f:t=>o.value=t}));const d=p(()=>o.value?o.value[e.spécification.id]:void 0);return(t,P)=>(u(),c(J,null,{prepend:a(()=>[b(v,null,{default:a(()=>[n(f(t.spécification.type==="exportation"?"mdi-export":"mdi-import"),1)]),_:1})]),default:a(()=>[b(A,null,{default:a(()=>[b(v,null,{default:a(()=>[n(f(_.value),1)]),_:1}),n(" "+f(w(l)),1)]),_:1}),t.spécification.type==="importation"?(u(),c($,{key:0,spécification:t.spécification},null,8,["spécification"])):B("",!0),d.value?(u(),c(D,{key:1,statut:d.value},null,8,["statut"])):(u(),c(F,{key:2,type:"chip"}))]),_:1}))}});export{R as _};
//# sourceMappingURL=ItemAutomatisation.vue_vue_type_script_setup_true_lang-DBTFIBsA.js.map

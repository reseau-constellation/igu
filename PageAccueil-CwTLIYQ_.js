import{d as fe,u as vi,r as re,o as Zt,_ as ma,a as H,c as B,w,b as _,V as je,e as q,t as N,f as b,h as Xe,i as oe,j as Qt,U as Zc,k as Qc,l as We,m as De,க as ye,p as Br,n as vn,q as Kc,s as te,v as it,x as Q,y as el,z as wr,A as br,B as En,C as zr,D as $t,E as Mt,F as xe,G as _t,H as va,I as ga,J as xr,K as tl,L as ot,M as Cr,N as nl,O as bt,P as xt,Q as Re,R as ya,S as Ue,T as nt,W as rl,X as pt,Y as Tr,Z as _a,$ as il,a0 as gi,a1 as yi,a2 as ol,எ as _i,a3 as al,a4 as sl,a5 as wa,a6 as ul,a7 as cl,a8 as ll,a9 as fl,aa as dl,ab as yo,ac as Sn,ad as kn,ae as hl,af as pl,ag as wi,ah as bi,ai as _o,aj as ba,ak as xi,al as ml,am as vl,an as gl,ao as xa,ap as Ca,aq as yl,ar as _l,as as wl,at as wo,au as bl,av as bo,ம as Ta,aw as Mn,ax as $a,ay as Ma,az as xl,aA as Sa,aB as Cl,aC as Tl,aD as $l}from"./index-Dlr5smoe.js";import{Q as Ml,u as Sl,I as kl}from"./InviterDispositif-CDpOZfZB.js";import{V as Al,a as xo}from"./VTabs-M6nfCkoj.js";import{u as Ci}from"./historiqueDocuments-3CB4jZer.js";import{_ as Dl}from"./NouveauProjet.vue_vue_type_script_setup_true_lang-Dpie1CZX.js";import{_ as Pl}from"./TitrePage.vue_vue_type_script_setup_true_lang-CkQYXgtH.js";const El=fe({__name:"PanelApprendre",setup(e){const{மொழியாக்கம்_பயன்படுத்து:t}=ye(),{$மொ:n}=t(),{isRtl:r}=vi(),i=re();return Zt(async()=>{i.value=(await ma(async()=>{const{default:s}=await import("./trianglify-lowres-D7XsY33-.js");return{default:s}},[],import.meta.url)).default}),(s,u)=>(H(),B(De,{class:"text-start",variant:"flat",height:"175",image:i.value},{default:w(()=>[_(Xe,null,{default:w(()=>[_(je,null,{default:w(()=>[q(N(b(n)("accueil.page.apprendre.titre")),1)]),_:1})]),_:1}),_(We,null,{default:w(()=>[_(oe,{class:"ma-2","prepend-icon":"mdi-school-outline","append-icon":b(r)?"mdi-chevron-left":"mdi-chevron-right",onClick:u[0]||(u[0]=()=>b(Qt)(b(Zc)))},{default:w(()=>[q(N(b(n)("accueil.page.apprendre.tutoriel")),1)]),_:1},8,["append-icon"]),_(oe,{class:"ma-2","prepend-icon":"mdi-book-open-variant-outline","append-icon":b(r)?"mdi-chevron-left":"mdi-chevron-right",onClick:u[1]||(u[1]=()=>b(Qt)(b(Qc)))},{default:w(()=>[q(N(b(n)("accueil.page.apprendre.docu")),1)]),_:1},8,["append-icon"])]),_:1})]),_:1},8,["image"]))}});var ka=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Co=(e,t,n)=>(ka(e,t,"read from private field"),n?n.call(e):t.get(e)),Ol=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Rl=(e,t,n,r)=>(ka(e,t,"write to private field"),t.set(e,n),n);const Aa=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"]],Il=[...Aa,["unknown"]].map(e=>e[0]),er=new Map(Aa);function Nl(e){for(const[t,n]of er)if(e===n)return t;return"unknown"}function Ul(e){if(Da(e))return{width:e.naturalWidth,height:e.naturalHeight};if(Pa(e))return{width:e.width.baseVal.value,height:e.height.baseVal.value};if(Ea(e))return{width:e.videoWidth,height:e.videoHeight};if(Ra(e))return{width:e.width,height:e.height};if(Na(e))return{width:e.displayWidth,height:e.displayHeight};if(Oa(e))return{width:e.width,height:e.height};if(Ia(e))return{width:e.width,height:e.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function Da(e){try{return e instanceof HTMLImageElement}catch{return!1}}function Pa(e){try{return e instanceof SVGImageElement}catch{return!1}}function Ea(e){try{return e instanceof HTMLVideoElement}catch{return!1}}function Oa(e){try{return e instanceof HTMLCanvasElement}catch{return!1}}function Ra(e){try{return e instanceof ImageBitmap}catch{return!1}}function Ia(e){try{return e instanceof OffscreenCanvas}catch{return!1}}function Na(e){try{return e instanceof VideoFrame}catch{return!1}}function Ua(e){try{return e instanceof Blob}catch{return!1}}function Fl(e){try{return e instanceof ImageData}catch{return!1}}function Ll(e,t){try{const n=new OffscreenCanvas(e,t);if(n.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return n;throw void 0}catch{const r=document.createElement("canvas");return r.width=e,r.height=t,r}}async function Fa(e){if(Da(e)&&!await jl(e))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(Pa(e)&&!await Wl(e))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(Na(e)&&Yl(e))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(Ea(e)&&(e.readyState===0||e.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(Ra(e)&&zl(e))throw new DOMException("The image source is detached.","InvalidStateError");const{width:t,height:n}=Ul(e);if(t===0||n===0)return null;const r=Ll(t,n).getContext("2d");r.drawImage(e,0,0);try{return r.getImageData(0,0,t,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function Vl(e){let t;try{if(globalThis.createImageBitmap)t=await createImageBitmap(e);else if(globalThis.Image){t=new Image;let n="";try{n=URL.createObjectURL(e),t.src=n,await t.decode()}finally{URL.revokeObjectURL(n)}}else return e}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await Fa(t)}function ql(e){const{width:t,height:n}=e;if(t===0||n===0)return null;const r=e.getContext("2d");try{return r.getImageData(0,0,t,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function Hl(e){if(Ua(e))return await Vl(e);if(Fl(e)){if(Bl(e))throw new DOMException("The image data has been detached.","InvalidStateError");return e}return Oa(e)||Ia(e)?ql(e):await Fa(e)}async function jl(e){try{return await e.decode(),!0}catch{return!1}}async function Wl(e){var t;try{return await((t=e.decode)==null?void 0:t.call(e)),!0}catch{return!1}}function Yl(e){return e.format===null}function Bl(e){return e.data.buffer.byteLength===0}function zl(e){return e.width===0&&e.height===0}function To(e,t){return e instanceof DOMException?new DOMException(`${t}: ${e.message}`,e.name):e instanceof Error?new e.constructor(`${t}: ${e.message}`):new Error(`${t}: ${e}`)}const $o=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","DXFilmEdge","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","rMQRCode","UPC-A","UPC-E"];function Jl(e){return e.join("|")}function Xl(e){const t=Mo(e);let n=0,r=$o.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),s=$o[i],u=Mo(s);if(u===t)return s;u<t?n=i+1:r=i-1}return"None"}function Mo(e){return e.toLowerCase().replace(/_-\[\]/g,"")}function Gl(e,t){return e.Binarizer[t]}function Zl(e,t){return e.CharacterSet[t]}const Ql=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function Kl(e){return Ql[e.value]}function ef(e,t){return e.EanAddOnSymbol[t]}function tf(e,t){return e.TextMode[t]}const Kt={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function La(e,t){return{...t,formats:Jl(t.formats),binarizer:Gl(e,t.binarizer),eanAddOnSymbol:ef(e,t.eanAddOnSymbol),textMode:tf(e,t.textMode),characterSet:Zl(e,t.characterSet)}}function Va(e){return{...e,format:Xl(e.format),eccLevel:e.eccLevel,contentType:Kl(e.contentType)}}const nf={locateFile:(e,t)=>{const n=e.match(/_(.+?)\.wasm$/);return n?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.1.3/dist/${n[1]}/${e}`:t+e}};let So=new WeakMap;function Ti(e,t){var n;const r=So.get(e);if(r!=null&&r.modulePromise&&t===void 0)return r.modulePromise;const i=(n=r?.moduleOverrides)!=null?n:nf,s=e({...i});return So.set(e,{moduleOverrides:i,modulePromise:s}),s}async function rf(e,t,n=Kt){const r={...Kt,...n},i=await Ti(e),{size:s}=t,u=new Uint8Array(await t.arrayBuffer()),d=i._malloc(s);i.HEAPU8.set(u,d);const c=i.readBarcodesFromImage(d,s,La(i,r));i._free(d);const f=[];for(let p=0;p<c.size();++p)f.push(Va(c.get(p)));return f}async function of(e,t,n=Kt){const r={...Kt,...n},i=await Ti(e),{data:s,width:u,height:d,data:{byteLength:c}}=t,f=i._malloc(c);i.HEAPU8.set(s,f);const p=i.readBarcodesFromPixmap(f,u,d,La(i,r));i._free(f);const m=[];for(let v=0;v<p.size();++v)m.push(Va(p.get(v)));return m}({...Kt,formats:[...Kt.formats]});var $i=(()=>{var e=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(t={}){var n=t,r,i;n.ready=new Promise((o,a)=>{r=o,i=a});var s=Object.assign({},n),u="./this.program",d=typeof window=="object",c=typeof importScripts=="function";typeof Br=="object"&&typeof Br.versions=="object"&&Br.versions.node;var f="";function p(o){return n.locateFile?n.locateFile(o,f):f+o}var m;(d||c)&&(c?f=self.location.href:typeof document<"u"&&document.currentScript&&(f=document.currentScript.src),e&&(f=e),f.indexOf("blob:")!==0?f=f.substr(0,f.replace(/[?#].*/,"").lastIndexOf("/")+1):f="",c&&(m=o=>{var a=new XMLHttpRequest;return a.open("GET",o,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)})),n.print||console.log.bind(console);var v=n.printErr||console.error.bind(console);Object.assign(n,s),s=null,n.arguments&&n.arguments,n.thisProgram&&(u=n.thisProgram),n.quit&&n.quit;var y;n.wasmBinary&&(y=n.wasmBinary),typeof WebAssembly!="object"&&Ee("no native wasm support detected");var S,D=!1,O,F,z,E,k,$,L,G;function Te(){var o=S.buffer;n.HEAP8=O=new Int8Array(o),n.HEAP16=z=new Int16Array(o),n.HEAPU8=F=new Uint8Array(o),n.HEAPU16=E=new Uint16Array(o),n.HEAP32=k=new Int32Array(o),n.HEAPU32=$=new Uint32Array(o),n.HEAPF32=L=new Float32Array(o),n.HEAPF64=G=new Float64Array(o)}var Pe=[],Ae=[],W=[];function ae(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)yt(n.preRun.shift());Z(Pe)}function se(){Z(Ae)}function Le(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Ve(n.postRun.shift());Z(W)}function yt(o){Pe.unshift(o)}function Ze(o){Ae.unshift(o)}function Ve(o){W.unshift(o)}var ke=0,_e=null;function an(o){var a;ke++,(a=n.monitorRunDependencies)===null||a===void 0||a.call(n,ke)}function Qe(o){var a;if(ke--,(a=n.monitorRunDependencies)===null||a===void 0||a.call(n,ke),ke==0&&_e){var l=_e;_e=null,l()}}function Ee(o){var a;(a=n.onAbort)===null||a===void 0||a.call(n,o),o="Aborted("+o+")",v(o),D=!0,o+=". Build with -sASSERTIONS for more info.";var l=new WebAssembly.RuntimeError(o);throw i(l),l}var sn="data:application/octet-stream;base64,",Ut=o=>o.startsWith(sn),Ke;Ke="zxing_reader.wasm",Ut(Ke)||(Ke=p(Ke));function Ft(o){if(o==Ke&&y)return new Uint8Array(y);if(m)return m(o);throw"both async and sync fetching of the wasm failed"}function un(o){return!y&&(d||c)&&typeof fetch=="function"?fetch(o,{credentials:"same-origin"}).then(a=>{if(!a.ok)throw"failed to load wasm binary file at '"+o+"'";return a.arrayBuffer()}).catch(()=>Ft(o)):Promise.resolve().then(()=>Ft(o))}function Lt(o,a,l){return un(o).then(h=>WebAssembly.instantiate(h,a)).then(h=>h).then(l,h=>{v(`failed to asynchronously prepare wasm: ${h}`),Ee(h)})}function U(o,a,l,h){return!o&&typeof WebAssembly.instantiateStreaming=="function"&&!Ut(a)&&typeof fetch=="function"?fetch(a,{credentials:"same-origin"}).then(g=>{var x=WebAssembly.instantiateStreaming(g,l);return x.then(h,function(C){return v(`wasm streaming compile failed: ${C}`),v("falling back to ArrayBuffer instantiation"),Lt(a,l,h)})}):Lt(a,l,h)}function X(){var o={a:Ac};function a(h,g){return ge=h.exports,S=ge.ia,Te(),Gi=ge.ma,Ze(ge.ja),Qe(),ge}an();function l(h){a(h.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(o,a)}catch(h){v(`Module.instantiateWasm callback failed with error: ${h}`),i(h)}return U(y,Ke,o,l).catch(i),{}}var Z=o=>{for(;o.length>0;)o.shift()(n)};n.noExitRuntime;var A=[],we=0,ne=o=>{var a=new Ye(o);return a.get_caught()||(a.set_caught(!0),we--),a.set_rethrown(!1),A.push(a),lo(a.excPtr),a.get_exception_ptr()},ue=0,Oe=()=>{ce(0,0);var o=A.pop();co(o.excPtr),ue=0};function Ye(o){this.excPtr=o,this.ptr=o-24,this.set_type=function(a){$[this.ptr+4>>2]=a},this.get_type=function(){return $[this.ptr+4>>2]},this.set_destructor=function(a){$[this.ptr+8>>2]=a},this.get_destructor=function(){return $[this.ptr+8>>2]},this.set_caught=function(a){a=a?1:0,O[this.ptr+12>>0]=a},this.get_caught=function(){return O[this.ptr+12>>0]!=0},this.set_rethrown=function(a){a=a?1:0,O[this.ptr+13>>0]=a},this.get_rethrown=function(){return O[this.ptr+13>>0]!=0},this.init=function(a,l){this.set_adjusted_ptr(0),this.set_type(a),this.set_destructor(l)},this.set_adjusted_ptr=function(a){$[this.ptr+16>>2]=a},this.get_adjusted_ptr=function(){return $[this.ptr+16>>2]},this.get_exception_ptr=function(){var a=ho(this.get_type());if(a)return $[this.excPtr>>2];var l=this.get_adjusted_ptr();return l!==0?l:this.excPtr}}var Un=o=>{throw ue||(ue=o),ue},Ar=o=>{var a=ue;if(!a)return mn(0),0;var l=new Ye(a);l.set_adjusted_ptr(a);var h=l.get_type();if(!h)return mn(0),a;for(var g in o){var x=o[g];if(x===0||x===h)break;var C=l.ptr+16;if(fo(x,h,C))return mn(x),a}return mn(h),a},Bs=()=>Ar([]),zs=o=>Ar([o]),Js=(o,a)=>Ar([o,a]),Xs=()=>{var o=A.pop();o||Ee("no exception to throw");var a=o.excPtr;throw o.get_rethrown()||(A.push(o),o.set_rethrown(!0),o.set_caught(!1),we++),ue=a,ue},Gs=(o,a,l)=>{var h=new Ye(o);throw h.init(a,l),ue=o,we++,ue},Zs=()=>we,Fn={},Dr=o=>{for(;o.length;){var a=o.pop(),l=o.pop();l(a)}};function Pr(o){return this.fromWireType(k[o>>2])}var Vt={},St={},Ln={},qi,Vn=o=>{throw new qi(o)},kt=(o,a,l)=>{o.forEach(function(T){Ln[T]=a});function h(T){var M=l(T);M.length!==o.length&&Vn("Mismatched type converter count");for(var R=0;R<o.length;++R)et(o[R],M[R])}var g=new Array(a.length),x=[],C=0;a.forEach((T,M)=>{St.hasOwnProperty(T)?g[M]=St[T]:(x.push(T),Vt.hasOwnProperty(T)||(Vt[T]=[]),Vt[T].push(()=>{g[M]=St[T],++C,C===x.length&&h(g)}))}),x.length===0&&h(g)},Qs=o=>{var a=Fn[o];delete Fn[o];var l=a.rawConstructor,h=a.rawDestructor,g=a.fields,x=g.map(C=>C.getterReturnType).concat(g.map(C=>C.setterArgumentType));kt([o],x,C=>{var T={};return g.forEach((M,R)=>{var I=M.fieldName,j=C[R],Y=M.getter,J=M.getterContext,le=C[R+g.length],me=M.setter,ie=M.setterContext;T[I]={read:Me=>j.fromWireType(Y(J,Me)),write:(Me,P)=>{var V=[];me(ie,Me,le.toWireType(V,P)),Dr(V)}}}),[{name:a.name,fromWireType:M=>{var R={};for(var I in T)R[I]=T[I].read(M);return h(M),R},toWireType:(M,R)=>{for(var I in T)if(!(I in R))throw new TypeError(`Missing field: "${I}"`);var j=l();for(I in T)T[I].write(j,R[I]);return M!==null&&M.push(h,j),j},argPackAdvance:tt,readValueFromPointer:Pr,destructorFunction:h}]})},Ks=(o,a,l,h,g)=>{},eu=()=>{for(var o=new Array(256),a=0;a<256;++a)o[a]=String.fromCharCode(a);Hi=o},Hi,$e=o=>{for(var a="",l=o;F[l];)a+=Hi[F[l++]];return a},qt,K=o=>{throw new qt(o)};function tu(o,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var h=a.name;if(o||K(`type "${h}" must have a positive integer typeid pointer`),St.hasOwnProperty(o)){if(l.ignoreDuplicateRegistrations)return;K(`Cannot register type '${h}' twice`)}if(St[o]=a,delete Ln[o],Vt.hasOwnProperty(o)){var g=Vt[o];delete Vt[o],g.forEach(x=>x())}}function et(o,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!("argPackAdvance"in a))throw new TypeError("registerType registeredInstance requires argPackAdvance");return tu(o,a,l)}var tt=8,nu=(o,a,l,h)=>{a=$e(a),et(o,{name:a,fromWireType:function(g){return!!g},toWireType:function(g,x){return x?l:h},argPackAdvance:tt,readValueFromPointer:function(g){return this.fromWireType(F[g])},destructorFunction:null})},ru=o=>({count:o.count,deleteScheduled:o.deleteScheduled,preservePointerOnDelete:o.preservePointerOnDelete,ptr:o.ptr,ptrType:o.ptrType,smartPtr:o.smartPtr,smartPtrType:o.smartPtrType}),Er=o=>{function a(l){return l.$$.ptrType.registeredClass.name}K(a(o)+" instance already deleted")},Or=!1,ji=o=>{},iu=o=>{o.smartPtr?o.smartPtrType.rawDestructor(o.smartPtr):o.ptrType.registeredClass.rawDestructor(o.ptr)},Wi=o=>{o.count.value-=1;var a=o.count.value===0;a&&iu(o)},Yi=(o,a,l)=>{if(a===l)return o;if(l.baseClass===void 0)return null;var h=Yi(o,a,l.baseClass);return h===null?null:l.downcast(h)},Bi={},ou=()=>Object.keys(fn).length,au=()=>{var o=[];for(var a in fn)fn.hasOwnProperty(a)&&o.push(fn[a]);return o},cn=[],Rr=()=>{for(;cn.length;){var o=cn.pop();o.$$.deleteScheduled=!1,o.delete()}},ln,su=o=>{ln=o,cn.length&&ln&&ln(Rr)},uu=()=>{n.getInheritedInstanceCount=ou,n.getLiveInheritedInstances=au,n.flushPendingDeletes=Rr,n.setDelayFunction=su},fn={},cu=(o,a)=>{for(a===void 0&&K("ptr should not be undefined");o.baseClass;)a=o.upcast(a),o=o.baseClass;return a},lu=(o,a)=>(a=cu(o,a),fn[a]),qn=(o,a)=>{(!a.ptrType||!a.ptr)&&Vn("makeClassHandle requires ptr and ptrType");var l=!!a.smartPtrType,h=!!a.smartPtr;return l!==h&&Vn("Both smartPtrType and smartPtr must be specified"),a.count={value:1},dn(Object.create(o,{$$:{value:a,writable:!0}}))};function fu(o){var a=this.getPointee(o);if(!a)return this.destructor(o),null;var l=lu(this.registeredClass,a);if(l!==void 0){if(l.$$.count.value===0)return l.$$.ptr=a,l.$$.smartPtr=o,l.clone();var h=l.clone();return this.destructor(o),h}function g(){return this.isSmartPointer?qn(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:a,smartPtrType:this,smartPtr:o}):qn(this.registeredClass.instancePrototype,{ptrType:this,ptr:o})}var x=this.registeredClass.getActualType(a),C=Bi[x];if(!C)return g.call(this);var T;this.isConst?T=C.constPointerType:T=C.pointerType;var M=Yi(a,this.registeredClass,T.registeredClass);return M===null?g.call(this):this.isSmartPointer?qn(T.registeredClass.instancePrototype,{ptrType:T,ptr:M,smartPtrType:this,smartPtr:o}):qn(T.registeredClass.instancePrototype,{ptrType:T,ptr:M})}var dn=o=>typeof FinalizationRegistry>"u"?(dn=a=>a,o):(Or=new FinalizationRegistry(a=>{Wi(a.$$)}),dn=a=>{var l=a.$$,h=!!l.smartPtr;if(h){var g={$$:l};Or.register(a,g,a)}return a},ji=a=>Or.unregister(a),dn(o)),du=()=>{Object.assign(Hn.prototype,{isAliasOf(o){if(!(this instanceof Hn)||!(o instanceof Hn))return!1;var a=this.$$.ptrType.registeredClass,l=this.$$.ptr;o.$$=o.$$;for(var h=o.$$.ptrType.registeredClass,g=o.$$.ptr;a.baseClass;)l=a.upcast(l),a=a.baseClass;for(;h.baseClass;)g=h.upcast(g),h=h.baseClass;return a===h&&l===g},clone(){if(this.$$.ptr||Er(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var o=dn(Object.create(Object.getPrototypeOf(this),{$$:{value:ru(this.$$)}}));return o.$$.count.value+=1,o.$$.deleteScheduled=!1,o},delete(){this.$$.ptr||Er(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&K("Object already scheduled for deletion"),ji(this),Wi(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Er(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&K("Object already scheduled for deletion"),cn.push(this),cn.length===1&&ln&&ln(Rr),this.$$.deleteScheduled=!0,this}})};function Hn(){}var hn=(o,a)=>Object.defineProperty(a,"name",{value:o}),zi=(o,a,l)=>{if(o[a].overloadTable===void 0){var h=o[a];o[a]=function(){return o[a].overloadTable.hasOwnProperty(arguments.length)||K(`Function '${l}' called with an invalid number of arguments (${arguments.length}) - expects one of (${o[a].overloadTable})!`),o[a].overloadTable[arguments.length].apply(this,arguments)},o[a].overloadTable=[],o[a].overloadTable[h.argCount]=h}},Ir=(o,a,l)=>{n.hasOwnProperty(o)?((l===void 0||n[o].overloadTable!==void 0&&n[o].overloadTable[l]!==void 0)&&K(`Cannot register public name '${o}' twice`),zi(n,o,o),n.hasOwnProperty(l)&&K(`Cannot register multiple overloads of a function with the same number of arguments (${l})!`),n[o].overloadTable[l]=a):(n[o]=a,l!==void 0&&(n[o].numArguments=l))},hu=48,pu=57,mu=o=>{if(o===void 0)return"_unknown";o=o.replace(/[^a-zA-Z0-9_]/g,"$");var a=o.charCodeAt(0);return a>=hu&&a<=pu?`_${o}`:o};function vu(o,a,l,h,g,x,C,T){this.name=o,this.constructor=a,this.instancePrototype=l,this.rawDestructor=h,this.baseClass=g,this.getActualType=x,this.upcast=C,this.downcast=T,this.pureVirtualFunctions=[]}var Nr=(o,a,l)=>{for(;a!==l;)a.upcast||K(`Expected null or instance of ${l.name}, got an instance of ${a.name}`),o=a.upcast(o),a=a.baseClass;return o};function gu(o,a){if(a===null)return this.isReference&&K(`null is not a valid ${this.name}`),0;a.$$||K(`Cannot pass "${qr(a)}" as a ${this.name}`),a.$$.ptr||K(`Cannot pass deleted object as a pointer of type ${this.name}`);var l=a.$$.ptrType.registeredClass,h=Nr(a.$$.ptr,l,this.registeredClass);return h}function yu(o,a){var l;if(a===null)return this.isReference&&K(`null is not a valid ${this.name}`),this.isSmartPointer?(l=this.rawConstructor(),o!==null&&o.push(this.rawDestructor,l),l):0;(!a||!a.$$)&&K(`Cannot pass "${qr(a)}" as a ${this.name}`),a.$$.ptr||K(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&a.$$.ptrType.isConst&&K(`Cannot convert argument of type ${a.$$.smartPtrType?a.$$.smartPtrType.name:a.$$.ptrType.name} to parameter type ${this.name}`);var h=a.$$.ptrType.registeredClass;if(l=Nr(a.$$.ptr,h,this.registeredClass),this.isSmartPointer)switch(a.$$.smartPtr===void 0&&K("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:a.$$.smartPtrType===this?l=a.$$.smartPtr:K(`Cannot convert argument of type ${a.$$.smartPtrType?a.$$.smartPtrType.name:a.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:l=a.$$.smartPtr;break;case 2:if(a.$$.smartPtrType===this)l=a.$$.smartPtr;else{var g=a.clone();l=this.rawShare(l,ut.toHandle(()=>g.delete())),o!==null&&o.push(this.rawDestructor,l)}break;default:K("Unsupporting sharing policy")}return l}function _u(o,a){if(a===null)return this.isReference&&K(`null is not a valid ${this.name}`),0;a.$$||K(`Cannot pass "${qr(a)}" as a ${this.name}`),a.$$.ptr||K(`Cannot pass deleted object as a pointer of type ${this.name}`),a.$$.ptrType.isConst&&K(`Cannot convert argument of type ${a.$$.ptrType.name} to parameter type ${this.name}`);var l=a.$$.ptrType.registeredClass,h=Nr(a.$$.ptr,l,this.registeredClass);return h}function Ji(o){return this.fromWireType($[o>>2])}var wu=()=>{Object.assign(jn.prototype,{getPointee(o){return this.rawGetPointee&&(o=this.rawGetPointee(o)),o},destructor(o){var a;(a=this.rawDestructor)===null||a===void 0||a.call(this,o)},argPackAdvance:tt,readValueFromPointer:Ji,deleteObject(o){o!==null&&o.delete()},fromWireType:fu})};function jn(o,a,l,h,g,x,C,T,M,R,I){this.name=o,this.registeredClass=a,this.isReference=l,this.isConst=h,this.isSmartPointer=g,this.pointeeType=x,this.sharingPolicy=C,this.rawGetPointee=T,this.rawConstructor=M,this.rawShare=R,this.rawDestructor=I,!g&&a.baseClass===void 0?h?(this.toWireType=gu,this.destructorFunction=null):(this.toWireType=_u,this.destructorFunction=null):this.toWireType=yu}var Xi=(o,a,l)=>{n.hasOwnProperty(o)||Vn("Replacing nonexistant public symbol"),n[o].overloadTable!==void 0&&l!==void 0?n[o].overloadTable[l]=a:(n[o]=a,n[o].argCount=l)},bu=(o,a,l)=>{var h=n["dynCall_"+o];return l&&l.length?h.apply(null,[a].concat(l)):h.call(null,a)},Wn=[],Gi,de=o=>{var a=Wn[o];return a||(o>=Wn.length&&(Wn.length=o+1),Wn[o]=a=Gi.get(o)),a},xu=(o,a,l)=>{if(o.includes("j"))return bu(o,a,l);var h=de(a).apply(null,l);return h},Cu=(o,a)=>{var l=[];return function(){return l.length=0,Object.assign(l,arguments),xu(o,a,l)}},Be=(o,a)=>{o=$e(o);function l(){return o.includes("j")?Cu(o,a):de(a)}var h=l();return typeof h!="function"&&K(`unknown function pointer with signature ${o}: ${a}`),h},Tu=(o,a)=>{var l=hn(a,function(h){this.name=a,this.message=h;var g=new Error(h).stack;g!==void 0&&(this.stack=this.toString()+`
`+g.replace(/^Error(:[^\n]*)?\n/,""))});return l.prototype=Object.create(o.prototype),l.prototype.constructor=l,l.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},l},Zi,Qi=o=>{var a=uo(o),l=$e(a);return ct(a),l},Yn=(o,a)=>{var l=[],h={};function g(x){if(!h[x]&&!St[x]){if(Ln[x]){Ln[x].forEach(g);return}l.push(x),h[x]=!0}}throw a.forEach(g),new Zi(`${o}: `+l.map(Qi).join([", "]))},$u=(o,a,l,h,g,x,C,T,M,R,I,j,Y)=>{I=$e(I),x=Be(g,x),T&&(T=Be(C,T)),R&&(R=Be(M,R)),Y=Be(j,Y);var J=mu(I);Ir(J,function(){Yn(`Cannot construct ${I} due to unbound types`,[h])}),kt([o,a,l],h?[h]:[],function(le){le=le[0];var me,ie;h?(me=le.registeredClass,ie=me.instancePrototype):ie=Hn.prototype;var Me=hn(I,function(){if(Object.getPrototypeOf(this)!==P)throw new qt("Use 'new' to construct "+I);if(V.constructor_body===void 0)throw new qt(I+" has no accessible constructor");var go=V.constructor_body[arguments.length];if(go===void 0)throw new qt(`Tried to invoke ctor of ${I} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(V.constructor_body).toString()}) parameters instead!`);return go.apply(this,arguments)}),P=Object.create(ie,{constructor:{value:Me}});Me.prototype=P;var V=new vu(I,Me,P,Y,me,x,T,R);if(V.baseClass){var ve,be;(be=(ve=V.baseClass).__derivedClasses)!==null&&be!==void 0||(ve.__derivedClasses=[]),V.baseClass.__derivedClasses.push(V)}var Ht=new jn(I,V,!0,!1,!1),Jn=new jn(I+"*",V,!1,!1,!1),vo=new jn(I+" const*",V,!1,!0,!1);return Bi[o]={pointerType:Jn,constPointerType:vo},Xi(J,Me),[Ht,Jn,vo]})},Ur=(o,a)=>{for(var l=[],h=0;h<o;h++)l.push($[a+h*4>>2]);return l};function Mu(o){for(var a=1;a<o.length;++a)if(o[a]!==null&&o[a].destructorFunction===void 0)return!0;return!1}function Fr(o,a,l,h,g,x){var C=a.length;C<2&&K("argTypes array size mismatch! Must at least get return value and 'this' types!");var T=a[1]!==null&&l!==null,M=Mu(a),R=a[0].name!=="void",I=C-2,j=new Array(I),Y=[],J=[],le=function(){arguments.length!==I&&K(`function ${o} called with ${arguments.length} arguments, expected ${I}`),J.length=0;var me;Y.length=T?2:1,Y[0]=g,T&&(me=a[1].toWireType(J,this),Y[1]=me);for(var ie=0;ie<I;++ie)j[ie]=a[ie+2].toWireType(J,arguments[ie]),Y.push(j[ie]);var Me=h.apply(null,Y);function P(V){if(M)Dr(J);else for(var ve=T?1:2;ve<a.length;ve++){var be=ve===1?me:j[ve-2];a[ve].destructorFunction!==null&&a[ve].destructorFunction(be)}if(R)return a[0].fromWireType(V)}return P(Me)};return hn(o,le)}var Su=(o,a,l,h,g,x)=>{var C=Ur(a,l);g=Be(h,g),kt([],[o],function(T){T=T[0];var M=`constructor ${T.name}`;if(T.registeredClass.constructor_body===void 0&&(T.registeredClass.constructor_body=[]),T.registeredClass.constructor_body[a-1]!==void 0)throw new qt(`Cannot register multiple constructors with identical number of parameters (${a-1}) for class '${T.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return T.registeredClass.constructor_body[a-1]=()=>{Yn(`Cannot construct ${T.name} due to unbound types`,C)},kt([],C,R=>(R.splice(1,0,null),T.registeredClass.constructor_body[a-1]=Fr(M,R,null,g,x),[])),[]})},Ki=o=>{o=o.trim();const a=o.indexOf("(");return a!==-1?o.substr(0,a):o},ku=(o,a,l,h,g,x,C,T,M)=>{var R=Ur(l,h);a=$e(a),a=Ki(a),x=Be(g,x),kt([],[o],function(I){I=I[0];var j=`${I.name}.${a}`;a.startsWith("@@")&&(a=Symbol[a.substring(2)]),T&&I.registeredClass.pureVirtualFunctions.push(a);function Y(){Yn(`Cannot call ${j} due to unbound types`,R)}var J=I.registeredClass.instancePrototype,le=J[a];return le===void 0||le.overloadTable===void 0&&le.className!==I.name&&le.argCount===l-2?(Y.argCount=l-2,Y.className=I.name,J[a]=Y):(zi(J,a,j),J[a].overloadTable[l-2]=Y),kt([],R,function(me){var ie=Fr(j,me,I,x,C);return J[a].overloadTable===void 0?(ie.argCount=l-2,J[a]=ie):J[a].overloadTable[l-2]=ie,[]}),[]})};function Au(){Object.assign(eo.prototype,{get(o){return this.allocated[o]},has(o){return this.allocated[o]!==void 0},allocate(o){var a=this.freelist.pop()||this.allocated.length;return this.allocated[a]=o,a},free(o){this.allocated[o]=void 0,this.freelist.push(o)}})}function eo(){this.allocated=[void 0],this.freelist=[]}var qe=new eo,Lr=o=>{o>=qe.reserved&&--qe.get(o).refcount===0&&qe.free(o)},Du=()=>{for(var o=0,a=qe.reserved;a<qe.allocated.length;++a)qe.allocated[a]!==void 0&&++o;return o},Pu=()=>{qe.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),qe.reserved=qe.allocated.length,n.count_emval_handles=Du},ut={toValue:o=>(o||K("Cannot use deleted val. handle = "+o),qe.get(o).value),toHandle:o=>{switch(o){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return qe.allocate({refcount:1,value:o})}}},Eu=(o,a)=>{a=$e(a),et(o,{name:a,fromWireType:l=>{var h=ut.toValue(l);return Lr(l),h},toWireType:(l,h)=>ut.toHandle(h),argPackAdvance:tt,readValueFromPointer:Pr,destructorFunction:null})},Ou=(o,a,l)=>{switch(a){case 1:return l?function(h){return this.fromWireType(O[h>>0])}:function(h){return this.fromWireType(F[h>>0])};case 2:return l?function(h){return this.fromWireType(z[h>>1])}:function(h){return this.fromWireType(E[h>>1])};case 4:return l?function(h){return this.fromWireType(k[h>>2])}:function(h){return this.fromWireType($[h>>2])};default:throw new TypeError(`invalid integer width (${a}): ${o}`)}},Ru=(o,a,l,h)=>{a=$e(a);function g(){}g.values={},et(o,{name:a,constructor:g,fromWireType:function(x){return this.constructor.values[x]},toWireType:(x,C)=>C.value,argPackAdvance:tt,readValueFromPointer:Ou(a,l,h),destructorFunction:null}),Ir(a,g)},Vr=(o,a)=>{var l=St[o];return l===void 0&&K(a+" has unknown type "+Qi(o)),l},Iu=(o,a,l)=>{var h=Vr(o,"enum");a=$e(a);var g=h.constructor,x=Object.create(h.constructor.prototype,{value:{value:l},constructor:{value:hn(`${h.name}_${a}`,function(){})}});g.values[l]=x,g[a]=x},qr=o=>{if(o===null)return"null";var a=typeof o;return a==="object"||a==="array"||a==="function"?o.toString():""+o},Nu=(o,a)=>{switch(a){case 4:return function(l){return this.fromWireType(L[l>>2])};case 8:return function(l){return this.fromWireType(G[l>>3])};default:throw new TypeError(`invalid float width (${a}): ${o}`)}},Uu=(o,a,l)=>{a=$e(a),et(o,{name:a,fromWireType:h=>h,toWireType:(h,g)=>g,argPackAdvance:tt,readValueFromPointer:Nu(a,l),destructorFunction:null})},Fu=(o,a,l,h,g,x,C)=>{var T=Ur(a,l);o=$e(o),o=Ki(o),g=Be(h,g),Ir(o,function(){Yn(`Cannot call ${o} due to unbound types`,T)},a-1),kt([],T,function(M){var R=[M[0],null].concat(M.slice(1));return Xi(o,Fr(o,R,null,g,x),a-1),[]})},Lu=(o,a,l)=>{switch(a){case 1:return l?h=>O[h>>0]:h=>F[h>>0];case 2:return l?h=>z[h>>1]:h=>E[h>>1];case 4:return l?h=>k[h>>2]:h=>$[h>>2];default:throw new TypeError(`invalid integer width (${a}): ${o}`)}},Vu=(o,a,l,h,g)=>{a=$e(a);var x=I=>I;if(h===0){var C=32-8*l;x=I=>I<<C>>>C}var T=a.includes("unsigned"),M=(I,j)=>{},R;T?R=function(I,j){return M(j,this.name),j>>>0}:R=function(I,j){return M(j,this.name),j},et(o,{name:a,fromWireType:x,toWireType:R,argPackAdvance:tt,readValueFromPointer:Lu(a,l,h!==0),destructorFunction:null})},qu=(o,a,l)=>{var h=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],g=h[a];function x(C){var T=$[C>>2],M=$[C+4>>2];return new g(O.buffer,M,T)}l=$e(l),et(o,{name:l,fromWireType:x,argPackAdvance:tt,readValueFromPointer:x},{ignoreDuplicateRegistrations:!0})},to=(o,a,l,h)=>{if(!(h>0))return 0;for(var g=l,x=l+h-1,C=0;C<o.length;++C){var T=o.charCodeAt(C);if(T>=55296&&T<=57343){var M=o.charCodeAt(++C);T=65536+((T&1023)<<10)|M&1023}if(T<=127){if(l>=x)break;a[l++]=T}else if(T<=2047){if(l+1>=x)break;a[l++]=192|T>>6,a[l++]=128|T&63}else if(T<=65535){if(l+2>=x)break;a[l++]=224|T>>12,a[l++]=128|T>>6&63,a[l++]=128|T&63}else{if(l+3>=x)break;a[l++]=240|T>>18,a[l++]=128|T>>12&63,a[l++]=128|T>>6&63,a[l++]=128|T&63}}return a[l]=0,l-g},Hu=(o,a,l)=>to(o,F,a,l),no=o=>{for(var a=0,l=0;l<o.length;++l){var h=o.charCodeAt(l);h<=127?a++:h<=2047?a+=2:h>=55296&&h<=57343?(a+=4,++l):a+=3}return a},ro=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ju=(o,a,l)=>{for(var h=a+l,g=a;o[g]&&!(g>=h);)++g;if(g-a>16&&o.buffer&&ro)return ro.decode(o.subarray(a,g));for(var x="";a<g;){var C=o[a++];if(!(C&128)){x+=String.fromCharCode(C);continue}var T=o[a++]&63;if((C&224)==192){x+=String.fromCharCode((C&31)<<6|T);continue}var M=o[a++]&63;if((C&240)==224?C=(C&15)<<12|T<<6|M:C=(C&7)<<18|T<<12|M<<6|o[a++]&63,C<65536)x+=String.fromCharCode(C);else{var R=C-65536;x+=String.fromCharCode(55296|R>>10,56320|R&1023)}}return x},Hr=(o,a)=>o?ju(F,o,a):"",Wu=(o,a)=>{a=$e(a);var l=a==="std::string";et(o,{name:a,fromWireType(h){var g=$[h>>2],x=h+4,C;if(l)for(var T=x,M=0;M<=g;++M){var R=x+M;if(M==g||F[R]==0){var I=R-T,j=Hr(T,I);C===void 0?C=j:(C+="\0",C+=j),T=R+1}}else{for(var Y=new Array(g),M=0;M<g;++M)Y[M]=String.fromCharCode(F[x+M]);C=Y.join("")}return ct(h),C},toWireType(h,g){g instanceof ArrayBuffer&&(g=new Uint8Array(g));var x,C=typeof g=="string";C||g instanceof Uint8Array||g instanceof Uint8ClampedArray||g instanceof Int8Array||K("Cannot pass non-string to std::string"),l&&C?x=no(g):x=g.length;var T=Yr(4+x+1),M=T+4;if($[T>>2]=x,l&&C)Hu(g,M,x+1);else if(C)for(var R=0;R<x;++R){var I=g.charCodeAt(R);I>255&&(ct(M),K("String has UTF-16 code units that do not fit in 8 bits")),F[M+R]=I}else for(var R=0;R<x;++R)F[M+R]=g[R];return h!==null&&h.push(ct,T),T},argPackAdvance:tt,readValueFromPointer:Ji,destructorFunction(h){ct(h)}})},io=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Yu=(o,a)=>{for(var l=o,h=l>>1,g=h+a/2;!(h>=g)&&E[h];)++h;if(l=h<<1,l-o>32&&io)return io.decode(F.subarray(o,l));for(var x="",C=0;!(C>=a/2);++C){var T=z[o+C*2>>1];if(T==0)break;x+=String.fromCharCode(T)}return x},Bu=(o,a,l)=>{var h;if((h=l)!==null&&h!==void 0||(l=2147483647),l<2)return 0;l-=2;for(var g=a,x=l<o.length*2?l/2:o.length,C=0;C<x;++C){var T=o.charCodeAt(C);z[a>>1]=T,a+=2}return z[a>>1]=0,a-g},zu=o=>o.length*2,Ju=(o,a)=>{for(var l=0,h="";!(l>=a/4);){var g=k[o+l*4>>2];if(g==0)break;if(++l,g>=65536){var x=g-65536;h+=String.fromCharCode(55296|x>>10,56320|x&1023)}else h+=String.fromCharCode(g)}return h},Xu=(o,a,l)=>{var h;if((h=l)!==null&&h!==void 0||(l=2147483647),l<4)return 0;for(var g=a,x=g+l-4,C=0;C<o.length;++C){var T=o.charCodeAt(C);if(T>=55296&&T<=57343){var M=o.charCodeAt(++C);T=65536+((T&1023)<<10)|M&1023}if(k[a>>2]=T,a+=4,a+4>x)break}return k[a>>2]=0,a-g},Gu=o=>{for(var a=0,l=0;l<o.length;++l){var h=o.charCodeAt(l);h>=55296&&h<=57343&&++l,a+=4}return a},Zu=(o,a,l)=>{l=$e(l);var h,g,x,C,T;a===2?(h=Yu,g=Bu,C=zu,x=()=>E,T=1):a===4&&(h=Ju,g=Xu,C=Gu,x=()=>$,T=2),et(o,{name:l,fromWireType:M=>{for(var R=$[M>>2],I=x(),j,Y=M+4,J=0;J<=R;++J){var le=M+4+J*a;if(J==R||I[le>>T]==0){var me=le-Y,ie=h(Y,me);j===void 0?j=ie:(j+="\0",j+=ie),Y=le+a}}return ct(M),j},toWireType:(M,R)=>{typeof R!="string"&&K(`Cannot pass non-string to C++ string type ${l}`);var I=C(R),j=Yr(4+I+a);return $[j>>2]=I>>T,g(R,j+4,I+a),M!==null&&M.push(ct,j),j},argPackAdvance:tt,readValueFromPointer:Pr,destructorFunction(M){ct(M)}})},Qu=(o,a,l,h,g,x)=>{Fn[o]={name:$e(a),rawConstructor:Be(l,h),rawDestructor:Be(g,x),fields:[]}},Ku=(o,a,l,h,g,x,C,T,M,R)=>{Fn[o].fields.push({fieldName:$e(a),getterReturnType:l,getter:Be(h,g),getterContext:x,setterArgumentType:C,setter:Be(T,M),setterContext:R})},ec=(o,a)=>{a=$e(a),et(o,{isVoid:!0,name:a,argPackAdvance:0,fromWireType:()=>{},toWireType:(l,h)=>{}})},jr=[],tc=(o,a,l,h)=>(o=jr[o],a=ut.toValue(a),o(null,a,l,h)),nc={},rc=o=>{var a=nc[o];return a===void 0?$e(o):a},oo=()=>{if(typeof globalThis=="object")return globalThis;function o(a){a.$$$embind_global$$$=a;var l=typeof $$$embind_global$$$=="object"&&a.$$$embind_global$$$==a;return l||delete a.$$$embind_global$$$,l}if(typeof $$$embind_global$$$=="object"||(typeof zr=="object"&&o(zr)?$$$embind_global$$$=zr:typeof self=="object"&&o(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},ic=o=>o===0?ut.toHandle(oo()):(o=rc(o),ut.toHandle(oo()[o])),oc=o=>{var a=jr.length;return jr.push(o),a},ac=(o,a)=>{for(var l=new Array(o),h=0;h<o;++h)l[h]=Vr($[a+h*4>>2],"parameter "+h);return l},sc=Reflect.construct,uc=(o,a,l)=>{var h=[],g=o.toWireType(h,l);return h.length&&($[a>>2]=ut.toHandle(h)),g},cc=(o,a,l)=>{var h=ac(o,a),g=h.shift();o--;var x=new Array(o),C=(M,R,I,j)=>{for(var Y=0,J=0;J<o;++J)x[J]=h[J].readValueFromPointer(j+Y),Y+=h[J].argPackAdvance;for(var le=l===1?sc(R,x):R.apply(M,x),J=0;J<o;++J){var me,ie;(me=(ie=h[J]).deleteObject)===null||me===void 0||me.call(ie,x[J])}return uc(g,I,le)},T=`methodCaller<(${h.map(M=>M.name).join(", ")}) => ${g.name}>`;return oc(hn(T,C))},lc=o=>{o>4&&(qe.get(o).refcount+=1)},fc=o=>{var a=ut.toValue(o);Dr(a),Lr(o)},dc=(o,a)=>{o=Vr(o,"_emval_take_value");var l=o.readValueFromPointer(a);return ut.toHandle(l)},hc=()=>{Ee("")},pc=(o,a,l)=>F.copyWithin(o,a,a+l),mc=()=>2147483648,vc=o=>{var a=S.buffer,l=(o-a.byteLength+65535)/65536;try{return S.grow(l),Te(),1}catch{}},gc=o=>{var a=F.length;o>>>=0;var l=mc();if(o>l)return!1;for(var h=(M,R)=>M+(R-M%R)%R,g=1;g<=4;g*=2){var x=a*(1+.2/g);x=Math.min(x,o+100663296);var C=Math.min(l,h(Math.max(o,x),65536)),T=vc(C);if(T)return!0}return!1},Wr={},yc=()=>u||"./this.program",pn=()=>{if(!pn.strings){var o=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:o,_:yc()};for(var l in Wr)Wr[l]===void 0?delete a[l]:a[l]=Wr[l];var h=[];for(var l in a)h.push(`${l}=${a[l]}`);pn.strings=h}return pn.strings},_c=(o,a)=>{for(var l=0;l<o.length;++l)O[a++>>0]=o.charCodeAt(l);O[a>>0]=0},wc=(o,a)=>{var l=0;return pn().forEach((h,g)=>{var x=a+l;$[o+g*4>>2]=x,_c(h,x),l+=h.length+1}),0},bc=(o,a)=>{var l=pn();$[o>>2]=l.length;var h=0;return l.forEach(g=>h+=g.length+1),$[a>>2]=h,0},xc=o=>o,Bn=o=>o%4===0&&(o%100!==0||o%400===0),Cc=(o,a)=>{for(var l=0,h=0;h<=a;l+=o[h++]);return l},ao=[31,29,31,30,31,30,31,31,30,31,30,31],so=[31,28,31,30,31,30,31,31,30,31,30,31],Tc=(o,a)=>{for(var l=new Date(o.getTime());a>0;){var h=Bn(l.getFullYear()),g=l.getMonth(),x=(h?ao:so)[g];if(a>x-l.getDate())a-=x-l.getDate()+1,l.setDate(1),g<11?l.setMonth(g+1):(l.setMonth(0),l.setFullYear(l.getFullYear()+1));else return l.setDate(l.getDate()+a),l}return l};function $c(o,a,l){var h=no(o)+1,g=new Array(h);return to(o,g,0,g.length),g}var Mc=(o,a)=>{O.set(o,a)},Sc=(o,a,l,h)=>{var g=$[h+40>>2],x={tm_sec:k[h>>2],tm_min:k[h+4>>2],tm_hour:k[h+8>>2],tm_mday:k[h+12>>2],tm_mon:k[h+16>>2],tm_year:k[h+20>>2],tm_wday:k[h+24>>2],tm_yday:k[h+28>>2],tm_isdst:k[h+32>>2],tm_gmtoff:k[h+36>>2],tm_zone:g?Hr(g):""},C=Hr(l),T={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var M in T)C=C.replace(new RegExp(M,"g"),T[M]);var R=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],I=["January","February","March","April","May","June","July","August","September","October","November","December"];function j(P,V,ve){for(var be=typeof P=="number"?P.toString():P||"";be.length<V;)be=ve[0]+be;return be}function Y(P,V){return j(P,V,"0")}function J(P,V){function ve(Ht){return Ht<0?-1:Ht>0?1:0}var be;return(be=ve(P.getFullYear()-V.getFullYear()))===0&&(be=ve(P.getMonth()-V.getMonth()))===0&&(be=ve(P.getDate()-V.getDate())),be}function le(P){switch(P.getDay()){case 0:return new Date(P.getFullYear()-1,11,29);case 1:return P;case 2:return new Date(P.getFullYear(),0,3);case 3:return new Date(P.getFullYear(),0,2);case 4:return new Date(P.getFullYear(),0,1);case 5:return new Date(P.getFullYear()-1,11,31);case 6:return new Date(P.getFullYear()-1,11,30)}}function me(P){var V=Tc(new Date(P.tm_year+1900,0,1),P.tm_yday),ve=new Date(V.getFullYear(),0,4),be=new Date(V.getFullYear()+1,0,4),Ht=le(ve),Jn=le(be);return J(Ht,V)<=0?J(Jn,V)<=0?V.getFullYear()+1:V.getFullYear():V.getFullYear()-1}var ie={"%a":P=>R[P.tm_wday].substring(0,3),"%A":P=>R[P.tm_wday],"%b":P=>I[P.tm_mon].substring(0,3),"%B":P=>I[P.tm_mon],"%C":P=>{var V=P.tm_year+1900;return Y(V/100|0,2)},"%d":P=>Y(P.tm_mday,2),"%e":P=>j(P.tm_mday,2," "),"%g":P=>me(P).toString().substring(2),"%G":P=>me(P),"%H":P=>Y(P.tm_hour,2),"%I":P=>{var V=P.tm_hour;return V==0?V=12:V>12&&(V-=12),Y(V,2)},"%j":P=>Y(P.tm_mday+Cc(Bn(P.tm_year+1900)?ao:so,P.tm_mon-1),3),"%m":P=>Y(P.tm_mon+1,2),"%M":P=>Y(P.tm_min,2),"%n":()=>`
`,"%p":P=>P.tm_hour>=0&&P.tm_hour<12?"AM":"PM","%S":P=>Y(P.tm_sec,2),"%t":()=>"	","%u":P=>P.tm_wday||7,"%U":P=>{var V=P.tm_yday+7-P.tm_wday;return Y(Math.floor(V/7),2)},"%V":P=>{var V=Math.floor((P.tm_yday+7-(P.tm_wday+6)%7)/7);if((P.tm_wday+371-P.tm_yday-2)%7<=2&&V++,V){if(V==53){var ve=(P.tm_wday+371-P.tm_yday)%7;ve!=4&&(ve!=3||!Bn(P.tm_year))&&(V=1)}}else{V=52;var be=(P.tm_wday+7-P.tm_yday-1)%7;(be==4||be==5&&Bn(P.tm_year%400-1))&&V++}return Y(V,2)},"%w":P=>P.tm_wday,"%W":P=>{var V=P.tm_yday+7-(P.tm_wday+6)%7;return Y(Math.floor(V/7),2)},"%y":P=>(P.tm_year+1900).toString().substring(2),"%Y":P=>P.tm_year+1900,"%z":P=>{var V=P.tm_gmtoff,ve=V>=0;return V=Math.abs(V)/60,V=V/60*100+V%60,(ve?"+":"-")+("0000"+V).slice(-4)},"%Z":P=>P.tm_zone,"%%":()=>"%"};C=C.replace(/%%/g,"\0\0");for(var M in ie)C.includes(M)&&(C=C.replace(new RegExp(M,"g"),ie[M](x)));C=C.replace(/\0\0/g,"%");var Me=$c(C);return Me.length>a?0:(Mc(Me,o),Me.length-1)},kc=(o,a,l,h,g)=>Sc(o,a,l,h);qi=n.InternalError=class extends Error{constructor(o){super(o),this.name="InternalError"}},eu(),qt=n.BindingError=class extends Error{constructor(o){super(o),this.name="BindingError"}},du(),uu(),wu(),Zi=n.UnboundTypeError=Tu(Error,"UnboundTypeError"),Au(),Pu();var Ac={s:ne,u:Oe,b:Bs,g:zs,q:Js,J:Xs,f:Gs,V:Zs,d:Un,da:Qs,Q:Ks,_:nu,ca:$u,ba:Su,w:ku,Y:Eu,x:Ru,h:Iu,L:Uu,M:Fu,t:Vu,o:qu,K:Wu,C:Zu,A:Qu,ea:Ku,$:ec,R:tc,ha:Lr,fa:ic,Z:cc,N:lc,O:fc,aa:dc,B:hc,X:pc,W:gc,T:wc,U:bc,E:Yc,D:Rc,F:Wc,n:Bc,a:Dc,e:Nc,m:Oc,k:Fc,H:Hc,v:Vc,G:jc,z:Jc,P:Gc,l:Uc,j:Ic,c:Ec,p:Pc,I:qc,r:zc,i:Lc,y:Xc,ga:xc,S:kc},ge=X(),ct=n._free=o=>(ct=n._free=ge.ka)(o),Yr=n._malloc=o=>(Yr=n._malloc=ge.la)(o),uo=o=>(uo=ge.na)(o),ce=(o,a)=>(ce=ge.oa)(o,a),mn=o=>(mn=ge.pa)(o),he=()=>(he=ge.qa)(),pe=o=>(pe=ge.ra)(o),co=o=>(co=ge.sa)(o),lo=o=>(lo=ge.ta)(o),fo=(o,a,l)=>(fo=ge.ua)(o,a,l),ho=o=>(ho=ge.va)(o);n.dynCall_viijii=(o,a,l,h,g,x,C)=>(n.dynCall_viijii=ge.wa)(o,a,l,h,g,x,C);var po=n.dynCall_jiiii=(o,a,l,h,g)=>(po=n.dynCall_jiiii=ge.xa)(o,a,l,h,g);n.dynCall_iiiiij=(o,a,l,h,g,x,C)=>(n.dynCall_iiiiij=ge.ya)(o,a,l,h,g,x,C),n.dynCall_iiiiijj=(o,a,l,h,g,x,C,T,M)=>(n.dynCall_iiiiijj=ge.za)(o,a,l,h,g,x,C,T,M),n.dynCall_iiiiiijj=(o,a,l,h,g,x,C,T,M,R)=>(n.dynCall_iiiiiijj=ge.Aa)(o,a,l,h,g,x,C,T,M,R);function Dc(o,a){var l=he();try{return de(o)(a)}catch(h){if(pe(l),h!==h+0)throw h;ce(1,0)}}function Pc(o,a,l,h){var g=he();try{de(o)(a,l,h)}catch(x){if(pe(g),x!==x+0)throw x;ce(1,0)}}function Ec(o,a,l){var h=he();try{de(o)(a,l)}catch(g){if(pe(h),g!==g+0)throw g;ce(1,0)}}function Oc(o,a,l,h){var g=he();try{return de(o)(a,l,h)}catch(x){if(pe(g),x!==x+0)throw x;ce(1,0)}}function Rc(o,a,l,h,g){var x=he();try{return de(o)(a,l,h,g)}catch(C){if(pe(x),C!==C+0)throw C;ce(1,0)}}function Ic(o,a){var l=he();try{de(o)(a)}catch(h){if(pe(l),h!==h+0)throw h;ce(1,0)}}function Nc(o,a,l){var h=he();try{return de(o)(a,l)}catch(g){if(pe(h),g!==g+0)throw g;ce(1,0)}}function Uc(o){var a=he();try{de(o)()}catch(l){if(pe(a),l!==l+0)throw l;ce(1,0)}}function Fc(o,a,l,h,g){var x=he();try{return de(o)(a,l,h,g)}catch(C){if(pe(x),C!==C+0)throw C;ce(1,0)}}function Lc(o,a,l,h,g,x,C,T,M,R,I){var j=he();try{de(o)(a,l,h,g,x,C,T,M,R,I)}catch(Y){if(pe(j),Y!==Y+0)throw Y;ce(1,0)}}function Vc(o,a,l,h,g,x,C){var T=he();try{return de(o)(a,l,h,g,x,C)}catch(M){if(pe(T),M!==M+0)throw M;ce(1,0)}}function qc(o,a,l,h,g){var x=he();try{de(o)(a,l,h,g)}catch(C){if(pe(x),C!==C+0)throw C;ce(1,0)}}function Hc(o,a,l,h,g,x){var C=he();try{return de(o)(a,l,h,g,x)}catch(T){if(pe(C),T!==T+0)throw T;ce(1,0)}}function jc(o,a,l,h,g,x,C,T){var M=he();try{return de(o)(a,l,h,g,x,C,T)}catch(R){if(pe(M),R!==R+0)throw R;ce(1,0)}}function Wc(o,a,l,h){var g=he();try{return de(o)(a,l,h)}catch(x){if(pe(g),x!==x+0)throw x;ce(1,0)}}function Yc(o,a,l,h){var g=he();try{return de(o)(a,l,h)}catch(x){if(pe(g),x!==x+0)throw x;ce(1,0)}}function Bc(o){var a=he();try{return de(o)()}catch(l){if(pe(a),l!==l+0)throw l;ce(1,0)}}function zc(o,a,l,h,g,x,C,T){var M=he();try{de(o)(a,l,h,g,x,C,T)}catch(R){if(pe(M),R!==R+0)throw R;ce(1,0)}}function Jc(o,a,l,h,g,x,C,T,M,R,I,j){var Y=he();try{return de(o)(a,l,h,g,x,C,T,M,R,I,j)}catch(J){if(pe(Y),J!==J+0)throw J;ce(1,0)}}function Xc(o,a,l,h,g,x,C,T,M,R,I,j,Y,J,le,me){var ie=he();try{de(o)(a,l,h,g,x,C,T,M,R,I,j,Y,J,le,me)}catch(Me){if(pe(ie),Me!==Me+0)throw Me;ce(1,0)}}function Gc(o,a,l,h,g){var x=he();try{return po(o,a,l,h,g)}catch(C){if(pe(x),C!==C+0)throw C;ce(1,0)}}var zn;_e=function o(){zn||mo(),zn||(_e=o)};function mo(){if(ke>0||(ae(),ke>0))return;function o(){zn||(zn=!0,n.calledRun=!0,!D&&(se(),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),Le()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),o()},1)):o()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return mo(),t.ready}})();function af(e){return Ti($i,e)}async function sf(e,t){return rf($i,e,t)}async function uf(e,t){return of($i,e,t)}var bn;class ko extends EventTarget{constructor(t={}){var n;super(),Ol(this,bn,void 0);try{const r=(n=t?.formats)==null?void 0:n.filter(i=>i!=="unknown");if(r?.length===0)throw new TypeError("Hint option provided, but is empty.");r?.forEach(i=>{if(!er.has(i))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${i}' is not a valid enum value of type BarcodeFormat.`)}),Rl(this,bn,r??[]),af().then(i=>{this.dispatchEvent(new CustomEvent("load",{detail:i}))}).catch(i=>{this.dispatchEvent(new CustomEvent("error",{detail:i}))})}catch(r){throw To(r,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return Il.filter(t=>t!=="unknown")}async detect(t){try{const n=await Hl(t);if(n===null)return[];let r;try{Ua(n)?r=await sf(n,{tryHarder:!0,formats:Co(this,bn).map(i=>er.get(i))}):r=await uf(n,{tryHarder:!0,formats:Co(this,bn).map(i=>er.get(i))})}catch(i){throw console.error(i),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return r.map(i=>{const{topLeft:{x:s,y:u},topRight:{x:d,y:c},bottomLeft:{x:f,y:p},bottomRight:{x:m,y:v}}=i.position,y=Math.min(s,d,f,m),S=Math.min(u,c,p,v),D=Math.max(s,d,f,m),O=Math.max(u,c,p,v);return{boundingBox:new DOMRectReadOnly(y,S,D-y,O-S),rawValue:i.text,format:Nl(i.format),cornerPoints:[{x:s,y:u},{x:d,y:c},{x:m,y:v},{x:f,y:p}]}})}catch(n){throw To(n,"Failed to execute 'detect' on 'BarcodeDetector'")}}}bn=new WeakMap;const qa=(e,t,n="error")=>{let r,i;const s=new Promise((u,d)=>{r=u,i=d,e.addEventListener(t,r),e.addEventListener(n,i)});return s.finally(()=>{e.removeEventListener(t,r),e.removeEventListener(n,i)}),s},Ao=e=>new Promise(t=>setTimeout(t,e));class Ha extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class cf extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class lf extends Error{constructor(){super("Loading camera stream timed out after 6 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}let ja;async function ff(e){if(window.BarcodeDetector===void 0)return console.debug("[vue-qrcode-reader] Native BarcodeDetector not supported. Will use polyfill."),new ko({formats:e});const t=await window.BarcodeDetector.getSupportedFormats(),n=e.filter(r=>!t.includes(r));return n.length>0?(console.debug(`[vue-qrcode-reader] Native BarcodeDetector does not support formats ${JSON.stringify(n)}. Will use polyfill.`),new ko({formats:e})):(console.debug("[vue-qrcode-reader] Will use native BarcodeDetector."),new window.BarcodeDetector({formats:e}))}async function Wa(e){ja=await ff(e)}const df=async(e,{detectHandler:t,locateHandler:n,minDelay:r,formats:i})=>{console.debug("[vue-qrcode-reader] start scanning"),await Wa(i);const s=u=>async d=>{if(e.readyState===0)console.debug("[vue-qrcode-reader] stop scanning: video element readyState is 0");else{const{lastScanned:c,contentBefore:f,lastScanHadContent:p}=u;if(d-c<r)window.requestAnimationFrame(s(u));else{const m=await ja.detect(e),v=m.some(D=>!f.includes(D.rawValue));v&&t(m);const y=m.length>0;y&&n(m),!y&&p&&n(m);const S={lastScanned:d,lastScanHadContent:y,contentBefore:v?m.map(D=>D.rawValue):f};window.requestAnimationFrame(s(S))}}};s({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())};var Ya={},Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.compactObject=Ja;Ne.deprecated=bf;var hf=Ne.detectBrowser=xf;Ne.disableLog=yf;Ne.disableWarnings=_f;Ne.extractVersion=tr;Ne.filterStats=Cf;Ne.log=wf;Ne.walkStats=ar;Ne.wrapPeerConnectionEvent=gf;function pf(e,t,n){return t=mf(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mf(e){var t=vf(e,"string");return Ct(t)==="symbol"?t:String(t)}function vf(e,t){if(Ct(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ct(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ct(e){"@babel/helpers - typeof";return Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(e)}var Ba=!0,za=!0;function tr(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function gf(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(u,d){if(u!==t)return i.apply(this,arguments);var c=function(f){var p=n(f);p&&(d.handleEvent?d.handleEvent(p):d(p))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(d,c),i.apply(this,[u,c])};var s=r.removeEventListener;r.removeEventListener=function(u,d){if(u!==t||!this._eventMap||!this._eventMap[t])return s.apply(this,arguments);if(!this._eventMap[t].has(d))return s.apply(this,arguments);var c=this._eventMap[t].get(d);return this._eventMap[t].delete(d),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[u,c])},Object.defineProperty(r,"on"+t,{get:function(){return this["_on"+t]},set:function(u){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),u&&this.addEventListener(t,this["_on"+t]=u)},enumerable:!0,configurable:!0})}}function yf(e){return typeof e!="boolean"?new Error("Argument type: "+Ct(e)+". Please use a boolean."):(Ba=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function _f(e){return typeof e!="boolean"?new Error("Argument type: "+Ct(e)+". Please use a boolean."):(za=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function wf(){if((typeof window>"u"?"undefined":Ct(window))==="object"){if(Ba)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function bf(e,t){za&&console.warn(e+" is deprecated, please use "+t+" instead.")}function xf(e){var t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;var n=e.navigator;if(n.mozGetUserMedia)t.browser="firefox",t.version=tr(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=tr(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=tr(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function Do(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ja(e){return Do(e)?Object.keys(e).reduce(function(t,n){var r=Do(e[n]),i=r?Ja(e[n]):e[n],s=r&&!Object.keys(i).length;return i===void 0||s?t:Object.assign(t,pf({},n,i))},{}):e}function ar(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(function(r){r.endsWith("Id")?ar(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(function(i){ar(e,e.get(i),n)})}))}function Cf(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;var s=[];return e.forEach(function(u){u.type==="track"&&u.trackIdentifier===t.id&&s.push(u)}),s.forEach(function(u){e.forEach(function(d){d.type===r&&d.trackId===u.id&&ar(e,d,i)})}),i}Object.defineProperty(Ya,"__esModule",{value:!0});var Tf=Ya.shimGetUserMedia=Sf,$f=Mf(Ne);function Xa(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Xa=function(r){return r?n:t})(e)}function Mf(e,t){if(e&&e.__esModule)return e;if(e===null||wt(e)!=="object"&&typeof e!="function")return{default:e};var n=Xa(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var u=i?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(r,s,u):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function wt(e){"@babel/helpers - typeof";return wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(e)}var Po=$f.log;function Sf(e,t){var n=e&&e.navigator;if(n.mediaDevices){var r=function(c){if(wt(c)!=="object"||c.mandatory||c.optional)return c;var f={};return Object.keys(c).forEach(function(p){if(!(p==="require"||p==="advanced"||p==="mediaSource")){var m=wt(c[p])==="object"?c[p]:{ideal:c[p]};m.exact!==void 0&&typeof m.exact=="number"&&(m.min=m.max=m.exact);var v=function(S,D){return S?S+D.charAt(0).toUpperCase()+D.slice(1):D==="deviceId"?"sourceId":D};if(m.ideal!==void 0){f.optional=f.optional||[];var y={};typeof m.ideal=="number"?(y[v("min",p)]=m.ideal,f.optional.push(y),y={},y[v("max",p)]=m.ideal,f.optional.push(y)):(y[v("",p)]=m.ideal,f.optional.push(y))}m.exact!==void 0&&typeof m.exact!="number"?(f.mandatory=f.mandatory||{},f.mandatory[v("",p)]=m.exact):["min","max"].forEach(function(S){m[S]!==void 0&&(f.mandatory=f.mandatory||{},f.mandatory[v(S,p)]=m[S])})}}),c.advanced&&(f.optional=(f.optional||[]).concat(c.advanced)),f},i=function(c,f){if(t.version>=61)return f(c);if(c=JSON.parse(JSON.stringify(c)),c&&wt(c.audio)==="object"){var p=function(S,D,O){D in S&&!(O in S)&&(S[O]=S[D],delete S[D])};c=JSON.parse(JSON.stringify(c)),p(c.audio,"autoGainControl","googAutoGainControl"),p(c.audio,"noiseSuppression","googNoiseSuppression"),c.audio=r(c.audio)}if(c&&wt(c.video)==="object"){var m=c.video.facingMode;m=m&&(wt(m)==="object"?m:{ideal:m});var v=t.version<66;if(m&&(m.exact==="user"||m.exact==="environment"||m.ideal==="user"||m.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!v)){delete c.video.facingMode;var y;if(m.exact==="environment"||m.ideal==="environment"?y=["back","rear"]:(m.exact==="user"||m.ideal==="user")&&(y=["front"]),y)return n.mediaDevices.enumerateDevices().then(function(S){S=S.filter(function(O){return O.kind==="videoinput"});var D=S.find(function(O){return y.some(function(F){return O.label.toLowerCase().includes(F)})});return!D&&S.length&&y.includes("back")&&(D=S[S.length-1]),D&&(c.video.deviceId=m.exact?{exact:D.deviceId}:{ideal:D.deviceId}),c.video=r(c.video),Po("chrome: "+JSON.stringify(c)),f(c)})}c.video=r(c.video)}return Po("chrome: "+JSON.stringify(c)),f(c)},s=function(c){return t.version>=64?c:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[c.name]||c.name,message:c.message,constraint:c.constraint||c.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},u=function(c,f,p){i(c,function(m){n.webkitGetUserMedia(m,f,function(v){p&&p(s(v))})})};if(n.getUserMedia=u.bind(n),n.mediaDevices.getUserMedia){var d=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(c){return i(c,function(f){return d(f).then(function(p){if(f.audio&&!p.getAudioTracks().length||f.video&&!p.getVideoTracks().length)throw p.getTracks().forEach(function(m){m.stop()}),new DOMException("","NotFoundError");return p},function(p){return Promise.reject(s(p))})})}}}}var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});var kf=Ga.shimGetUserMedia=Pf,Af=Df(Ne);function Za(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Za=function(r){return r?n:t})(e)}function Df(e,t){if(e&&e.__esModule)return e;if(e===null||Jt(e)!=="object"&&typeof e!="function")return{default:e};var n=Za(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var u=i?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(r,s,u):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function Jt(e){"@babel/helpers - typeof";return Jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(e)}function Pf(e,t){var n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(c,f,p){Af.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(c).then(f,p)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var i=function(c,f,p){f in c&&!(p in c)&&(c[p]=c[f],delete c[f])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(c){return Jt(c)==="object"&&Jt(c.audio)==="object"&&(c=JSON.parse(JSON.stringify(c)),i(c.audio,"autoGainControl","mozAutoGainControl"),i(c.audio,"noiseSuppression","mozNoiseSuppression")),s(c)},r&&r.prototype.getSettings){var u=r.prototype.getSettings;r.prototype.getSettings=function(){var c=u.apply(this,arguments);return i(c,"mozAutoGainControl","autoGainControl"),i(c,"mozNoiseSuppression","noiseSuppression"),c}}if(r&&r.prototype.applyConstraints){var d=r.prototype.applyConstraints;r.prototype.applyConstraints=function(c){return this.kind==="audio"&&Jt(c)==="object"&&(c=JSON.parse(JSON.stringify(c)),i(c,"autoGainControl","mozAutoGainControl"),i(c,"noiseSuppression","mozNoiseSuppression")),d.apply(this,[c])}}}}var at={};Object.defineProperty(at,"__esModule",{value:!0});at.shimAudioContext=qf;at.shimCallbacksAPI=Nf;at.shimConstraints=es;at.shimCreateOfferLegacy=Vf;var Ef=at.shimGetUserMedia=Uf;at.shimLocalStreamsAPI=Rf;at.shimRTCIceServerUrls=Ff;at.shimRemoteStreamsAPI=If;at.shimTrackEventTransceiver=Lf;var Qa=Of(Ne);function Ka(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Ka=function(r){return r?n:t})(e)}function Of(e,t){if(e&&e.__esModule)return e;if(e===null||Tt(e)!=="object"&&typeof e!="function")return{default:e};var n=Ka(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var u=i?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(r,s,u):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function Tt(e){"@babel/helpers - typeof";return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(e)}function Rf(e){if(!(Tt(e)!=="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(n){var r=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(function(i){return t.call(r,i,n)}),n.getVideoTracks().forEach(function(i){return t.call(r,i,n)})},e.RTCPeerConnection.prototype.addTrack=function(n){for(var r=this,i=arguments.length,s=new Array(i>1?i-1:0),u=1;u<i;u++)s[u-1]=arguments[u];return s&&s.forEach(function(d){r._localStreams?r._localStreams.includes(d)||r._localStreams.push(d):r._localStreams=[d]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){var r=this;this._localStreams||(this._localStreams=[]);var i=this._localStreams.indexOf(n);if(i!==-1){this._localStreams.splice(i,1);var s=n.getTracks();this.getSenders().forEach(function(u){s.includes(u.track)&&r.removeTrack(u)})}})}}function If(e){if(!(Tt(e)!=="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(n){var r=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(function(s){if(r._remoteStreams||(r._remoteStreams=[]),!r._remoteStreams.includes(s)){r._remoteStreams.push(s);var u=new Event("addstream");u.stream=s,r.dispatchEvent(u)}})})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(r){r.streams.forEach(function(i){if(n._remoteStreams||(n._remoteStreams=[]),!(n._remoteStreams.indexOf(i)>=0)){n._remoteStreams.push(i);var s=new Event("addstream");s.stream=i,n.dispatchEvent(s)}})}),t.apply(n,arguments)}}}function Nf(e){if(!(Tt(e)!=="object"||!e.RTCPeerConnection)){var t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,s=t.setRemoteDescription,u=t.addIceCandidate;t.createOffer=function(c,f){var p=arguments.length>=2?arguments[2]:arguments[0],m=n.apply(this,[p]);return f?(m.then(c,f),Promise.resolve()):m},t.createAnswer=function(c,f){var p=arguments.length>=2?arguments[2]:arguments[0],m=r.apply(this,[p]);return f?(m.then(c,f),Promise.resolve()):m};var d=function(c,f,p){var m=i.apply(this,[c]);return p?(m.then(f,p),Promise.resolve()):m};t.setLocalDescription=d,d=function(c,f,p){var m=s.apply(this,[c]);return p?(m.then(f,p),Promise.resolve()):m},t.setRemoteDescription=d,d=function(c,f,p){var m=u.apply(this,[c]);return p?(m.then(f,p),Promise.resolve()):m},t.addIceCandidate=d}}function Uf(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(i){return r(es(i))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(i,s,u){t.mediaDevices.getUserMedia(i).then(s,u)}.bind(t))}function es(e){return e&&e.video!==void 0?Object.assign({},e,{video:Qa.compactObject(e.video)}):e}function Ff(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(n,r){if(n&&n.iceServers){for(var i=[],s=0;s<n.iceServers.length;s++){var u=n.iceServers[s];u.urls===void 0&&u.url?(Qa.deprecated("RTCIceServer.url","RTCIceServer.urls"),u=JSON.parse(JSON.stringify(u)),u.urls=u.url,delete u.url,i.push(u)):i.push(n.iceServers[s])}n.iceServers=i}return new t(n,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function Lf(e){Tt(e)==="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function Vf(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);var r=this.getTransceivers().find(function(s){return s.receiver.track.kind==="audio"});n.offerToReceiveAudio===!1&&r?r.direction==="sendrecv"?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":r.direction==="recvonly"&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):n.offerToReceiveAudio===!0&&!r&&this.addTransceiver("audio",{direction:"recvonly"}),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);var i=this.getTransceivers().find(function(s){return s.receiver.track.kind==="video"});n.offerToReceiveVideo===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):n.offerToReceiveVideo===!0&&!i&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function qf(e){Tt(e)!=="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const Hf=e=>{let t=!1,n;return(...r)=>(t||(n=e(r),t=!0),n)};function lt(e,t){if(e===!1)throw new Error(t??"assertion failure")}function Eo(e){throw new Error("this code should be unreachable")}const jf=Hf(()=>{const e=hf(window);switch(e.browser){case"chrome":Tf(window,e);break;case"firefox":kf(window,e);break;case"safari":Ef(window,e);break;default:throw new Ha}});let Xt=Promise.resolve({type:"stop",data:{}});async function Oo(e,t,n){var r,i,s;if(console.debug("[vue-qrcode-reader] starting camera with constraints: ",JSON.stringify(t)),window.isSecureContext!==!0)throw new cf;if(((r=navigator?.mediaDevices)==null?void 0:r.getUserMedia)===void 0)throw new Ha;jf(),console.debug("[vue-qrcode-reader] calling getUserMedia");const u=await navigator.mediaDevices.getUserMedia({audio:!1,video:t});e.srcObject!==void 0?e.srcObject=u:e.mozSrcObject!==void 0?e.mozSrcObject=u:window.URL.createObjectURL?e.src=window.URL.createObjectURL(u):window.webkitURL?e.src=window.webkitURL.createObjectURL(u):e.src=u.id,e.play(),console.debug("[vue-qrcode-reader] waiting for video element to load"),await Promise.race([qa(e,"loadeddata"),Ao(6e3).then(()=>{throw new lf})]),console.debug("[vue-qrcode-reader] video element loaded"),await Ao(500);const[d]=u.getVideoTracks(),c=(s=(i=d?.getCapabilities)==null?void 0:i.call(d))!=null?s:{};let f=!1;return n&&c.torch&&(await d.applyConstraints({advanced:[{torch:!0}]}),f=!0),console.debug("[vue-qrcode-reader] camera ready"),{type:"start",data:{videoEl:e,stream:u,capabilities:c,constraints:t,isTorchOn:f}}}async function Wf(e,{constraints:t,torch:n,restart:r=!1}){Xt=Xt.then(s=>{if(s.type==="start"){const{data:{videoEl:u,stream:d,constraints:c,isTorchOn:f}}=s;return!r&&e===u&&t===c&&n===f?s:ts(u,d,f).then(()=>Oo(e,t,n))}else if(s.type==="stop"||s.type==="failed")return Oo(e,t,n);Eo()}).catch(s=>(console.debug(`[vue-qrcode-reader] starting camera failed with "${s}"`),{type:"failed",error:s}));const i=await Xt;if(i.type==="stop")throw new Error("Something went wrong with the camera task queue (start task).");if(i.type==="failed")throw i.error;if(i.type==="start")return i.data.capabilities;Eo()}async function ts(e,t,n){console.debug("[vue-qrcode-reader] stopping camera"),e.src="",e.srcObject=null,e.load(),await qa(e,"error");for(const r of t.getTracks())n!=null||await r.applyConstraints({advanced:[{torch:!1}]}),t.removeTrack(r),r.stop();return{type:"stop",data:{}}}async function Xn(){if(Xt=Xt.then(e=>{if(e.type==="stop"||e.type==="failed")return e;const{data:{videoEl:t,stream:n,isTorchOn:r}}=e;return ts(t,n,r)}),(await Xt).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")}const Yf=fe({__name:"QrcodeStream",props:{constraints:{type:Object,default(){return{facingMode:"environment"}}},formats:{type:Array,default:()=>["qr_code"]},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function}},emits:["detect","camera-on","camera-off","error"],setup(e,{emit:t}){const n=e,r=t,i=re(n.constraints),s=re(n.formats);vn(()=>n.constraints,(E,k)=>{JSON.stringify(E)!==JSON.stringify(k)&&(i.value=E)},{deep:!0}),vn(()=>n.formats,(E,k)=>{JSON.stringify(E)!==JSON.stringify(k)&&(s.value=E)},{deep:!0});const u=re(),d=re(),c=re(),f=re(!1),p=re(!1);Zt(()=>{p.value=!0}),Kc(()=>{Xn()});const m=te(()=>({torch:n.torch,constraints:i.value,shouldStream:p.value&&!n.paused}));vn(m,async E=>{const k=c.value;lt(k!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus video element should always be defined.");const $=u.value;lt($!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus canvas should always be defined.");const L=$.getContext("2d");if(lt(L!==null,"if cavnas is defined, canvas 2d context should also be non-null"),E.shouldStream){Xn(),f.value=!1;try{const G=await Wf(k,E);p.value?(f.value=!0,r("camera-on",G)):await Xn()}catch(G){r("error",G)}}else $.width=k.videoWidth,$.height=k.videoHeight,L.drawImage(k,0,0,k.videoWidth,k.videoHeight),Xn(),f.value=!1,r("camera-off")},{deep:!0}),vn(s,async E=>{p.value&&await Wa(E)});const v=te(()=>m.value.shouldStream&&f.value);vn(v,E=>{if(E){lt(u.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus pause frame canvas is defined"),y(u.value),lt(d.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus tracking canvas is defined"),y(d.value);const k=()=>n.track===void 0?500:40;lt(c.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus video element is defined"),df(c.value,{detectHandler:$=>r("detect",$),formats:s.value,locateHandler:S,minDelay:k()})}});const y=E=>{const k=E.getContext("2d");lt(k!==null,"canvas 2d context should always be non-null"),k.clearRect(0,0,E.width,E.height)},S=E=>{const k=d.value;lt(k!==void 0,"onLocate handler should only be called when component is mounted. Thus tracking canvas is always defined.");const $=c.value;if(lt($!==void 0,"onLocate handler should only be called when component is mounted. Thus video element is always defined."),E.length===0||n.track===void 0)y(k);else{const L=$.offsetWidth,G=$.offsetHeight,Te=$.videoWidth,Pe=$.videoHeight,Ae=Math.max(L/Te,G/Pe),W=Te*Ae,ae=Pe*Ae,se=W/Te,Le=ae/Pe,yt=(L-W)/2,Ze=(G-ae)/2,Ve=({x:Qe,y:Ee})=>({x:Math.floor(Qe*se),y:Math.floor(Ee*Le)}),ke=({x:Qe,y:Ee})=>({x:Math.floor(Qe+yt),y:Math.floor(Ee+Ze)}),_e=E.map(Qe=>{const{boundingBox:Ee,cornerPoints:sn}=Qe,{x:Ut,y:Ke}=ke(Ve({x:Ee.x,y:Ee.y})),{x:Ft,y:un}=Ve({x:Ee.width,y:Ee.height});return{...Qe,cornerPoints:sn.map(Lt=>ke(Ve(Lt))),boundingBox:DOMRectReadOnly.fromRect({x:Ut,y:Ke,width:Ft,height:un})}});k.width=$.offsetWidth,k.height=$.offsetHeight;const an=k.getContext("2d");n.track(_e,an)}},D={width:"100%",height:"100%",position:"relative","z-index":"0"},O={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},F={width:"100%",height:"100%","object-fit":"cover"},z=te(()=>v.value?F:{...F,visibility:"hidden",position:"absolute"});return(E,k)=>(H(),it("div",{style:D},[Q("video",{ref_key:"videoRef",ref:c,style:el(z.value),autoplay:"",muted:"",playsinline:""},null,4),wr(Q("canvas",{id:"qrcode-stream-pause-frame",ref_key:"pauseFrameRef",ref:u,style:F},null,512),[[br,!v.value]]),Q("canvas",{id:"qrcode-stream-tracking-layer",ref_key:"trackingLayerRef",ref:d,style:O},null,512),Q("div",{style:O},[En(E.$slots,"default")])]))}}),Bf={class:"my-2"},zf=fe({__name:"DialogueConnexion",setup(e){const{மொழியாக்கம்_பயன்படுத்து:t}=ye(),{$மொ:n}=t(),{mdAndUp:r}=$t(),i=Mt(),s=re(!1),u=re("afficher"),d=xe(i.réseau.suivreMesAdresses),c=te(()=>d.value?JSON.stringify(d.value.map(D=>D.toString())):void 0);function f(D,O){for(const F of D){const{boundingBox:{x:z,y:E,width:k,height:$}}=F;O.lineWidth=2,O.strokeStyle="#007bff",O.strokeRect(z,E,k,$)}}const p=re(),m=re();function v(D){m.value=`[${D.name}]: `,D.name==="NotAllowedError"?m.value+="you need to grant camera access permission":D.name==="NotFoundError"?m.value+="no camera on this device":D.name==="NotSupportedError"?m.value+="secure context required (HTTPS, localhost)":D.name==="NotReadableError"?m.value+="is the camera already in use?":D.name==="OverconstrainedError"?m.value+="installed cameras are not suitable":D.name==="StreamApiNotSupportedError"?m.value+="Stream API is not supported in this browser":D.name==="InsecureContextError"?m.value+="Camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.":m.value+=D.message}function y(D){try{p.value=JSON.stringify(D.map(O=>O.rawValue))}catch{p.value=void 0}}const S=re();return _t(async()=>{if(S.value=void 0,p.value)try{const D=JSON.parse(p.value);if(Array.isArray(D))for(const O of D)await i.réseau.connecterÀAdresse({adresse:O}),S.value=O}catch{}}),(D,O)=>(H(),B(Cr,{modelValue:s.value,"onUpdate:modelValue":O[2]||(O[2]=F=>s.value=F)},{activator:w(({props:F})=>[En(D.$slots,"activator",va(ga({props:F})))]),default:w(()=>[_(De,{class:"mx-auto","min-width":b(r)?500:300},{default:w(()=>[_(Xe,null,{default:w(()=>[_(je,{class:"d-flex"},{default:w(()=>[q(N(b(n)("accueil.page.connectivité.réseau.connexion.titre"))+" ",1),_(xr),_(oe,{icon:"mdi-close",size:"small",variant:"flat",onClick:O[0]||(O[0]=F=>s.value=!1)})]),_:1})]),_:1}),_(We,{class:"text-center"},{default:w(()=>[Q("div",Bf,[u.value==="numériser"?(H(),B(b(Yf),{key:0,track:f,onDetect:y,onError:v})):(H(),B(Ml,{key:1,value:c.value,size:200},null,8,["value"]))]),_(tl,{modelValue:u.value,"onUpdate:modelValue":O[1]||(O[1]=F=>u.value=F)},{default:w(()=>[_(oe,{value:"afficher"},{default:w(()=>[_(ot,{start:""},{default:w(()=>O[3]||(O[3]=[q("mdi-qrcode")])),_:1}),O[4]||(O[4]=q(' "Afficher mon code" '))]),_:1}),_(oe,{value:"numériser"},{default:w(()=>[_(ot,{start:""},{default:w(()=>O[5]||(O[5]=[q("mdi-qrcode-scan")])),_:1}),O[6]||(O[6]=q(' "Numériser un code" '))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["min-width"])]),_:3},8,["modelValue"]))}}),Jf=fe({__name:"SousPanelServeurLocal",setup(e){const t=nl(),{மொழியாக்கம்_பயன்படுத்து:n}=ye(),{$மொ:r}=n(),i=xe(t.suivreRequêtesAuthServeur.bind(t)),s=te(()=>i.value?.length),u=xe(t.suivreÉtatServeur);return(d,c)=>(H(),B(De,{class:"text-start",style:{height:"100%"}},{default:w(()=>[_(Xe,null,{default:w(()=>[_(je,null,{default:w(()=>[_(bt,null,{default:w(()=>[_(ot,null,{default:w(()=>c[0]||(c[0]=[q("mdi-server")])),_:1})]),_:1}),q(" "+N(b(r)("accueil.page.connectivité.serveurLocal.titre")),1)]),_:1})]),_:1}),_(We,null,{default:w(()=>[_(xt,null,{default:w(()=>[_(Re,null,{default:w(()=>[_(ya,{class:"mx-2",density:"compact",label:b(u)?.état==="actif"?"'Activé'":"'Désactivé'"},null,8,["label"])]),_:1}),_(Re,{"prepend-icon":"mdi-lan"},{title:w(()=>c[1]||(c[1]=[q(" 'Connections' ")])),_:1}),_(Re,{"prepend-icon":"mdi-lan"},{title:w(()=>[q(" 'Requêtes': "+N(s.value||0),1)]),_:1})]),_:1})]),_:1})]),_:1}))}}),Xf={class:"text-h4"},Gf={class:"text-center"},Zf=fe({__name:"PanelConnectivité",setup(e){const t=Mt(),{மொழியாக்கம்_பயன்படுத்து:n}=ye(),{$மொ:r}=n(),{mdAndUp:i,smAndUp:s}=$t(),u=Sl(),d=xe(t.réseau.suivreConnexionsPostesSFIP),c=te(()=>d.value?.length),f=xe(t.réseau.suivreConnexionsDispositifs),p=te(()=>f.value?f.value.length-1:void 0);return(m,v)=>(H(),B(Tr,null,{default:w(()=>[_(Ue,{cols:"12"},{default:w(()=>[Q("p",Xf,N(b(r)("accueil.page.connectivité.titre")),1)]),_:1}),_(Ue,{cols:b(i)?4:b(s)?6:12},{default:w(()=>[_(De,{class:"text-start",style:{height:"100%"}},{default:w(()=>[_(Xe,null,{default:w(()=>[_(je,null,{default:w(()=>[_(bt,null,{default:w(()=>[_(ot,null,{default:w(()=>v[0]||(v[0]=[q("mdi-wifi-arrow-up-down")])),_:1})]),_:1}),q(" "+N(b(r)("accueil.page.connectivité.réseau.titre")),1)]),_:1})]),_:1}),_(We,null,{default:w(()=>[_(xt,null,{default:w(()=>[_(Re,{"prepend-icon":b(u)?"mdi-wifi-check":"mdi-wifi-off"},{default:w(()=>[q(N(b(u)?b(r)("accueil.page.connectivité.réseau.enLigne"):b(r)("accueil.page.connectivité.réseau.horsLigne")),1)]),_:1},8,["prepend-icon"]),_(Re,{"prepend-icon":c.value?"mdi-lan-connect":"mdi-lan-disconnect"},{default:w(()=>[q(N(b(r)("accueil.page.connectivité.réseau.connexionsRéseau",c.value)),1)]),_:1},8,["prepend-icon"]),_(Re,{"prepend-icon":p.value?"mdi-lan-connect":"mdi-lan-disconnect"},{default:w(()=>[q(N(b(r)("accueil.page.connectivité.réseau.connexionsDispositifs",p.value)),1)]),_:1},8,["prepend-icon"])]),_:1}),Q("div",Gf,[_(zf,null,{activator:w(({props:y})=>[_(oe,nt(y,{class:"mx-auto",variant:"outlined","prepend-icon":"mdi-wifi-plus"}),{default:w(()=>[q(N(b(r)("accueil.page.connectivité.réseau.connecter")),1)]),_:2},1040)]),_:1})])]),_:1})]),_:1})]),_:1},8,["cols"]),b(rl)?(H(),B(Ue,{key:0,cols:b(i)?4:b(s)?6:12},{default:w(()=>[_(Jf)]),_:1},8,["cols"])):pt("",!0)]),_:1}))}}),Qf=fe({__name:"PanelDécouvrir",setup(e){const{மொழியாக்கம்_பயன்படுத்து:t}=ye(),{$மொ:n}=t(),{isRtl:r}=vi(),{name:i}=_a();return(s,u)=>(H(),B(De,{class:gi(["text-start",b(i)==="light"?"carte-découverte":"carte-découverte-nuit"]),variant:"flat",height:"175"},{default:w(()=>[_(Xe,null,{default:w(()=>[_(je,null,{default:w(()=>[q(N(b(n)("accueil.page.découvrir.titre")),1)]),_:1})]),_:1}),_(We,null,{default:w(()=>[_(oe,{class:"ma-2","prepend-icon":"mdi-database","append-icon":b(r)?"mdi-chevron-left":"mdi-chevron-right",onClick:u[0]||(u[0]=()=>s.$router.push(encodeURI("./recherche")))},{default:w(()=>[q(N(b(n)("accueil.page.découvrir.données")),1)]),_:1},8,["append-icon"]),_(oe,{class:"ma-2","prepend-icon":"mdi-chat-outline","append-icon":b(r)?"mdi-chevron-left":"mdi-chevron-right",onClick:u[1]||(u[1]=()=>b(Qt)(encodeURI(b(il))))},{default:w(()=>[q(N(b(n)("accueil.page.découvrir.communauté")),1)]),_:1},8,["append-icon"])]),_:1})]),_:1},8,["class"]))}}),Kf=yi(Qf,[["__scopeId","data-v-8fceaccd"]]),ed=({à:e,résolution:t})=>{switch(t){case"heure":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"jour":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"mois":return new Date(e.getFullYear(),e.getMonth());case"année":return new Date(e.getFullYear(),0);default:throw new Error(t)}},td=({résolution:e="jour"})=>ol("historique",{state:()=>({historique:{}}),actions:{observer({clef:t,val:n}){if(n===void 0)return;if(this.historique[t]){const i=Math.max(...Object.keys(this.historique[t]).map(parseInt));if(n===this.historique[t][i])return}this.historique[t]||(this.historique[t]={});const r=ed({à:new Date,résolution:e}).getTime();this.historique[t][r]=n}},getters:{obtHistorique(t){return n=>Object.entries(t.historique[n]||{}).map(([r,i])=>({date:r,val:i}))}},persist:{afterRestore:()=>{}}})();function nr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nd(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Mi(e){let t,n,r;e.length!==2?(t=nr,n=(d,c)=>nr(e(d),c),r=(d,c)=>e(d)-c):(t=e===nr||e===nd?e:rd,n=e,r=e);function i(d,c,f=0,p=d.length){if(f<p){if(t(c,c)!==0)return p;do{const m=f+p>>>1;n(d[m],c)<0?f=m+1:p=m}while(f<p)}return f}function s(d,c,f=0,p=d.length){if(f<p){if(t(c,c)!==0)return p;do{const m=f+p>>>1;n(d[m],c)<=0?f=m+1:p=m}while(f<p)}return f}function u(d,c,f=0,p=d.length){const m=i(d,c,f,p-1);return m>f&&r(d[m-1],c)>-r(d[m],c)?m-1:m}return{left:i,center:u,right:s}}function rd(){return 0}function id(e){return e===null?NaN:+e}const od=Mi(nr),ad=od.right;Mi(id).center;function sd(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}const ud=Math.sqrt(50),cd=Math.sqrt(10),ld=Math.sqrt(2);function sr(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),u=s>=ud?10:s>=cd?5:s>=ld?2:1;let d,c,f;return i<0?(f=Math.pow(10,-i)/u,d=Math.round(e*f),c=Math.round(t*f),d/f<e&&++d,c/f>t&&--c,f=-f):(f=Math.pow(10,i)*u,d=Math.round(e/f),c=Math.round(t/f),d*f<e&&++d,c*f>t&&--c),c<d&&.5<=n&&n<2?sr(e,t,n*2):[d,c,f]}function fd(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,u]=r?sr(t,e,n):sr(e,t,n);if(!(s>=i))return[];const d=s-i+1,c=new Array(d);if(r)if(u<0)for(let f=0;f<d;++f)c[f]=(s-f)/-u;else for(let f=0;f<d;++f)c[f]=(s-f)*u;else if(u<0)for(let f=0;f<d;++f)c[f]=(i+f)/-u;else for(let f=0;f<d;++f)c[f]=(i+f)*u;return c}function ri(e,t,n){return t=+t,e=+e,n=+n,sr(e,t,n)[2]}function ii(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?ri(t,e,n):ri(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function dd(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function hd(e){return e}var Jr=1,Xr=2,oi=3,xn=4,Ro=1e-6;function pd(e){return"translate("+e+",0)"}function md(e){return"translate(0,"+e+")"}function vd(e){return t=>+e(t)}function gd(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function yd(){return!this.__axis}function ns(e,t){var n=[],r=null,i=null,s=6,u=6,d=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=e===Jr||e===xn?-1:1,p=e===xn||e===Xr?"x":"y",m=e===Jr||e===oi?pd:md;function v(y){var S=r??(t.ticks?t.ticks.apply(t,n):t.domain()),D=i??(t.tickFormat?t.tickFormat.apply(t,n):hd),O=Math.max(s,0)+d,F=t.range(),z=+F[0]+c,E=+F[F.length-1]+c,k=(t.bandwidth?gd:vd)(t.copy(),c),$=y.selection?y.selection():y,L=$.selectAll(".domain").data([null]),G=$.selectAll(".tick").data(S,t).order(),Te=G.exit(),Pe=G.enter().append("g").attr("class","tick"),Ae=G.select("line"),W=G.select("text");L=L.merge(L.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),G=G.merge(Pe),Ae=Ae.merge(Pe.append("line").attr("stroke","currentColor").attr(p+"2",f*s)),W=W.merge(Pe.append("text").attr("fill","currentColor").attr(p,f*O).attr("dy",e===Jr?"0em":e===oi?"0.71em":"0.32em")),y!==$&&(L=L.transition(y),G=G.transition(y),Ae=Ae.transition(y),W=W.transition(y),Te=Te.transition(y).attr("opacity",Ro).attr("transform",function(ae){return isFinite(ae=k(ae))?m(ae+c):this.getAttribute("transform")}),Pe.attr("opacity",Ro).attr("transform",function(ae){var se=this.parentNode.__axis;return m((se&&isFinite(se=se(ae))?se:k(ae))+c)})),Te.remove(),L.attr("d",e===xn||e===Xr?u?"M"+f*u+","+z+"H"+c+"V"+E+"H"+f*u:"M"+c+","+z+"V"+E:u?"M"+z+","+f*u+"V"+c+"H"+E+"V"+f*u:"M"+z+","+c+"H"+E),G.attr("opacity",1).attr("transform",function(ae){return m(k(ae)+c)}),Ae.attr(p+"2",f*s),W.attr(p,f*O).text(D),$.filter(yd).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Xr?"start":e===xn?"end":"middle"),$.each(function(){this.__axis=k})}return v.scale=function(y){return arguments.length?(t=y,v):t},v.ticks=function(){return n=Array.from(arguments),v},v.tickArguments=function(y){return arguments.length?(n=y==null?[]:Array.from(y),v):n.slice()},v.tickValues=function(y){return arguments.length?(r=y==null?null:Array.from(y),v):r&&r.slice()},v.tickFormat=function(y){return arguments.length?(i=y,v):i},v.tickSize=function(y){return arguments.length?(s=u=+y,v):s},v.tickSizeInner=function(y){return arguments.length?(s=+y,v):s},v.tickSizeOuter=function(y){return arguments.length?(u=+y,v):u},v.tickPadding=function(y){return arguments.length?(d=+y,v):d},v.offset=function(y){return arguments.length?(c=+y,v):c},v}function _d(e){return ns(oi,e)}function wd(e){return ns(xn,e)}var bd={value:()=>{}};function rs(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new rr(n)}function rr(e){this._=e}function xd(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}rr.prototype=rs.prototype={constructor:rr,on:function(e,t){var n=this._,r=xd(e+"",n),i,s=-1,u=r.length;if(arguments.length<2){for(;++s<u;)if((i=(e=r[s]).type)&&(i=Cd(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<u;)if(i=(e=r[s]).type)n[i]=Io(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Io(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new rr(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function Cd(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Io(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=bd,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ai="http://www.w3.org/1999/xhtml";const No={svg:"http://www.w3.org/2000/svg",xhtml:ai,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $r(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),No.hasOwnProperty(t)?{space:No[t],local:e}:e}function Td(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ai&&t.documentElement.namespaceURI===ai?t.createElement(e):t.createElementNS(n,e)}}function $d(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function is(e){var t=$r(e);return(t.local?$d:Td)(t)}function Md(){}function Si(e){return e==null?Md:function(){return this.querySelector(e)}}function Sd(e){typeof e!="function"&&(e=Si(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],u=s.length,d=r[i]=new Array(u),c,f,p=0;p<u;++p)(c=s[p])&&(f=e.call(c,c.__data__,p,s))&&("__data__"in c&&(f.__data__=c.__data__),d[p]=f);return new Fe(r,this._parents)}function kd(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ad(){return[]}function os(e){return e==null?Ad:function(){return this.querySelectorAll(e)}}function Dd(e){return function(){return kd(e.apply(this,arguments))}}function Pd(e){typeof e=="function"?e=Dd(e):e=os(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var u=t[s],d=u.length,c,f=0;f<d;++f)(c=u[f])&&(r.push(e.call(c,c.__data__,f,u)),i.push(c));return new Fe(r,i)}function as(e){return function(){return this.matches(e)}}function ss(e){return function(t){return t.matches(e)}}var Ed=Array.prototype.find;function Od(e){return function(){return Ed.call(this.children,e)}}function Rd(){return this.firstElementChild}function Id(e){return this.select(e==null?Rd:Od(typeof e=="function"?e:ss(e)))}var Nd=Array.prototype.filter;function Ud(){return Array.from(this.children)}function Fd(e){return function(){return Nd.call(this.children,e)}}function Ld(e){return this.selectAll(e==null?Ud:Fd(typeof e=="function"?e:ss(e)))}function Vd(e){typeof e!="function"&&(e=as(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],u=s.length,d=r[i]=[],c,f=0;f<u;++f)(c=s[f])&&e.call(c,c.__data__,f,s)&&d.push(c);return new Fe(r,this._parents)}function us(e){return new Array(e.length)}function qd(){return new Fe(this._enter||this._groups.map(us),this._parents)}function ur(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ur.prototype={constructor:ur,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Hd(e){return function(){return e}}function jd(e,t,n,r,i,s){for(var u=0,d,c=t.length,f=s.length;u<f;++u)(d=t[u])?(d.__data__=s[u],r[u]=d):n[u]=new ur(e,s[u]);for(;u<c;++u)(d=t[u])&&(i[u]=d)}function Wd(e,t,n,r,i,s,u){var d,c,f=new Map,p=t.length,m=s.length,v=new Array(p),y;for(d=0;d<p;++d)(c=t[d])&&(v[d]=y=u.call(c,c.__data__,d,t)+"",f.has(y)?i[d]=c:f.set(y,c));for(d=0;d<m;++d)y=u.call(e,s[d],d,s)+"",(c=f.get(y))?(r[d]=c,c.__data__=s[d],f.delete(y)):n[d]=new ur(e,s[d]);for(d=0;d<p;++d)(c=t[d])&&f.get(v[d])===c&&(i[d]=c)}function Yd(e){return e.__data__}function Bd(e,t){if(!arguments.length)return Array.from(this,Yd);var n=t?Wd:jd,r=this._parents,i=this._groups;typeof e!="function"&&(e=Hd(e));for(var s=i.length,u=new Array(s),d=new Array(s),c=new Array(s),f=0;f<s;++f){var p=r[f],m=i[f],v=m.length,y=zd(e.call(p,p&&p.__data__,f,r)),S=y.length,D=d[f]=new Array(S),O=u[f]=new Array(S),F=c[f]=new Array(v);n(p,m,D,O,F,y,t);for(var z=0,E=0,k,$;z<S;++z)if(k=D[z]){for(z>=E&&(E=z+1);!($=O[E])&&++E<S;);k._next=$||null}}return u=new Fe(u,r),u._enter=d,u._exit=c,u}function zd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Jd(){return new Fe(this._exit||this._groups.map(us),this._parents)}function Xd(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Gd(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,u=Math.min(i,s),d=new Array(i),c=0;c<u;++c)for(var f=n[c],p=r[c],m=f.length,v=d[c]=new Array(m),y,S=0;S<m;++S)(y=f[S]||p[S])&&(v[S]=y);for(;c<i;++c)d[c]=n[c];return new Fe(d,this._parents)}function Zd(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],u;--i>=0;)(u=r[i])&&(s&&u.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(u,s),s=u);return this}function Qd(e){e||(e=Kd);function t(m,v){return m&&v?e(m.__data__,v.__data__):!m-!v}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var u=n[s],d=u.length,c=i[s]=new Array(d),f,p=0;p<d;++p)(f=u[p])&&(c[p]=f);c.sort(t)}return new Fe(i,this._parents).order()}function Kd(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function eh(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function th(){return Array.from(this)}function nh(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var u=r[i];if(u)return u}return null}function rh(){let e=0;for(const t of this)++e;return e}function ih(){return!this.node()}function oh(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,u=i.length,d;s<u;++s)(d=i[s])&&e.call(d,d.__data__,s,i);return this}function ah(e){return function(){this.removeAttribute(e)}}function sh(e){return function(){this.removeAttributeNS(e.space,e.local)}}function uh(e,t){return function(){this.setAttribute(e,t)}}function ch(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function lh(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function fh(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function dh(e,t){var n=$r(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?sh:ah:typeof t=="function"?n.local?fh:lh:n.local?ch:uh)(n,t))}function cs(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function hh(e){return function(){this.style.removeProperty(e)}}function ph(e,t,n){return function(){this.style.setProperty(e,t,n)}}function mh(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function vh(e,t,n){return arguments.length>1?this.each((t==null?hh:typeof t=="function"?mh:ph)(e,t,n??"")):en(this.node(),e)}function en(e,t){return e.style.getPropertyValue(t)||cs(e).getComputedStyle(e,null).getPropertyValue(t)}function gh(e){return function(){delete this[e]}}function yh(e,t){return function(){this[e]=t}}function _h(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function wh(e,t){return arguments.length>1?this.each((t==null?gh:typeof t=="function"?_h:yh)(e,t)):this.node()[e]}function ls(e){return e.trim().split(/^|\s+/)}function ki(e){return e.classList||new fs(e)}function fs(e){this._node=e,this._names=ls(e.getAttribute("class")||"")}fs.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ds(e,t){for(var n=ki(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function hs(e,t){for(var n=ki(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function bh(e){return function(){ds(this,e)}}function xh(e){return function(){hs(this,e)}}function Ch(e,t){return function(){(t.apply(this,arguments)?ds:hs)(this,e)}}function Th(e,t){var n=ls(e+"");if(arguments.length<2){for(var r=ki(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Ch:t?bh:xh)(n,t))}function $h(){this.textContent=""}function Mh(e){return function(){this.textContent=e}}function Sh(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function kh(e){return arguments.length?this.each(e==null?$h:(typeof e=="function"?Sh:Mh)(e)):this.node().textContent}function Ah(){this.innerHTML=""}function Dh(e){return function(){this.innerHTML=e}}function Ph(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Eh(e){return arguments.length?this.each(e==null?Ah:(typeof e=="function"?Ph:Dh)(e)):this.node().innerHTML}function Oh(){this.nextSibling&&this.parentNode.appendChild(this)}function Rh(){return this.each(Oh)}function Ih(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Nh(){return this.each(Ih)}function Uh(e){var t=typeof e=="function"?e:is(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Fh(){return null}function Lh(e,t){var n=typeof e=="function"?e:is(e),r=t==null?Fh:typeof t=="function"?t:Si(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Vh(){var e=this.parentNode;e&&e.removeChild(this)}function qh(){return this.each(Vh)}function Hh(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jh(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Wh(e){return this.select(e?jh:Hh)}function Yh(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Bh(e){return function(t){e.call(this,t,this.__data__)}}function zh(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Jh(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function Xh(e,t,n){return function(){var r=this.__on,i,s=Bh(t);if(r){for(var u=0,d=r.length;u<d;++u)if((i=r[u]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Gh(e,t,n){var r=zh(e+""),i,s=r.length,u;if(arguments.length<2){var d=this.node().__on;if(d){for(var c=0,f=d.length,p;c<f;++c)for(i=0,p=d[c];i<s;++i)if((u=r[i]).type===p.type&&u.name===p.name)return p.value}return}for(d=t?Xh:Jh,i=0;i<s;++i)this.each(d(r[i],t,n));return this}function ps(e,t,n){var r=cs(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Zh(e,t){return function(){return ps(this,e,t)}}function Qh(e,t){return function(){return ps(this,e,t.apply(this,arguments))}}function Kh(e,t){return this.each((typeof t=="function"?Qh:Zh)(e,t))}function*ep(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,u;i<s;++i)(u=r[i])&&(yield u)}var ms=[null];function Fe(e,t){this._groups=e,this._parents=t}function On(){return new Fe([[document.documentElement]],ms)}function tp(){return this}Fe.prototype=On.prototype={constructor:Fe,select:Sd,selectAll:Pd,selectChild:Id,selectChildren:Ld,filter:Vd,data:Bd,enter:qd,exit:Jd,join:Xd,merge:Gd,selection:tp,order:Zd,sort:Qd,call:eh,nodes:th,node:nh,size:rh,empty:ih,each:oh,attr:dh,style:vh,property:wh,classed:Th,text:kh,html:Eh,raise:Rh,lower:Nh,append:Uh,insert:Lh,remove:qh,clone:Wh,datum:Yh,on:Gh,dispatch:Kh,[Symbol.iterator]:ep};function np(e){return typeof e=="string"?new Fe([[document.querySelector(e)]],[document.documentElement]):new Fe([[e]],ms)}function Ai(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function vs(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Rn(){}var An=.7,cr=1/An,Gt="\\s*([+-]?\\d+)\\s*",Dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rp=/^#([0-9a-f]{3,8})$/,ip=new RegExp(`^rgb\\(${Gt},${Gt},${Gt}\\)$`),op=new RegExp(`^rgb\\(${rt},${rt},${rt}\\)$`),ap=new RegExp(`^rgba\\(${Gt},${Gt},${Gt},${Dn}\\)$`),sp=new RegExp(`^rgba\\(${rt},${rt},${rt},${Dn}\\)$`),up=new RegExp(`^hsl\\(${Dn},${rt},${rt}\\)$`),cp=new RegExp(`^hsla\\(${Dn},${rt},${rt},${Dn}\\)$`),Uo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ai(Rn,Et,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Fo,formatHex:Fo,formatHex8:lp,formatHsl:fp,formatRgb:Lo,toString:Lo});function Fo(){return this.rgb().formatHex()}function lp(){return this.rgb().formatHex8()}function fp(){return gs(this).formatHsl()}function Lo(){return this.rgb().formatRgb()}function Et(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=rp.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Vo(t):n===3?new Ie(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Gn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Gn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ip.exec(e))?new Ie(t[1],t[2],t[3],1):(t=op.exec(e))?new Ie(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ap.exec(e))?Gn(t[1],t[2],t[3],t[4]):(t=sp.exec(e))?Gn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=up.exec(e))?jo(t[1],t[2]/100,t[3]/100,1):(t=cp.exec(e))?jo(t[1],t[2]/100,t[3]/100,t[4]):Uo.hasOwnProperty(e)?Vo(Uo[e]):e==="transparent"?new Ie(NaN,NaN,NaN,0):null}function Vo(e){return new Ie(e>>16&255,e>>8&255,e&255,1)}function Gn(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ie(e,t,n,r)}function dp(e){return e instanceof Rn||(e=Et(e)),e?(e=e.rgb(),new Ie(e.r,e.g,e.b,e.opacity)):new Ie}function si(e,t,n,r){return arguments.length===1?dp(e):new Ie(e,t,n,r??1)}function Ie(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ai(Ie,si,vs(Rn,{brighter(e){return e=e==null?cr:Math.pow(cr,e),new Ie(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?An:Math.pow(An,e),new Ie(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ie(Pt(this.r),Pt(this.g),Pt(this.b),lr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qo,formatHex:qo,formatHex8:hp,formatRgb:Ho,toString:Ho}));function qo(){return`#${Dt(this.r)}${Dt(this.g)}${Dt(this.b)}`}function hp(){return`#${Dt(this.r)}${Dt(this.g)}${Dt(this.b)}${Dt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ho(){const e=lr(this.opacity);return`${e===1?"rgb(":"rgba("}${Pt(this.r)}, ${Pt(this.g)}, ${Pt(this.b)}${e===1?")":`, ${e})`}`}function lr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Dt(e){return e=Pt(e),(e<16?"0":"")+e.toString(16)}function jo(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Je(e,t,n,r)}function gs(e){if(e instanceof Je)return new Je(e.h,e.s,e.l,e.opacity);if(e instanceof Rn||(e=Et(e)),!e)return new Je;if(e instanceof Je)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),u=NaN,d=s-i,c=(s+i)/2;return d?(t===s?u=(n-r)/d+(n<r)*6:n===s?u=(r-t)/d+2:u=(t-n)/d+4,d/=c<.5?s+i:2-s-i,u*=60):d=c>0&&c<1?0:u,new Je(u,d,c,e.opacity)}function pp(e,t,n,r){return arguments.length===1?gs(e):new Je(e,t,n,r??1)}function Je(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ai(Je,pp,vs(Rn,{brighter(e){return e=e==null?cr:Math.pow(cr,e),new Je(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?An:Math.pow(An,e),new Je(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ie(Gr(e>=240?e-240:e+120,i,r),Gr(e,i,r),Gr(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Je(Wo(this.h),Zn(this.s),Zn(this.l),lr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lr(this.opacity);return`${e===1?"hsl(":"hsla("}${Wo(this.h)}, ${Zn(this.s)*100}%, ${Zn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Wo(e){return e=(e||0)%360,e<0?e+360:e}function Zn(e){return Math.max(0,Math.min(1,e||0))}function Gr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Di=e=>()=>e;function mp(e,t){return function(n){return e+n*t}}function vp(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function gp(e){return(e=+e)==1?ys:function(t,n){return n-t?vp(t,n,e):Di(isNaN(t)?n:t)}}function ys(e,t){var n=t-e;return n?mp(e,n):Di(isNaN(e)?t:e)}const fr=function e(t){var n=gp(t);function r(i,s){var u=n((i=si(i)).r,(s=si(s)).r),d=n(i.g,s.g),c=n(i.b,s.b),f=ys(i.opacity,s.opacity);return function(p){return i.r=u(p),i.g=d(p),i.b=c(p),i.opacity=f(p),i+""}}return r.gamma=e,r}(1);function yp(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function _p(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wp(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),u;for(u=0;u<r;++u)i[u]=Pi(e[u],t[u]);for(;u<n;++u)s[u]=t[u];return function(d){for(u=0;u<r;++u)s[u]=i[u](d);return s}}function bp(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ze(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function xp(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Pi(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var ui=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zr=new RegExp(ui.source,"g");function Cp(e){return function(){return e}}function Tp(e){return function(t){return e(t)+""}}function _s(e,t){var n=ui.lastIndex=Zr.lastIndex=0,r,i,s,u=-1,d=[],c=[];for(e=e+"",t=t+"";(r=ui.exec(e))&&(i=Zr.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),d[u]?d[u]+=s:d[++u]=s),(r=r[0])===(i=i[0])?d[u]?d[u]+=i:d[++u]=i:(d[++u]=null,c.push({i:u,x:ze(r,i)})),n=Zr.lastIndex;return n<t.length&&(s=t.slice(n),d[u]?d[u]+=s:d[++u]=s),d.length<2?c[0]?Tp(c[0].x):Cp(t):(t=c.length,function(f){for(var p=0,m;p<t;++p)d[(m=c[p]).i]=m.x(f);return d.join("")})}function Pi(e,t){var n=typeof t,r;return t==null||n==="boolean"?Di(t):(n==="number"?ze:n==="string"?(r=Et(t))?(t=r,fr):_s:t instanceof Et?fr:t instanceof Date?bp:_p(t)?yp:Array.isArray(t)?wp:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xp:ze)(e,t)}function $p(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Yo=180/Math.PI,ci={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ws(e,t,n,r,i,s){var u,d,c;return(u=Math.sqrt(e*e+t*t))&&(e/=u,t/=u),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(d=Math.sqrt(n*n+r*r))&&(n/=d,r/=d,c/=d),e*r<t*n&&(e=-e,t=-t,c=-c,u=-u),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Yo,skewX:Math.atan(c)*Yo,scaleX:u,scaleY:d}}var Qn;function Mp(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ci:ws(t.a,t.b,t.c,t.d,t.e,t.f)}function Sp(e){return e==null||(Qn||(Qn=document.createElementNS("http://www.w3.org/2000/svg","g")),Qn.setAttribute("transform",e),!(e=Qn.transform.baseVal.consolidate()))?ci:(e=e.matrix,ws(e.a,e.b,e.c,e.d,e.e,e.f))}function bs(e,t,n,r){function i(f){return f.length?f.pop()+" ":""}function s(f,p,m,v,y,S){if(f!==m||p!==v){var D=y.push("translate(",null,t,null,n);S.push({i:D-4,x:ze(f,m)},{i:D-2,x:ze(p,v)})}else(m||v)&&y.push("translate("+m+t+v+n)}function u(f,p,m,v){f!==p?(f-p>180?p+=360:p-f>180&&(f+=360),v.push({i:m.push(i(m)+"rotate(",null,r)-2,x:ze(f,p)})):p&&m.push(i(m)+"rotate("+p+r)}function d(f,p,m,v){f!==p?v.push({i:m.push(i(m)+"skewX(",null,r)-2,x:ze(f,p)}):p&&m.push(i(m)+"skewX("+p+r)}function c(f,p,m,v,y,S){if(f!==m||p!==v){var D=y.push(i(y)+"scale(",null,",",null,")");S.push({i:D-4,x:ze(f,m)},{i:D-2,x:ze(p,v)})}else(m!==1||v!==1)&&y.push(i(y)+"scale("+m+","+v+")")}return function(f,p){var m=[],v=[];return f=e(f),p=e(p),s(f.translateX,f.translateY,p.translateX,p.translateY,m,v),u(f.rotate,p.rotate,m,v),d(f.skewX,p.skewX,m,v),c(f.scaleX,f.scaleY,p.scaleX,p.scaleY,m,v),f=p=null,function(y){for(var S=-1,D=v.length,O;++S<D;)m[(O=v[S]).i]=O.x(y);return m.join("")}}}var kp=bs(Mp,"px, ","px)","deg)"),Ap=bs(Sp,", ",")",")"),tn=0,Cn=0,gn=0,xs=1e3,dr,Tn,hr=0,Ot=0,Mr=0,Pn=typeof performance=="object"&&performance.now?performance:Date,Cs=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ei(){return Ot||(Cs(Dp),Ot=Pn.now()+Mr)}function Dp(){Ot=0}function pr(){this._call=this._time=this._next=null}pr.prototype=Ts.prototype={constructor:pr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ei():+n)+(t==null?0:+t),!this._next&&Tn!==this&&(Tn?Tn._next=this:dr=this,Tn=this),this._call=e,this._time=n,li()},stop:function(){this._call&&(this._call=null,this._time=1/0,li())}};function Ts(e,t,n){var r=new pr;return r.restart(e,t,n),r}function Pp(){Ei(),++tn;for(var e=dr,t;e;)(t=Ot-e._time)>=0&&e._call.call(void 0,t),e=e._next;--tn}function Bo(){Ot=(hr=Pn.now())+Mr,tn=Cn=0;try{Pp()}finally{tn=0,Op(),Ot=0}}function Ep(){var e=Pn.now(),t=e-hr;t>xs&&(Mr-=t,hr=e)}function Op(){for(var e,t=dr,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:dr=n);Tn=e,li(r)}function li(e){if(!tn){Cn&&(Cn=clearTimeout(Cn));var t=e-Ot;t>24?(e<1/0&&(Cn=setTimeout(Bo,e-Pn.now()-Mr)),gn&&(gn=clearInterval(gn))):(gn||(hr=Pn.now(),gn=setInterval(Ep,xs)),tn=1,Cs(Bo))}}function zo(e,t,n){var r=new pr;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Rp=rs("start","end","cancel","interrupt"),Ip=[],$s=0,Jo=1,fi=2,ir=3,Xo=4,di=5,or=6;function Sr(e,t,n,r,i,s){var u=e.__transition;if(!u)e.__transition={};else if(n in u)return;Np(e,n,{name:t,index:r,group:i,on:Rp,tween:Ip,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:$s})}function Oi(e,t){var n=Ge(e,t);if(n.state>$s)throw new Error("too late; already scheduled");return n}function st(e,t){var n=Ge(e,t);if(n.state>ir)throw new Error("too late; already running");return n}function Ge(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Np(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Ts(s,0,n.time);function s(f){n.state=Jo,n.timer.restart(u,n.delay,n.time),n.delay<=f&&u(f-n.delay)}function u(f){var p,m,v,y;if(n.state!==Jo)return c();for(p in r)if(y=r[p],y.name===n.name){if(y.state===ir)return zo(u);y.state===Xo?(y.state=or,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete r[p]):+p<t&&(y.state=or,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete r[p])}if(zo(function(){n.state===ir&&(n.state=Xo,n.timer.restart(d,n.delay,n.time),d(f))}),n.state=fi,n.on.call("start",e,e.__data__,n.index,n.group),n.state===fi){for(n.state=ir,i=new Array(v=n.tween.length),p=0,m=-1;p<v;++p)(y=n.tween[p].value.call(e,e.__data__,n.index,n.group))&&(i[++m]=y);i.length=m+1}}function d(f){for(var p=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(c),n.state=di,1),m=-1,v=i.length;++m<v;)i[m].call(e,p);n.state===di&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=or,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function Up(e,t){var n=e.__transition,r,i,s=!0,u;if(n){t=t==null?null:t+"";for(u in n){if((r=n[u]).name!==t){s=!1;continue}i=r.state>fi&&r.state<di,r.state=or,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[u]}s&&delete e.__transition}}function Fp(e){return this.each(function(){Up(this,e)})}function Lp(e,t){var n,r;return function(){var i=st(this,e),s=i.tween;if(s!==n){r=n=s;for(var u=0,d=r.length;u<d;++u)if(r[u].name===t){r=r.slice(),r.splice(u,1);break}}i.tween=r}}function Vp(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=st(this,e),u=s.tween;if(u!==r){i=(r=u).slice();for(var d={name:t,value:n},c=0,f=i.length;c<f;++c)if(i[c].name===t){i[c]=d;break}c===f&&i.push(d)}s.tween=i}}function qp(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ge(this.node(),n).tween,i=0,s=r.length,u;i<s;++i)if((u=r[i]).name===e)return u.value;return null}return this.each((t==null?Lp:Vp)(n,e,t))}function Ri(e,t,n){var r=e._id;return e.each(function(){var i=st(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ge(i,r).value[t]}}function Ms(e,t){var n;return(typeof t=="number"?ze:t instanceof Et?fr:(n=Et(t))?(t=n,fr):_s)(e,t)}function Hp(e){return function(){this.removeAttribute(e)}}function jp(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Wp(e,t,n){var r,i=n+"",s;return function(){var u=this.getAttribute(e);return u===i?null:u===r?s:s=t(r=u,n)}}function Yp(e,t,n){var r,i=n+"",s;return function(){var u=this.getAttributeNS(e.space,e.local);return u===i?null:u===r?s:s=t(r=u,n)}}function Bp(e,t,n){var r,i,s;return function(){var u,d=n(this),c;return d==null?void this.removeAttribute(e):(u=this.getAttribute(e),c=d+"",u===c?null:u===r&&c===i?s:(i=c,s=t(r=u,d)))}}function zp(e,t,n){var r,i,s;return function(){var u,d=n(this),c;return d==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),c=d+"",u===c?null:u===r&&c===i?s:(i=c,s=t(r=u,d)))}}function Jp(e,t){var n=$r(e),r=n==="transform"?Ap:Ms;return this.attrTween(e,typeof t=="function"?(n.local?zp:Bp)(n,r,Ri(this,"attr."+e,t)):t==null?(n.local?jp:Hp)(n):(n.local?Yp:Wp)(n,r,t))}function Xp(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Gp(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Zp(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Gp(e,s)),n}return i._value=t,i}function Qp(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Xp(e,s)),n}return i._value=t,i}function Kp(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=$r(e);return this.tween(n,(r.local?Zp:Qp)(r,t))}function em(e,t){return function(){Oi(this,e).delay=+t.apply(this,arguments)}}function tm(e,t){return t=+t,function(){Oi(this,e).delay=t}}function nm(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?em:tm)(t,e)):Ge(this.node(),t).delay}function rm(e,t){return function(){st(this,e).duration=+t.apply(this,arguments)}}function im(e,t){return t=+t,function(){st(this,e).duration=t}}function om(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?rm:im)(t,e)):Ge(this.node(),t).duration}function am(e,t){if(typeof t!="function")throw new Error;return function(){st(this,e).ease=t}}function sm(e){var t=this._id;return arguments.length?this.each(am(t,e)):Ge(this.node(),t).ease}function um(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;st(this,e).ease=n}}function cm(e){if(typeof e!="function")throw new Error;return this.each(um(this._id,e))}function lm(e){typeof e!="function"&&(e=as(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],u=s.length,d=r[i]=[],c,f=0;f<u;++f)(c=s[f])&&e.call(c,c.__data__,f,s)&&d.push(c);return new mt(r,this._parents,this._name,this._id)}function fm(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),u=new Array(r),d=0;d<s;++d)for(var c=t[d],f=n[d],p=c.length,m=u[d]=new Array(p),v,y=0;y<p;++y)(v=c[y]||f[y])&&(m[y]=v);for(;d<r;++d)u[d]=t[d];return new mt(u,this._parents,this._name,this._id)}function dm(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function hm(e,t,n){var r,i,s=dm(t)?Oi:st;return function(){var u=s(this,e),d=u.on;d!==r&&(i=(r=d).copy()).on(t,n),u.on=i}}function pm(e,t){var n=this._id;return arguments.length<2?Ge(this.node(),n).on.on(e):this.each(hm(n,e,t))}function mm(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function vm(){return this.on("end.remove",mm(this._id))}function gm(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Si(e));for(var r=this._groups,i=r.length,s=new Array(i),u=0;u<i;++u)for(var d=r[u],c=d.length,f=s[u]=new Array(c),p,m,v=0;v<c;++v)(p=d[v])&&(m=e.call(p,p.__data__,v,d))&&("__data__"in p&&(m.__data__=p.__data__),f[v]=m,Sr(f[v],t,n,v,f,Ge(p,n)));return new mt(s,this._parents,t,n)}function ym(e){var t=this._name,n=this._id;typeof e!="function"&&(e=os(e));for(var r=this._groups,i=r.length,s=[],u=[],d=0;d<i;++d)for(var c=r[d],f=c.length,p,m=0;m<f;++m)if(p=c[m]){for(var v=e.call(p,p.__data__,m,c),y,S=Ge(p,n),D=0,O=v.length;D<O;++D)(y=v[D])&&Sr(y,t,n,D,v,S);s.push(v),u.push(p)}return new mt(s,u,t,n)}var _m=On.prototype.constructor;function wm(){return new _m(this._groups,this._parents)}function bm(e,t){var n,r,i;return function(){var s=en(this,e),u=(this.style.removeProperty(e),en(this,e));return s===u?null:s===n&&u===r?i:i=t(n=s,r=u)}}function Ss(e){return function(){this.style.removeProperty(e)}}function xm(e,t,n){var r,i=n+"",s;return function(){var u=en(this,e);return u===i?null:u===r?s:s=t(r=u,n)}}function Cm(e,t,n){var r,i,s;return function(){var u=en(this,e),d=n(this),c=d+"";return d==null&&(c=d=(this.style.removeProperty(e),en(this,e))),u===c?null:u===r&&c===i?s:(i=c,s=t(r=u,d))}}function Tm(e,t){var n,r,i,s="style."+t,u="end."+s,d;return function(){var c=st(this,e),f=c.on,p=c.value[s]==null?d||(d=Ss(t)):void 0;(f!==n||i!==p)&&(r=(n=f).copy()).on(u,i=p),c.on=r}}function $m(e,t,n){var r=(e+="")=="transform"?kp:Ms;return t==null?this.styleTween(e,bm(e,r)).on("end.style."+e,Ss(e)):typeof t=="function"?this.styleTween(e,Cm(e,r,Ri(this,"style."+e,t))).each(Tm(this._id,e)):this.styleTween(e,xm(e,r,t),n).on("end.style."+e,null)}function Mm(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Sm(e,t,n){var r,i;function s(){var u=t.apply(this,arguments);return u!==i&&(r=(i=u)&&Mm(e,u,n)),r}return s._value=t,s}function km(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Sm(e,t,n??""))}function Am(e){return function(){this.textContent=e}}function Dm(e){return function(){var t=e(this);this.textContent=t??""}}function Pm(e){return this.tween("text",typeof e=="function"?Dm(Ri(this,"text",e)):Am(e==null?"":e+""))}function Em(e){return function(t){this.textContent=e.call(this,t)}}function Om(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Em(i)),t}return r._value=e,r}function Rm(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Om(e))}function Im(){for(var e=this._name,t=this._id,n=ks(),r=this._groups,i=r.length,s=0;s<i;++s)for(var u=r[s],d=u.length,c,f=0;f<d;++f)if(c=u[f]){var p=Ge(c,t);Sr(c,e,n,f,u,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new mt(r,this._parents,e,n)}function Nm(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,u){var d={value:u},c={value:function(){--i===0&&s()}};n.each(function(){var f=st(this,r),p=f.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(d),t._.interrupt.push(d),t._.end.push(c)),f.on=t}),i===0&&s()})}var Um=0;function mt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ks(){return++Um}var ft=On.prototype;mt.prototype={constructor:mt,select:gm,selectAll:ym,selectChild:ft.selectChild,selectChildren:ft.selectChildren,filter:lm,merge:fm,selection:wm,transition:Im,call:ft.call,nodes:ft.nodes,node:ft.node,size:ft.size,empty:ft.empty,each:ft.each,on:pm,attr:Jp,attrTween:Kp,style:$m,styleTween:km,text:Pm,textTween:Rm,remove:vm,tween:qp,delay:nm,duration:om,ease:sm,easeVarying:cm,end:Nm,[Symbol.iterator]:ft[Symbol.iterator]};function Fm(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Lm={time:null,delay:0,duration:250,ease:Fm};function Vm(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function qm(e){var t,n;e instanceof mt?(t=e._id,e=e._name):(t=ks(),(n=Lm).time=Ei(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var u=r[s],d=u.length,c,f=0;f<d;++f)(c=u[f])&&Sr(c,e,t,f,u,n||Vm(c,t));return new mt(r,this._parents,e,t)}On.prototype.interrupt=Fp;On.prototype.transition=qm;const hi=Math.PI,pi=2*hi,At=1e-6,Hm=pi-At;function As(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function jm(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return As;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Wm{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?As:jm(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,u){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+u}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let u=this._x1,d=this._y1,c=r-t,f=i-n,p=u-t,m=d-n,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>At)if(!(Math.abs(m*c-f*p)>At)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-u,S=i-d,D=c*c+f*f,O=y*y+S*S,F=Math.sqrt(D),z=Math.sqrt(v),E=s*Math.tan((hi-Math.acos((D+v-O)/(2*F*z)))/2),k=E/z,$=E/F;Math.abs(k-1)>At&&this._append`L${t+k*p},${n+k*m}`,this._append`A${s},${s},0,0,${+(m*y>p*S)},${this._x1=t+$*c},${this._y1=n+$*f}`}}arc(t,n,r,i,s,u){if(t=+t,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(i),c=r*Math.sin(i),f=t+d,p=n+c,m=1^u,v=u?i-s:s-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>At||Math.abs(this._y1-p)>At)&&this._append`L${f},${p}`,r&&(v<0&&(v=v%pi+pi),v>Hm?this._append`A${r},${r},0,1,${m},${t-d},${n-c}A${r},${r},0,1,${m},${this._x1=f},${this._y1=p}`:v>At&&this._append`A${r},${r},0,${+(v>=hi)},${m},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ym(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function nn(e){return e=mr(Math.abs(e)),e?e[1]:NaN}function Bm(e,t){return function(n,r){for(var i=n.length,s=[],u=0,d=e[0],c=0;i>0&&d>0&&(c+d+1>r&&(d=Math.max(1,r-c)),s.push(n.substring(i-=d,i+d)),!((c+=d+1)>r));)d=e[u=(u+1)%e.length];return s.reverse().join(t)}}function zm(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Jm=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vr(e){if(!(t=Jm.exec(e)))throw new Error("invalid format: "+e);var t;return new Ii({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vr.prototype=Ii.prototype;function Ii(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ii.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xm(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Ds;function Gm(e,t){var n=mr(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(Ds=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return s===u?r:s>u?r+new Array(s-u+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+mr(e,Math.max(0,t+s-1))[0]}function Go(e,t){var n=mr(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Zo={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ym,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Go(e*100,t),r:Go,s:Gm,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Qo(e){return e}var Ko=Array.prototype.map,ea=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Zm(e){var t=e.grouping===void 0||e.thousands===void 0?Qo:Bm(Ko.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Qo:zm(Ko.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function f(m){m=vr(m);var v=m.fill,y=m.align,S=m.sign,D=m.symbol,O=m.zero,F=m.width,z=m.comma,E=m.precision,k=m.trim,$=m.type;$==="n"?(z=!0,$="g"):Zo[$]||(E===void 0&&(E=12),k=!0,$="g"),(O||v==="0"&&y==="=")&&(O=!0,v="0",y="=");var L=D==="$"?n:D==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",G=D==="$"?r:/[%p]/.test($)?u:"",Te=Zo[$],Pe=/[defgprs%]/.test($);E=E===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function Ae(W){var ae=L,se=G,Le,yt,Ze;if($==="c")se=Te(W)+se,W="";else{W=+W;var Ve=W<0||1/W<0;if(W=isNaN(W)?c:Te(Math.abs(W),E),k&&(W=Xm(W)),Ve&&+W==0&&S!=="+"&&(Ve=!1),ae=(Ve?S==="("?S:d:S==="-"||S==="("?"":S)+ae,se=($==="s"?ea[8+Ds/3]:"")+se+(Ve&&S==="("?")":""),Pe){for(Le=-1,yt=W.length;++Le<yt;)if(Ze=W.charCodeAt(Le),48>Ze||Ze>57){se=(Ze===46?i+W.slice(Le+1):W.slice(Le))+se,W=W.slice(0,Le);break}}}z&&!O&&(W=t(W,1/0));var ke=ae.length+W.length+se.length,_e=ke<F?new Array(F-ke+1).join(v):"";switch(z&&O&&(W=t(_e+W,_e.length?F-se.length:1/0),_e=""),y){case"<":W=ae+W+se+_e;break;case"=":W=ae+_e+W+se;break;case"^":W=_e.slice(0,ke=_e.length>>1)+ae+W+se+_e.slice(ke);break;default:W=_e+ae+W+se;break}return s(W)}return Ae.toString=function(){return m+""},Ae}function p(m,v){var y=f((m=vr(m),m.type="f",m)),S=Math.max(-8,Math.min(8,Math.floor(nn(v)/3)))*3,D=Math.pow(10,-S),O=ea[8+S/3];return function(F){return y(D*F)+O}}return{format:f,formatPrefix:p}}var Kn,Ps,Es;Qm({thousands:",",grouping:[3],currency:["$",""]});function Qm(e){return Kn=Zm(e),Ps=Kn.format,Es=Kn.formatPrefix,Kn}function Km(e){return Math.max(0,-nn(Math.abs(e)))}function ev(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nn(t)/3)))*3-nn(Math.abs(e)))}function tv(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nn(t)-nn(e))+1}function Os(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function nv(e){return function(){return e}}function rv(e){return+e}var ta=[0,1];function Bt(e){return e}function mi(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:nv(isNaN(t)?NaN:.5)}function iv(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function ov(e,t,n){var r=e[0],i=e[1],s=t[0],u=t[1];return i<r?(r=mi(i,r),s=n(u,s)):(r=mi(r,i),s=n(s,u)),function(d){return s(r(d))}}function av(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)i[u]=mi(e[u],e[u+1]),s[u]=n(t[u],t[u+1]);return function(d){var c=ad(e,d,1,r)-1;return s[c](i[c](d))}}function Rs(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sv(){var e=ta,t=ta,n=Pi,r,i,s,u=Bt,d,c,f;function p(){var v=Math.min(e.length,t.length);return u!==Bt&&(u=iv(e[0],e[v-1])),d=v>2?av:ov,c=f=null,m}function m(v){return v==null||isNaN(v=+v)?s:(c||(c=d(e.map(r),t,n)))(r(u(v)))}return m.invert=function(v){return u(i((f||(f=d(t,e.map(r),ze)))(v)))},m.domain=function(v){return arguments.length?(e=Array.from(v,rv),p()):e.slice()},m.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},m.rangeRound=function(v){return t=Array.from(v),n=$p,p()},m.clamp=function(v){return arguments.length?(u=v?!0:Bt,p()):u!==Bt},m.interpolate=function(v){return arguments.length?(n=v,p()):n},m.unknown=function(v){return arguments.length?(s=v,m):s},function(v,y){return r=v,i=y,p()}}function Is(){return sv()(Bt,Bt)}function uv(e,t,n,r){var i=ii(e,t,n),s;switch(r=vr(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=ev(i,u))&&(r.precision=s),Es(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=tv(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Km(i))&&(r.precision=s-(r.type==="%")*2);break}}return Ps(r)}function cv(e){var t=e.domain;return e.ticks=function(n){var r=t();return fd(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return uv(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,u=r[i],d=r[s],c,f,p=10;for(d<u&&(f=u,u=d,d=f,f=i,i=s,s=f);p-- >0;){if(f=ri(u,d,n),f===c)return r[i]=u,r[s]=d,t(r);if(f>0)u=Math.floor(u/f)*f,d=Math.ceil(d/f)*f;else if(f<0)u=Math.ceil(u*f)/f,d=Math.floor(d*f)/f;else break;c=f}return e},e}function Ns(){var e=Is();return e.copy=function(){return Rs(e,Ns())},Os.apply(e,arguments),cv(e)}function lv(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],u;return s<i&&(u=n,n=r,r=u,u=i,i=s,s=u),e[n]=t.floor(i),e[r]=t.ceil(s),e}const Qr=new Date,Kr=new Date;function Ce(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const u=i(s),d=i.ceil(s);return s-u<d-s?u:d},i.offset=(s,u)=>(t(s=new Date(+s),u==null?1:Math.floor(u)),s),i.range=(s,u,d)=>{const c=[];if(s=i.ceil(s),d=d==null?1:Math.floor(d),!(s<u)||!(d>0))return c;let f;do c.push(f=new Date(+s)),t(s,d),e(s);while(f<s&&s<u);return c},i.filter=s=>Ce(u=>{if(u>=u)for(;e(u),!s(u);)u.setTime(u-1)},(u,d)=>{if(u>=u)if(d<0)for(;++d<=0;)for(;t(u,-1),!s(u););else for(;--d>=0;)for(;t(u,1),!s(u););}),n&&(i.count=(s,u)=>(Qr.setTime(+s),Kr.setTime(+u),e(Qr),e(Kr),Math.floor(n(Qr,Kr))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?u=>r(u)%s===0:u=>i.count(0,u)%s===0):i)),i}const gr=Ce(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);gr.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ce(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):gr);gr.range;const dt=1e3,He=dt*60,ht=He*60,vt=ht*24,Ni=vt*7,na=vt*30,ei=vt*365,zt=Ce(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*dt)},(e,t)=>(t-e)/dt,e=>e.getUTCSeconds());zt.range;const Ui=Ce(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dt)},(e,t)=>{e.setTime(+e+t*He)},(e,t)=>(t-e)/He,e=>e.getMinutes());Ui.range;const fv=Ce(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*He)},(e,t)=>(t-e)/He,e=>e.getUTCMinutes());fv.range;const Fi=Ce(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dt-e.getMinutes()*He)},(e,t)=>{e.setTime(+e+t*ht)},(e,t)=>(t-e)/ht,e=>e.getHours());Fi.range;const dv=Ce(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ht)},(e,t)=>(t-e)/ht,e=>e.getUTCHours());dv.range;const In=Ce(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*He)/vt,e=>e.getDate()-1);In.range;const Li=Ce(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vt,e=>e.getUTCDate()-1);Li.range;const hv=Ce(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vt,e=>Math.floor(e/vt));hv.range;function It(e){return Ce(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*He)/Ni)}const kr=It(0),yr=It(1),pv=It(2),mv=It(3),rn=It(4),vv=It(5),gv=It(6);kr.range;yr.range;pv.range;mv.range;rn.range;vv.range;gv.range;function Nt(e){return Ce(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Ni)}const Us=Nt(0),_r=Nt(1),yv=Nt(2),_v=Nt(3),on=Nt(4),wv=Nt(5),bv=Nt(6);Us.range;_r.range;yv.range;_v.range;on.range;wv.range;bv.range;const Vi=Ce(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Vi.range;const xv=Ce(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xv.range;const gt=Ce(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());gt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ce(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});gt.range;const Rt=Ce(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ce(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Rt.range;function Cv(e,t,n,r,i,s){const u=[[zt,1,dt],[zt,5,5*dt],[zt,15,15*dt],[zt,30,30*dt],[s,1,He],[s,5,5*He],[s,15,15*He],[s,30,30*He],[i,1,ht],[i,3,3*ht],[i,6,6*ht],[i,12,12*ht],[r,1,vt],[r,2,2*vt],[n,1,Ni],[t,1,na],[t,3,3*na],[e,1,ei]];function d(f,p,m){const v=p<f;v&&([f,p]=[p,f]);const y=m&&typeof m.range=="function"?m:c(f,p,m),S=y?y.range(f,+p+1):[];return v?S.reverse():S}function c(f,p,m){const v=Math.abs(p-f)/m,y=Mi(([,,O])=>O).right(u,v);if(y===u.length)return e.every(ii(f/ei,p/ei,m));if(y===0)return gr.every(Math.max(ii(f,p,m),1));const[S,D]=u[v/u[y-1][2]<u[y][2]/v?y-1:y];return S.every(D)}return[d,c]}const[Tv,$v]=Cv(gt,Vi,kr,In,Fi,Ui);function ti(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ni(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function yn(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Mv(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,u=e.shortDays,d=e.months,c=e.shortMonths,f=_n(i),p=wn(i),m=_n(s),v=wn(s),y=_n(u),S=wn(u),D=_n(d),O=wn(d),F=_n(c),z=wn(c),E={a:Ve,A:ke,b:_e,B:an,c:null,d:ua,e:ua,f:Xv,g:o0,G:s0,H:Bv,I:zv,j:Jv,L:Fs,m:Gv,M:Zv,p:Qe,q:Ee,Q:fa,s:da,S:Qv,u:Kv,U:e0,V:t0,w:n0,W:r0,x:null,X:null,y:i0,Y:a0,Z:u0,"%":la},k={a:sn,A:Ut,b:Ke,B:Ft,c:null,d:ca,e:ca,f:d0,g:x0,G:T0,H:c0,I:l0,j:f0,L:Vs,m:h0,M:p0,p:un,q:Lt,Q:fa,s:da,S:m0,u:v0,U:g0,V:y0,w:_0,W:w0,x:null,X:null,y:b0,Y:C0,Z:$0,"%":la},$={a:Ae,A:W,b:ae,B:se,c:Le,d:aa,e:aa,f:Hv,g:oa,G:ia,H:sa,I:sa,j:Fv,L:qv,m:Uv,M:Lv,p:Pe,q:Nv,Q:Wv,s:Yv,S:Vv,u:Pv,U:Ev,V:Ov,w:Dv,W:Rv,x:yt,X:Ze,y:oa,Y:ia,Z:Iv,"%":jv};E.x=L(n,E),E.X=L(r,E),E.c=L(t,E),k.x=L(n,k),k.X=L(r,k),k.c=L(t,k);function L(U,X){return function(Z){var A=[],we=-1,ne=0,ue=U.length,Oe,Ye,Un;for(Z instanceof Date||(Z=new Date(+Z));++we<ue;)U.charCodeAt(we)===37&&(A.push(U.slice(ne,we)),(Ye=ra[Oe=U.charAt(++we)])!=null?Oe=U.charAt(++we):Ye=Oe==="e"?" ":"0",(Un=X[Oe])&&(Oe=Un(Z,Ye)),A.push(Oe),ne=we+1);return A.push(U.slice(ne,we)),A.join("")}}function G(U,X){return function(Z){var A=yn(1900,void 0,1),we=Te(A,U,Z+="",0),ne,ue;if(we!=Z.length)return null;if("Q"in A)return new Date(A.Q);if("s"in A)return new Date(A.s*1e3+("L"in A?A.L:0));if(X&&!("Z"in A)&&(A.Z=0),"p"in A&&(A.H=A.H%12+A.p*12),A.m===void 0&&(A.m="q"in A?A.q:0),"V"in A){if(A.V<1||A.V>53)return null;"w"in A||(A.w=1),"Z"in A?(ne=ni(yn(A.y,0,1)),ue=ne.getUTCDay(),ne=ue>4||ue===0?_r.ceil(ne):_r(ne),ne=Li.offset(ne,(A.V-1)*7),A.y=ne.getUTCFullYear(),A.m=ne.getUTCMonth(),A.d=ne.getUTCDate()+(A.w+6)%7):(ne=ti(yn(A.y,0,1)),ue=ne.getDay(),ne=ue>4||ue===0?yr.ceil(ne):yr(ne),ne=In.offset(ne,(A.V-1)*7),A.y=ne.getFullYear(),A.m=ne.getMonth(),A.d=ne.getDate()+(A.w+6)%7)}else("W"in A||"U"in A)&&("w"in A||(A.w="u"in A?A.u%7:"W"in A?1:0),ue="Z"in A?ni(yn(A.y,0,1)).getUTCDay():ti(yn(A.y,0,1)).getDay(),A.m=0,A.d="W"in A?(A.w+6)%7+A.W*7-(ue+5)%7:A.w+A.U*7-(ue+6)%7);return"Z"in A?(A.H+=A.Z/100|0,A.M+=A.Z%100,ni(A)):ti(A)}}function Te(U,X,Z,A){for(var we=0,ne=X.length,ue=Z.length,Oe,Ye;we<ne;){if(A>=ue)return-1;if(Oe=X.charCodeAt(we++),Oe===37){if(Oe=X.charAt(we++),Ye=$[Oe in ra?X.charAt(we++):Oe],!Ye||(A=Ye(U,Z,A))<0)return-1}else if(Oe!=Z.charCodeAt(A++))return-1}return A}function Pe(U,X,Z){var A=f.exec(X.slice(Z));return A?(U.p=p.get(A[0].toLowerCase()),Z+A[0].length):-1}function Ae(U,X,Z){var A=y.exec(X.slice(Z));return A?(U.w=S.get(A[0].toLowerCase()),Z+A[0].length):-1}function W(U,X,Z){var A=m.exec(X.slice(Z));return A?(U.w=v.get(A[0].toLowerCase()),Z+A[0].length):-1}function ae(U,X,Z){var A=F.exec(X.slice(Z));return A?(U.m=z.get(A[0].toLowerCase()),Z+A[0].length):-1}function se(U,X,Z){var A=D.exec(X.slice(Z));return A?(U.m=O.get(A[0].toLowerCase()),Z+A[0].length):-1}function Le(U,X,Z){return Te(U,t,X,Z)}function yt(U,X,Z){return Te(U,n,X,Z)}function Ze(U,X,Z){return Te(U,r,X,Z)}function Ve(U){return u[U.getDay()]}function ke(U){return s[U.getDay()]}function _e(U){return c[U.getMonth()]}function an(U){return d[U.getMonth()]}function Qe(U){return i[+(U.getHours()>=12)]}function Ee(U){return 1+~~(U.getMonth()/3)}function sn(U){return u[U.getUTCDay()]}function Ut(U){return s[U.getUTCDay()]}function Ke(U){return c[U.getUTCMonth()]}function Ft(U){return d[U.getUTCMonth()]}function un(U){return i[+(U.getUTCHours()>=12)]}function Lt(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var X=L(U+="",E);return X.toString=function(){return U},X},parse:function(U){var X=G(U+="",!1);return X.toString=function(){return U},X},utcFormat:function(U){var X=L(U+="",k);return X.toString=function(){return U},X},utcParse:function(U){var X=G(U+="",!0);return X.toString=function(){return U},X}}}var ra={"-":"",_:" ",0:"0"},Se=/^\s*\d+/,Sv=/^%/,kv=/[\\^$*+?|[\]().{}]/g;function ee(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function Av(e){return e.replace(kv,"\\$&")}function _n(e){return new RegExp("^(?:"+e.map(Av).join("|")+")","i")}function wn(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Dv(e,t,n){var r=Se.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Pv(e,t,n){var r=Se.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Ev(e,t,n){var r=Se.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Ov(e,t,n){var r=Se.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Rv(e,t,n){var r=Se.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ia(e,t,n){var r=Se.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function oa(e,t,n){var r=Se.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Iv(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Nv(e,t,n){var r=Se.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Uv(e,t,n){var r=Se.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function aa(e,t,n){var r=Se.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Fv(e,t,n){var r=Se.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function sa(e,t,n){var r=Se.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Lv(e,t,n){var r=Se.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Vv(e,t,n){var r=Se.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function qv(e,t,n){var r=Se.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Hv(e,t,n){var r=Se.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jv(e,t,n){var r=Sv.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Wv(e,t,n){var r=Se.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Yv(e,t,n){var r=Se.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ua(e,t){return ee(e.getDate(),t,2)}function Bv(e,t){return ee(e.getHours(),t,2)}function zv(e,t){return ee(e.getHours()%12||12,t,2)}function Jv(e,t){return ee(1+In.count(gt(e),e),t,3)}function Fs(e,t){return ee(e.getMilliseconds(),t,3)}function Xv(e,t){return Fs(e,t)+"000"}function Gv(e,t){return ee(e.getMonth()+1,t,2)}function Zv(e,t){return ee(e.getMinutes(),t,2)}function Qv(e,t){return ee(e.getSeconds(),t,2)}function Kv(e){var t=e.getDay();return t===0?7:t}function e0(e,t){return ee(kr.count(gt(e)-1,e),t,2)}function Ls(e){var t=e.getDay();return t>=4||t===0?rn(e):rn.ceil(e)}function t0(e,t){return e=Ls(e),ee(rn.count(gt(e),e)+(gt(e).getDay()===4),t,2)}function n0(e){return e.getDay()}function r0(e,t){return ee(yr.count(gt(e)-1,e),t,2)}function i0(e,t){return ee(e.getFullYear()%100,t,2)}function o0(e,t){return e=Ls(e),ee(e.getFullYear()%100,t,2)}function a0(e,t){return ee(e.getFullYear()%1e4,t,4)}function s0(e,t){var n=e.getDay();return e=n>=4||n===0?rn(e):rn.ceil(e),ee(e.getFullYear()%1e4,t,4)}function u0(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ee(t/60|0,"0",2)+ee(t%60,"0",2)}function ca(e,t){return ee(e.getUTCDate(),t,2)}function c0(e,t){return ee(e.getUTCHours(),t,2)}function l0(e,t){return ee(e.getUTCHours()%12||12,t,2)}function f0(e,t){return ee(1+Li.count(Rt(e),e),t,3)}function Vs(e,t){return ee(e.getUTCMilliseconds(),t,3)}function d0(e,t){return Vs(e,t)+"000"}function h0(e,t){return ee(e.getUTCMonth()+1,t,2)}function p0(e,t){return ee(e.getUTCMinutes(),t,2)}function m0(e,t){return ee(e.getUTCSeconds(),t,2)}function v0(e){var t=e.getUTCDay();return t===0?7:t}function g0(e,t){return ee(Us.count(Rt(e)-1,e),t,2)}function qs(e){var t=e.getUTCDay();return t>=4||t===0?on(e):on.ceil(e)}function y0(e,t){return e=qs(e),ee(on.count(Rt(e),e)+(Rt(e).getUTCDay()===4),t,2)}function _0(e){return e.getUTCDay()}function w0(e,t){return ee(_r.count(Rt(e)-1,e),t,2)}function b0(e,t){return ee(e.getUTCFullYear()%100,t,2)}function x0(e,t){return e=qs(e),ee(e.getUTCFullYear()%100,t,2)}function C0(e,t){return ee(e.getUTCFullYear()%1e4,t,4)}function T0(e,t){var n=e.getUTCDay();return e=n>=4||n===0?on(e):on.ceil(e),ee(e.getUTCFullYear()%1e4,t,4)}function $0(){return"+0000"}function la(){return"%"}function fa(e){return+e}function da(e){return Math.floor(+e/1e3)}var jt,Hs;M0({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function M0(e){return jt=Mv(e),Hs=jt.format,jt.parse,jt.utcFormat,jt.utcParse,jt}function S0(e){return new Date(e)}function k0(e){return e instanceof Date?+e:+new Date(+e)}function js(e,t,n,r,i,s,u,d,c,f){var p=Is(),m=p.invert,v=p.domain,y=f(".%L"),S=f(":%S"),D=f("%I:%M"),O=f("%I %p"),F=f("%a %d"),z=f("%b %d"),E=f("%B"),k=f("%Y");function $(L){return(c(L)<L?y:d(L)<L?S:u(L)<L?D:s(L)<L?O:r(L)<L?i(L)<L?F:z:n(L)<L?E:k)(L)}return p.invert=function(L){return new Date(m(L))},p.domain=function(L){return arguments.length?v(Array.from(L,k0)):v().map(S0)},p.ticks=function(L){var G=v();return e(G[0],G[G.length-1],L??10)},p.tickFormat=function(L,G){return G==null?$:f(G)},p.nice=function(L){var G=v();return(!L||typeof L.range!="function")&&(L=t(G[0],G[G.length-1],L??10)),L?v(lv(G,L)):p},p.copy=function(){return Rs(p,js(e,t,n,r,i,s,u,d,c,f))},p}function A0(){return Os.apply(js(Tv,$v,gt,Vi,kr,In,Fi,Ui,zt,Hs).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wt(e){return function(){return e}}function D0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Wm(t)}function P0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ws(e){this._context=e}Ws.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function E0(e){return new Ws(e)}function O0(e){return e[0]}function R0(e){return e[1]}function I0(e,t){var n=Wt(!0),r=null,i=E0,s=null,u=D0(d);e=typeof e=="function"?e:e===void 0?O0:Wt(e),t=typeof t=="function"?t:t===void 0?R0:Wt(t);function d(c){var f,p=(c=P0(c)).length,m,v=!1,y;for(r==null&&(s=i(y=u())),f=0;f<=p;++f)!(f<p&&n(m=c[f],f,c))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(m,f,c),+t(m,f,c));if(y)return s=null,y+""||null}return d.x=function(c){return arguments.length?(e=typeof c=="function"?c:Wt(+c),d):e},d.y=function(c){return arguments.length?(t=typeof c=="function"?c:Wt(+c),d):t},d.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Wt(!!c),d):n},d.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),d):i},d.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),d):r},d}function ha(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Ys(e){this._context=e}Ys.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ha(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ha(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function N0(e){return new Ys(e)}function $n(e,t,n){this.k=e,this.x=t,this.y=n}$n.prototype={constructor:$n,scale:function(e){return e===1?this:new $n(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new $n(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};$n.prototype;const U0={class:"text-center"},F0={class:"pt-6 text-h6"},L0={class:"mx-auto mb-6 text-h6 text-center text-disabled"},V0=fe({__name:"GraphiqueHistoriqueLigne",props:{titre:{},vals:{},couleur:{}},setup(e){const t=e,{எண்ணை_வடிவூட்டு:n}=_i(),{மொழியாக்கம்_பயன்படுத்து:r}=ye(),{$மொ:i}=r(),s=te(()=>(t.vals||[]).map(y=>({date:new Date(parseInt(y.date)),value:y.val}))),u=re(null),d=te(()=>s.value.length>1),c={},f=y=>(c[y.toString()]||(c[y.toString()]=n(y)),c[y.toString()].value||y.toString());Zt(()=>{const y=np(u.value);_t(()=>{const{width:S,height:D}=v.dimensions;if(!(S&&D))return;const O=A0().domain(sd(s.value,k=>k.date)).range([0,S]),F=Ns().domain([0,dd(s.value,k=>k.value)]).range([D,0]);y.selectAll(".line").data([s.value]).join("path").attr("class","line").attr("fill","none").attr("stroke",t.couleur||"steelblue").attr("stroke-width",2.5).attr("d",I0().x(k=>O(k.date)).y(k=>F(k.value)).curve(N0));const z=_d(O);y.select(".x-axis").style("transform",`translateY(${D}px)`).call(z).append("text");const E=wd(F);E.tickFormat(k=>f(k.valueOf())),y.select(".y-axis").call(E)})});const p=()=>{const y=re(),S=al({dimensions:{}}),D=new ResizeObserver(O=>{O.forEach(F=>{S.dimensions=F.contentRect})});return Zt(()=>{S.dimensions=y.value.getBoundingClientRect(),D.observe(y.value)}),sl(()=>{D.unobserve(y.value)}),{resizeState:S,resizeRef:y}},{resizeRef:m,resizeState:v}=p();return(y,S)=>(H(),it("div",U0,[Q("p",F0,N(y.titre),1),wr(Q("div",{ref_key:"resizeRef",ref:m,class:"ma-6"},[(H(),it("svg",{ref_key:"svgRef",ref:u,width:"100%"},S[0]||(S[0]=[Q("g",{class:"x-axis"},null,-1),Q("g",{class:"y-axis"},null,-1)]),512))],512),[[br,d.value]]),d.value?pt("",!0):(H(),B(De,{key:0,class:"d-flex align-center text-center",variant:"flat",height:"230"},{default:w(()=>[En(y.$slots,"action",{},()=>[Q("span",L0,N(b(i)("accueil.page.graphiques.sansDonnées")),1)],!0)]),_:3}))]))}}),Yt=yi(V0,[["__scopeId","data-v-0de2cf7b"]]),pa=fe({__name:"SélecteurMembre",props:{multiples:{type:Boolean},originales:{},interdits:{}},emits:["selectionnee"],setup(e,{emit:t}){const n=t,{மொழியாக்கம்_பயன்படுத்து:r}=ye(),{$மொ:i}=r(),s=Mt(),u=re([]);_t(()=>{n("selectionnee",u.value)});const d=re(""),{résultats:c,onTravaille:f}=wa(s.recherche.rechercherProfilsSelonTexte,{texte:d});return(p,m)=>(H(),B(fl,{multiples:p.multiples,originaux:p.originales,interdits:p.interdits,"resultats-recherche":b(c),"on-travaille":b(f),"texte-etiquette-recherche":b(i)("membres.recherche.étiquette"),"texte-aucun-résultat":b(i)("membres.recherche.aucunRésultat"),onSelectionnee:m[0]||(m[0]=v=>u.value=v),onRequeteModifiee:m[1]||(m[1]=v=>d.value=v)},{résultat:w(({résultat:v,click:y})=>[_(ul,{résultat:v,onClick:y},null,8,["résultat","onClick"])]),"jeton-objet":w(({id:v,deselectionner:y})=>[_(ll,{id:v},{activator:w(({props:S})=>[_(cl,nt({compte:v},{props:S}),{default:w(()=>[_(ot,{class:"ms-2",icon:"mdi-close",size:"small",variant:"flat",onClick:()=>y({id:v})},null,8,["onClick"])]),_:2},1040,["compte"])]),_:2},1032,["id"])]),_:1},8,["multiples","originaux","interdits","resultats-recherche","on-travaille","texte-etiquette-recherche","texte-aucun-résultat"]))}}),q0=fe({__name:"GestionConnaissances",setup(e){const{மொழியாக்கம்_பயன்படுத்து:t}=ye(),{$மொ:n}=t(),{mdAndUp:r}=$t(),i=Mt(),s=re(!1),u=re(),d=xe(i.suivreIdCompte,{}),c=xe(i.réseau.suivreRelationsImmédiates,{}),f=xe(i.réseau.suivreBloqués,{}),p=re([]),m=re([]),v=re(!1),y=async E=>{i.réseau.débloquerMembre({idCompte:E})},S=async E=>{i.réseau.bloquerMembre({idCompte:E,privé:!0})},D=async E=>{i.réseau.bloquerMembre({idCompte:E,privé:!1})},O=async E=>{i.réseau.nePlusFaireConfianceAuMembre({idCompte:E})},F=async()=>{await Promise.all(p.value.map(E=>i.réseau.faireConfianceAuMembre({idCompte:E}))),await Promise.all(m.value.map(E=>i.réseau.bloquerMembre({idCompte:E,privé:v.value})))},z=()=>{p.value=[],m.value=[],s.value=!1};return(E,k)=>(H(),B(Cr,{modelValue:s.value,"onUpdate:modelValue":k[5]||(k[5]=$=>s.value=$)},{activator:w(({props:$})=>[En(E.$slots,"activator",va(ga({props:$})))]),default:w(()=>[_(De,{"max-width":b(r)?700:300,class:"mx-auto"},{default:w(()=>[_(Xe,null,{default:w(()=>[_(je,{class:"d-flex"},{default:w(()=>[q(N(b(n)("réseau.connaissances.titreCarte")),1)]),_:1})]),_:1}),_(We,null,{default:w(()=>[_(Al,{modelValue:u.value,"onUpdate:modelValue":k[0]||(k[0]=$=>u.value=$)},{default:w(()=>[_(xo,{value:"confiance","append-icon":"mdi-hands-pray"},{default:w(()=>[q(N(b(n)("membres.confiance.membresDeConfiance")),1)]),_:1}),_(xo,{value:"bloqué","append-icon":"mdi-cancel"},{default:w(()=>[q(N(b(n)("membres.confiance.membresBloqués")),1)]),_:1})]),_:1},8,["modelValue"]),_(dl,{modelValue:u.value,"onUpdate:modelValue":k[4]||(k[4]=$=>u.value=$)},{default:w(()=>[_(yo,{value:"confiance"},{default:w(()=>[_(xt,null,{default:w(()=>[_(pa,{multiples:!0,interdits:b(d)?[b(d)]:[],originales:b(c)?.map($=>$.idCompte),onSelectionnee:k[1]||(k[1]=$=>p.value=$)},null,8,["interdits","originales"]),(H(!0),it(kn,null,Sn(b(c),$=>(H(),B(_o,{key:$.idCompte,compte:$.idCompte,"montrer-anonymes":""},{append:w(()=>[_(oe,{icon:"mdi-delete",onClick:()=>O($.idCompte)},null,8,["onClick"])]),_:2},1032,["compte"]))),128))]),_:1})]),_:1}),_(yo,{value:"bloqué"},{default:w(()=>[_(xt,null,{default:w(()=>[_(pa,{multiples:!1,interdits:b(d)?[b(d)]:[],originales:b(f)?.map($=>$.idCompte),onSelectionnee:k[2]||(k[2]=$=>m.value=$)},null,8,["interdits","originales"]),_(hl,{modelValue:v.value,"onUpdate:modelValue":k[3]||(k[3]=$=>v.value=$),color:"primary"},{label:w(()=>[q(N(b(n)("membres.confiance.bloquerPrivé"))+" ",1),_(pl,{location:"bottom"},{activator:w(({props:$})=>[_(ot,nt($,{icon:"mdi-information-outline",end:""}),null,16)]),default:w(()=>[q(" "+N(b(n)("membres.confiance.indiceBloquerPrivé")),1)]),_:1})]),_:1},8,["modelValue"]),(H(!0),it(kn,null,Sn(b(f),$=>(H(),B(_o,{key:$.idCompte,compte:$.idCompte,"montrer-anonymes":""},{append:w(()=>[_(ya,{label:b(n)("privé"),value:$.privé,"onUpdate:modelValue":L=>$.privé?D($.idCompte):S($.idCompte)},null,8,["label","value","onUpdate:modelValue"]),_(oe,{icon:"mdi-delete",onClick:()=>y($.idCompte)},null,8,["onClick"])]),_:2},1032,["compte"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),_(wi),_(bi,null,{default:w(()=>[_(xr),_(oe,{variant:"outlined",onClick:z},{default:w(()=>[q(N(b(n)("communs.annuler")),1)]),_:1}),_(oe,{color:"primary",variant:"outlined","append-icon":"mdi-check",onClick:F},{default:w(()=>[q(N(b(n)("communs.sauvegarder")),1)]),_:1})]),_:1})]),_:1},8,["max-width"])]),_:3},8,["modelValue"]))}}),H0={class:"text-h4"},j0={class:"mx-auto mb-6 text-center text-disabled"},W0=fe({__name:"PanelGraphiques",setup(e){const{மொழியாக்கம்_பயன்படுத்து:t}=ye(),{$மொ:n}=t(),r=td({}),i=Mt(),{obtHistorique:s}=ba(r),u=re();Zt(async()=>{u.value=(await ma(async()=>{const{default:F}=await import("./trianglify-lowres-D7XsY33-.js");return{default:F}},[],import.meta.url)).default});const d=xe(i.bds.suivreBds),c=te(()=>d.value?.length);_t(()=>{r.observer({clef:"mesBds",val:c.value})});const f=xe(i.projets.suivreProjets),p=te(()=>f.value?.length);_t(()=>{r.observer({clef:"mesProjets",val:p.value})});const m=xe(i.nuées.suivreNuées),v=te(()=>m.value?.length);_t(()=>{r.observer({clef:"mesNuées",val:v.value})});const y=xe(i.réseau.suivreFiables),S=te(()=>y.value?.length);_t(()=>{r.observer({clef:"mesConnaissances",val:S.value})});const{résultats:D}=wa(i.réseau.suivreComptesRéseau),O=te(()=>D.value?.length);return _t(()=>{r.observer({clef:"monRéseau",val:O.value})}),(F,z)=>(H(),B(Tr,null,{default:w(()=>[_(Ue,{cols:"12"},{default:w(()=>[Q("p",H0,N(b(n)("accueil.page.graphiques.titre")),1)]),_:1}),_(Ue,{cols:"12"},{default:w(()=>[_(De,{class:"text-start",variant:"elevated"},{default:w(()=>[_(We,null,{default:w(()=>[_(Yt,{titre:b(n)("accueil.page.graphiques.bds"),vals:b(s)("mesBds"),couleur:"#6e40aa"},null,8,["titre","vals"]),_(Yt,{titre:b(n)("accueil.page.graphiques.projets"),couleur:"#bf3caf"},null,8,["titre"]),_(Yt,{titre:b(n)("accueil.page.graphiques.nuées"),vals:b(s)("mesNuées"),couleur:"#fe4b83"},null,8,["titre","vals"]),_(Yt,{titre:b(n)("accueil.page.graphiques.réplications"),couleur:"#ff7847"},null,8,["titre"]),_(Yt,{titre:b(n)("accueil.page.graphiques.connaissances"),couleur:"#e2b72f"},{action:w(()=>[Q("div",j0,[_(q0,null,{activator:w(({props:E})=>[_(oe,nt(E,{variant:"outlined","prepend-icon":"mdi-plus"}),{default:w(()=>[q(N(b(n)("accueil.page.graphiques.ajouterConnaissances")),1)]),_:2},1040)]),_:1})])]),_:1},8,["titre"]),_(Yt,{titre:b(n)("accueil.page.graphiques.réseau"),couleur:"#aff05b"},null,8,["titre"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),Nn=fe({__name:"BaseItemInfo",props:{info:{},titre:{},sousTitre:{},texteAction:{}},setup(e){const t=e,{isRtl:n}=vi(),{mdAndUp:r}=$t(),i=xi(),s=re(!1),u=()=>{i.lireInfo(t.info.id)},d=()=>{i.effacerInfo(t.info.id)};return(c,f)=>(H(),B(Re,{onClick:f[3]||(f[3]=()=>u())},{append:w(()=>[_(ot,{icon:"mdi-close",onClick:f[2]||(f[2]=ml(()=>d(),["stop"]))})]),default:w(()=>[_(vl,null,{default:w(()=>[c.info.lu?pt("",!0):(H(),B(bt,{key:0,class:"mx-2",color:"error",size:"10"})),q(" "+N(c.titre),1)]),_:1}),_(gl,null,{default:w(()=>[q(N(c.sousTitre),1)]),_:1}),c.texteAction?(H(),B(Cr,{key:0,modelValue:s.value,"onUpdate:modelValue":f[1]||(f[1]=p=>s.value=p)},{activator:w(({props:p})=>[_(oe,nt(p,{class:"mt-2",variant:"flat",size:"small","append-icon":b(n)?"mdi-chevron-left":"mdi-chevron-right"}),{default:w(()=>[q(N(c.texteAction),1)]),_:2},1040,["append-icon"])]),default:w(()=>[_(De,{"max-width":b(r)?700:300,class:"mx-auto"},{default:w(()=>[_(Xe,null,{default:w(()=>[_(je,{class:"d-flex"},{default:w(()=>[q(N(c.titre),1)]),_:1}),_(xa,null,{default:w(()=>[q(N(c.sousTitre),1)]),_:1})]),_:1}),_(We,{style:{"overflow-y":"scroll"}},{default:w(()=>[En(c.$slots,"contenu")]),_:3}),_(wi),_(bi,null,{default:w(()=>[_(xr),_(oe,{"append-icon":"mdi-close",onClick:f[0]||(f[0]=()=>s.value=!1)},{default:w(()=>f[4]||(f[4]=[q(" Fermer ")])),_:1})]),_:1})]),_:3},8,["max-width"])]),_:3},8,["modelValue"])):pt("",!0)]),_:3}))}}),Y0=fe({__name:"ItemInfoMettreÀJour",props:{info:{}},setup(e){const t=e,{மொழியாக்கம்_பயன்படுத்து:n}=ye(),{$மொ:r}=n(),{பதிப்பை_வடிவூட்டு:i}=_i(),s=te(()=>i(t.info.info.détails.dernièreVersionDisponible)),u=i(t.info.info.détails.versionActuelle);return(d,c)=>(H(),B(Nn,{titre:b(r)("accueil.page.notifications.mettreÀJour.titre",{dispo:s.value}),"sous-titre":b(r)("accueil.page.notifications.mettreÀJour.sousTitre",{actuelle:b(u)}),"texte-action":b(r)("accueil.page.notifications.mettreÀJour.texteAction"),info:d.info},{contenu:w(()=>[_(oe,{color:"primary",variant:"tonal","append-icon":"mdi-download",onClick:c[0]||(c[0]=()=>b(Qt)(d.info.info.détails.urlTéléchargement))},{default:w(()=>[q(N(b(r)("accueil.page.notifications.mettreÀJour.installer")),1)]),_:1})]),_:1},8,["titre","sous-titre","texte-action","info"]))}}),B0={class:"mb-4"},z0={class:"mb-4 font-weight-bold"},J0={class:"mb-4"},X0={class:"mb-4"},G0={class:"mb-4"},Z0=fe({__name:"ItemInfoProtégerDonnées",props:{info:{}},setup(e){const t=e,n=xi(),{மொழியாக்கம்_பயன்படுத்து:r}=ye(),{$மொ:i}=r(),s=async()=>{await navigator.storage.persist()&&n.effacerInfo(t.info.id)},u=re(!1);return(d,c)=>(H(),B(Nn,{titre:b(i)("accueil.page.notifications.protégerDonnées.titre"),"sous-titre":b(i)("accueil.page.notifications.protégerDonnées.sousTitre"),"texte-action":b(i)("accueil.page.notifications.protégerDonnées.texteAction"),info:d.info},{contenu:w(()=>[Q("p",B0,[Q("span",z0,N(b(i)("accueil.initialiserCompte.plusDInfo")),1),_(oe,{icon:u.value?"mdi-chevron-up":"mdi-chevron-down",size:"xsmall",variant:"flat",onClick:c[0]||(c[0]=()=>u.value=!u.value)},null,8,["icon"]),_(Ca,null,{default:w(()=>[wr(Q("div",null,[Q("p",J0,N(b(i)("accueil.initialiserCompte.textePersister.1")),1),Q("p",X0,N(b(i)("accueil.initialiserCompte.textePersister.2")),1),Q("p",G0,N(b(i)("accueil.initialiserCompte.textePersister.3")),1)],512),[[br,u.value]])]),_:1})]),_(oe,{color:"primary",variant:"outlined","append-icon":"mdi-content-save-outline",onClick:c[1]||(c[1]=()=>s())},{default:w(()=>[q(N(b(i)("accueil.page.notifications.protégerDonnées.protéger")),1)]),_:1})]),_:1},8,["titre","sous-titre","texte-action","info"]))}}),Q0=fe({__name:"ItemInfoRequêtesServeurLocal",props:{info:{}},setup(e){const t=e,{மொழியாக்கம்_பயன்படுத்து:n}=ye(),{$மொ:r}=n(),i=te(()=>t.info.info.détails.n);return(s,u)=>(H(),B(Nn,{titre:b(r)("accueil.page.notifications.requêtesServeurLocal.titre"),"sous-titre":b(r)("accueil.page.notifications.requêtesServeurLocal.sousTitre"),"texte-action":b(r)("accueil.page.notifications.requêtesServeurLocal.texteAction",{nRequêtes:i.value}),info:s.info},{contenu:w(()=>[_(oe,{color:"primary",variant:"outlined","append-icon":"mdi-content-save-outline",onClick:u[0]||(u[0]=()=>s.$router.push("/favoris"))},{default:w(()=>[q(N(b(r)("accueil.page.notifications.requêtesServeurLocal.btnAction")),1)]),_:1})]),_:1},8,["titre","sous-titre","texte-action","info"]))}}),K0=fe({__name:"IndiceInstallationApple",setup(e){const{மொழியாக்கம்_பயன்படுத்து:t}=ye(),{$மொ:n}=t(),r=re(!1);return(i,s)=>(H(),B(yl,{class:"mt-2",type:"info",variant:"outlined",density:"compact"},{title:w(()=>[q(N(b(n)("accueil.page.notifications.connecterInstallé.étape1.apple.titre"))+" ",1),_(oe,{icon:r.value?"mdi-chevron-up":"mdi-chevron-down",size:"xsmall",variant:"flat",onClick:s[0]||(s[0]=()=>r.value=!r.value)},null,8,["icon"])]),text:w(()=>[_(Ca,null,{default:w(()=>[wr(Q("div",null,[Q("p",null,N(b(n)("accueil.page.notifications.connecterInstallé.étape1.apple.texte")),1),_(oe,{class:"my-2",variant:"outlined","append-icon":"mdi-open-in-new",onClick:s[1]||(s[1]=u=>b(Qt)(b(n)("accueil.page.notifications.connecterInstallé.étape1.apple.lienExterne")))},{default:w(()=>[q(N(b(n)("accueil.page.notifications.connecterInstallé.étape1.apple.btn")),1)]),_:1})],512),[[br,r.value]])]),_:1})]),_:1}))}}),eg={class:"text-h6"},tg={class:"text-h6"},ng=fe({__name:"ItemInfoTélécharger",props:{info:{}},setup(e){const{mdAndUp:t}=$t(),{மொழியாக்கம்_பயன்படுத்து:n}=ye(),{$மொ:r}=n(),i=Mt(),s=xe(i.suivreNomsDispositifs),u=te(()=>s.value&&!!Object.values(s.value).find(m=>m.type==="ordinateur"||m.type==="serveur")),d=_l(),c=d.so&&["linux","windows","mac"].includes(d.so),f=re();Zt(async()=>{const m=await wl();f.value=m?.urlTéléchargement});const p=te(()=>c?f.value||wo:wo);return(m,v)=>(H(),B(Nn,{titre:b(r)("accueil.page.notifications.connecterInstallé.titre"),"sous-titre":b(r)("accueil.page.notifications.connecterInstallé.sousTitre"),"texte-action":b(r)("accueil.page.notifications.connecterInstallé.texteAction"),info:m.info},{contenu:w(()=>[Q("span",null,[Q("p",null,N(b(r)("accueil.page.notifications.connecterInstallé.détails")),1),_(xt,null,{default:w(()=>[_(Re,{title:b(r)("accueil.page.notifications.connecterInstallé.avantages.connexion.titre"),subtitle:b(r)("accueil.page.notifications.connecterInstallé.avantages.connexion.sousTitre"),"prepend-icon":"mdi-wifi"},null,8,["title","subtitle"]),_(Re,{title:b(r)("accueil.page.notifications.connecterInstallé.avantages.sauvegardes.titre"),subtitle:b(r)("accueil.page.notifications.connecterInstallé.avantages.sauvegardes.sousTitre"),"prepend-icon":"mdi-file-sync-outline"},null,8,["title","subtitle"]),_(Re,{title:b(r)("accueil.page.notifications.connecterInstallé.avantages.mémoire.titre"),subtitle:b(r)("accueil.page.notifications.connecterInstallé.avantages.mémoire.sousTitre"),"prepend-icon":"mdi-content-save"},null,8,["title","subtitle"]),_(Re,{title:b(r)("accueil.page.notifications.connecterInstallé.avantages.plus.titre"),subtitle:b(r)("accueil.page.notifications.connecterInstallé.avantages.plus.sousTitre"),"prepend-icon":"mdi-plus"},null,8,["title","subtitle"])]),_:1}),_(bl,{class:"my-6",side:"end","truncate-line":"both",density:b(t)?"default":"compact"},{default:w(()=>[_(bo,{icon:"mdi-download","dot-color":"primary"},{default:w(()=>[Q("div",null,[Q("div",eg,N(b(r)("accueil.page.notifications.connecterInstallé.étape1.titre")),1),Q("p",null,N(b(r)("accueil.page.notifications.connecterInstallé.étape1.texte")),1),_(oe,{class:"my-2",color:"primary",variant:"tonal","append-icon":"mdi-download",onClick:v[0]||(v[0]=()=>b(Qt)(p.value))},{default:w(()=>[q(N(b(r)("accueil.page.notifications.connecterInstallé.étape1.télécharger")),1)]),_:1}),b(d).so==="mac"?(H(),B(K0,{key:0})):pt("",!0)])]),_:1}),_(bo,{icon:"mdi-lan-connect","dot-color":"primary"},{default:w(()=>[Q("div",null,[Q("div",tg,N(b(r)("accueil.page.notifications.connecterInstallé.étape2.titre")),1),Q("p",null,N(b(r)("accueil.page.notifications.connecterInstallé.étape2.texte")),1),_(kl,null,{activator:w(({props:y})=>[_(oe,nt(y,{class:"mt-2",color:"primary",variant:"tonal","append-icon":u.value?"mdi-check":"mdi-lan-connect",active:!u.value}),{default:w(()=>[q(N(u.value?b(r)("accueil.page.notifications.connecterInstallé.étape2.connecté"):b(r)("accueil.page.notifications.connecterInstallé.étape2.code")),1)]),_:2},1040,["append-icon","active"])]),_:1})])]),_:1})]),_:1},8,["density"])])]),_:1},8,["titre","sous-titre","texte-action","info"]))}}),rg=fe({__name:"ItemInfoUtilisationMémoire",props:{info:{}},setup(e){const t=e,{மொழியாக்கம்_பயன்படுத்து:n}=ye(),{$மொ:r}=n(),i=te(()=>{const{quota:s,utilisation:u}=t.info.info.détails;return u/s*100});return(s,u)=>(H(),B(Nn,{titre:b(r)("accueil.page.notifications.utilisationMémoire.titre"),"sous-titre":b(r)("accueil.page.notifications.utilisationMémoire.sousTitre"),"texte-action":b(r)("accueil.page.notifications.utilisationMémoire.texteAction",{pourcentage:i.value}),info:s.info},{contenu:w(()=>[_(oe,{color:"primary",variant:"outlined","append-icon":"mdi-content-save-outline",onClick:u[0]||(u[0]=()=>s.$router.push("/favoris"))},{default:w(()=>[q(N(b(r)("accueil.page.notifications.utilisationMémoire.btnAction")),1)]),_:1})]),_:1},8,["titre","sous-titre","texte-action","info"]))}}),ig=fe({__name:"ItemInfo",props:{info:{}},setup(e){return(t,n)=>t.info.info.type==="installer"?(H(),B(ng,{key:0,info:t.info},null,8,["info"])):t.info.info.type==="mettreÀJour"?(H(),B(Y0,{key:1,info:t.info},null,8,["info"])):t.info.info.type==="protégerDonnées"?(H(),B(Z0,{key:2,info:t.info},null,8,["info"])):t.info.info.type==="utilisationMémoire"?(H(),B(rg,{key:3,info:t.info},null,8,["info"])):t.info.info.type==="requêteServeurLocal"?(H(),B(Q0,{key:4,info:t.info},null,8,["info"])):pt("",!0)}}),og={class:"pa-4 ma-auto text-h6 text-center text-disabled"},ag=fe({__name:"PanelNotifications",setup(e){const{மொழியாக்கம்_பயன்படுத்து:t}=ye(),{எண்ணை_வடிவூட்டு:n}=_i(),{$மொ:r}=t(),{name:i}=_a(),s=xi(),u=te(()=>s.infos),d=te(()=>u.value.filter(f=>!f.lu).length),c=n(d);return(f,p)=>(H(),B(De,{class:gi(["text-start",["text-start",b(i)==="light"?"carte-découverte":"carte-découverte-nuit"]]),variant:"flat",height:"175"},{default:w(()=>[_(Xe,null,{default:w(()=>[_(je,null,{default:w(()=>[q(N(b(r)("accueil.page.notifications.titre"))+" ",1),d.value?(H(),B(bt,{key:0,class:"mx-2",color:"error",size:"20"},{default:w(()=>[q(N(b(c)),1)]),_:1})):pt("",!0)]),_:1})]),_:1}),_(We,null,{default:w(()=>[u.value.length?(H(),B(xt,{key:1,style:{"overflow-y":"auto",background:"rgb(255, 255, 255, 0.3)"},height:"100"},{default:w(()=>[(H(!0),it(kn,null,Sn(u.value,m=>(H(),B(ig,{key:m.id,info:m},null,8,["info"]))),128))]),_:1})):(H(),B(De,{key:0,style:{"overflow-y":"auto",background:"rgb(255, 255, 255, 0.3)"},class:"d-flex align-center text-center",variant:"flat"},{default:w(()=>[Q("span",og,N(b(r)("accueil.page.notifications.aucune")),1)]),_:1}))]),_:1})]),_:1},8,["class"]))}}),sg=yi(ag,[["__scopeId","data-v-129b6c1b"]]),ug=fe({__name:"CarteDocumentRécent",props:{id:{},a:{}},setup(e){const t=e,{mdAndUp:n}=$t(),{மொழியாக்கம்_பயன்படுத்து:r}=ye(),{$மொ:i}=r(),{அகராதியிலிருந்து_மொழிபெயர்ப்பு:s}=Ta(),{obtImageDéco:u}=Sa(),d=Mt(),c=xe(d.motsClefs.suivreNomsMotClef,{idMotClef:t.id}),f=s(c),p=Ci(),m=xe(d.suivreTypeObjet,{idObjet:t.id}),v=te(()=>Mn(m.value)||"mdi-file-document-outline"),y=te(()=>m.value?`${m.value}s.sansNom`:"communs.sansNom"),S=xe(d.bds.suivreImage,{idBd:t.id}),D=te(()=>{if(S.value)return URL.createObjectURL(new Blob([S.value],{type:"image"}))}),O=u("logoBD"),{texte:F}=$a({vuÀ:t.a,t:i}),z=()=>p.effacer({id:t.id});return(E,k)=>(H(),B(De,{class:"text-start"},{default:w(()=>[_(Xe,null,{default:w(()=>[b(c)?(H(),B(je,{key:0,class:gi({"text-disabled":!b(f)})},{default:w(()=>[q(N(b(f)||b(i)(y.value))+" ",1),_(bt,null,{default:w(()=>[_(ot,null,{default:w(()=>[q(N(v.value),1)]),_:1})]),_:1})]),_:1},8,["class"])):(H(),B(je,{key:1},{default:w(()=>[_(Ma,{type:"text"})]),_:1})),_(xa,null,{default:w(()=>[q(N(b(F)),1)]),_:1})]),_:1}),_(We,{class:"align-center text-center"},{default:w(()=>[_(bt,{class:"mb-3",size:b(n)?125:100},{default:w(()=>[_(xl,{class:"my-0",src:D.value||b(O)},null,8,["src"])]),_:1},8,["size"])]),_:1}),_(wi),_(bi,null,{default:w(()=>[_(xr),_(oe,{class:"mx-auto",color:"primary",variant:"text","append-icon":"mdi-open-in-new",disabled:!b(m),onClick:k[0]||(k[0]=$=>E.$router.push(encodeURI(`/données/${b(m)}/${encodeURIComponent(E.id)}`)))},{default:w(()=>[q(N(b(i)("communs.ouvrir")),1)]),_:1},8,["disabled"]),_(oe,{"append-icon":"mdi-close",onClick:k[1]||(k[1]=()=>z())},{default:w(()=>[q(N(b(i)("communs.effacer")),1)]),_:1})]),_:1})]),_:1}))}}),cg={key:0},lg={key:1},fg=fe({__name:"ItemDocumentRécent",props:{id:{},a:{}},setup(e){const t=e,{மொழியாக்கம்_பயன்படுத்து:n}=ye(),{$மொ:r}=n(),{அகராதியிலிருந்து_மொழிபெயர்ப்பு:i}=Ta(),{obtImageDéco:s}=Sa(),u=Mt(),d=xe(u.motsClefs.suivreNomsMotClef,{idMotClef:t.id}),c=i(d),f=Ci(),p=xe(u.suivreTypeObjet,{idObjet:t.id}),m=te(()=>Mn(p.value)||"mdi-file-document-outline"),v=te(()=>p.value?`${p.value}s.sansNom`:"communs.sansNom"),y=xe(u.bds.suivreImage,{idBd:t.id}),S=te(()=>{if(y.value)return URL.createObjectURL(new Blob([y.value],{type:"image"}))}),D=s("logoBD"),{texte:O}=$a({vuÀ:t.a,t:r}),F=()=>f.effacer({id:t.id});return(z,E)=>(H(),B(Re,{subtitle:b(O),"prepend-avatar":S.value||b(D),onClick:E[1]||(E[1]=k=>z.$router.push(encodeURI(`/données/${b(p)}/${encodeURIComponent(z.id)}`)))},{title:w(()=>[b(d)?(H(),it("span",cg,[q(N(b(c)||b(r)(v.value))+" ",1),_(bt,null,{default:w(()=>[_(ot,null,{default:w(()=>[q(N(m.value),1)]),_:1})]),_:1})])):(H(),it("span",lg,[_(Ma,{type:"text"})]))]),append:w(()=>[_(oe,{class:"mx-2",variant:"flat",icon:"mdi-close",onClick:E[0]||(E[0]=()=>F())})]),_:1},8,["subtitle","prepend-avatar"]))}}),dg={class:"text-h4"},hg={class:"pa-4 ma-auto text-h4 text-center"},pg={class:"text-h2 my-4"},mg={class:"pa-4 ma-auto text-h4 text-center text-disabled"},vg=fe({__name:"PanelRécents",setup(e){const{மொழியாக்கம்_பயன்படுத்து:t}=ye(),{$மொ:n}=t(),{mdAndUp:r,smAndUp:i}=$t(),s=Ci(),{récents:u}=ba(s),d=re(5),c=te(()=>u.value.length===d.value?u.value:u.value.slice(0,d.value-1)),f=te(()=>u.value.length<=d.value?[]:u.value.slice(d.value-1));return(p,m)=>(H(),B(Tr,null,{default:w(()=>[_(Ue,{cols:"12"},{default:w(()=>[Q("p",dg,N(b(n)("accueil.page.récents.titre")),1)]),_:1}),_(Ue,{cols:b(r)?4:b(i)?6:12},{default:w(()=>[_(De,{class:"text-start",style:{height:"100%"}},{default:w(()=>[_(Xe,null,{default:w(()=>[_(je,null,{default:w(()=>[_(bt,null,{default:w(()=>[_(ot,null,{default:w(()=>m[0]||(m[0]=[q("mdi-plus")])),_:1})]),_:1}),q(" "+N(b(n)("accueil.page.récents.nouveau")),1)]),_:1})]),_:1}),_(We,null,{default:w(()=>[_(xt,null,{default:w(()=>[_(Cl,null,{activator:w(({props:v})=>[_(Re,nt(v,{"prepend-icon":b(Mn)("bd"),title:b(n)("accueil.page.récents.nouvelleBd")}),null,16,["prepend-icon","title"])]),_:1}),_(Dl,null,{activator:w(({props:v})=>[_(Re,nt(v,{"prepend-icon":b(Mn)("projet"),title:b(n)("accueil.page.récents.nouveauProjet")}),null,16,["prepend-icon","title"])]),_:1}),_(Tl,null,{activator:w(({props:v})=>[_(Re,nt(v,{"prepend-icon":b(Mn)("nuée"),title:b(n)("accueil.page.récents.nouvelleNuée")}),null,16,["prepend-icon","title"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["cols"]),(H(!0),it(kn,null,Sn(c.value,v=>(H(),B(Ue,{key:v.id,cols:b(r)?4:b(i)?6:12},{default:w(()=>[_(ug,{id:v.id,a:v.à},null,8,["id","a"])]),_:2},1032,["cols"]))),128)),f.value.length?(H(),B(Ue,{key:0,cols:b(r)?4:b(i)?6:12},{default:w(()=>[_(Cr,null,{activator:w(({props:v})=>[_(De,nt(v,{class:"d-flex align-center text-center",variant:"flat",height:"100%"}),{default:w(()=>[Q("span",hg,[q(N(b(n)("accueil.page.récents.voirPlus"))+" ",1),m[1]||(m[1]=Q("br",null,null,-1)),Q("p",pg,N(b(n)("accueil.page.récents.plusN",[f.value.length])),1)])]),_:2},1040)]),default:w(()=>[_(De,null,{default:w(()=>[_(Xe,null,{default:w(()=>[_(je,null,{default:w(()=>[q(N(b(n)("accueil.page.récents.documentsRécents")),1)]),_:1})]),_:1}),_(We,{style:{"overflow-y":"auto"}},{default:w(()=>[_(xt,null,{default:w(()=>[(H(!0),it(kn,null,Sn(b(u),v=>(H(),B(fg,{id:v.id,key:v.id,a:v.à},null,8,["id","a"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["cols"])):pt("",!0),b(u).length?pt("",!0):(H(),B(Ue,{key:1,cols:b(r)?8:b(i)?6:12},{default:w(()=>[_(De,{class:"d-flex align-center text-center",variant:"flat",height:"230"},{default:w(()=>[Q("span",mg,N(b(n)("accueil.page.récents.aucunRécent")),1)]),_:1})]),_:1},8,["cols"]))]),_:1}))}}),Cg=fe({__name:"PageAccueil",setup(e){const{மொழியாக்கம்_பயன்படுத்து:t}=ye(),{$மொ:n}=t(),{mdAndUp:r,smAndUp:i}=$t();return(s,u)=>(H(),B($l,{class:"text-center"},{default:w(()=>[_(Pl,{titre:b(n)("communs.constellation")},null,8,["titre"]),_(Tr,{class:"mt-2"},{default:w(()=>[_(Ue,{cols:b(r)?4:b(i)?6:12},{default:w(()=>[_(Kf)]),_:1},8,["cols"]),_(Ue,{cols:b(r)?4:b(i)?6:12},{default:w(()=>[_(El)]),_:1},8,["cols"]),_(Ue,{cols:b(r)?4:b(i)?6:12},{default:w(()=>[_(sg)]),_:1},8,["cols"])]),_:1}),_(Zf),_(vg),_(W0)]),_:1}))}});export{Cg as default};
//# sourceMappingURL=PageAccueil-CwTLIYQ_.js.map

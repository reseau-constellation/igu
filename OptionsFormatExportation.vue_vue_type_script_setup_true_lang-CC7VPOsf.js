import{d as M,க as J,p as ue,r as b,o as xe,q,dx as Ce,c as $,a as d,O as se,w as t,f as k,t as u,h as s,B as Ve,G as U,v as K,ci as Qe,b as e,ம as qe,bU as ne,aC as he,s as Xe,M as W,F as A,as as Ye,dn as ve,aQ as Ze,n as ge,cm as Oe,A as z,aX as Z,a9 as De,bH as et,dq as ke,z as x,a2 as Q,K as B,I as we,J as je,av as Fe,Q as ae,ah as tt,ai as at,dy as st,ax as Ie,dr as P,x as Ue,V as Ne,i as Pe,e as Ae,y as be,j as ye,m as Te,T as Be,W as G,br as Re,N as Ee,bD as ze,dz as Me,an as Le,ao as Ge,aL as Je,aM as X,ad as lt,ae as ot,R as nt,ap as it,bp as ut,bq as rt,H as He,dA as ct,b8 as dt,b9 as mt,bd as pt,bc as vt,cK as We,bb as ft,dB as $e,aP as _t,bg as bt,bh as yt,dC as Se,dD as xt,d8 as Vt,bn as ht,dE as gt,dF as wt,bi as jt,bf as kt,dG as $t,dH as St}from"./index-i1mwBSe2.js";import{d as Ct}from"./SélecteurNuée.vue_vue_type_script_setup_true_lang-DtIQB_sr.js";import{_ as qt}from"./RésultatRechercheProjet.vue_vue_type_script_setup_true_lang-CvH_neGT.js";import{_ as Ot}from"./CarteProjet.vue_vue_type_script_setup_true_lang-Dz2RkE5Z.js";import{_ as Dt}from"./NouveauProjet.vue_vue_type_script_setup_true_lang-CCE9aTjA.js";import{b as Ft}from"./_baseClone-BkWIMYlH.js";var It=1,Ut=4;function ie(l){return Ft(l,It|Ut)}const Nt=M({__name:"JetonFichierExportation",props:{spécification:{}},setup(l){const o=l,{மொழியாக்கம்_பயன்படுத்து:y}=J(),{$மொ:m}=y(),a=ue(),c=b();xe(async()=>{c.value=await a.obtIdDispositif()});const r=q(()=>!!c.value&&o.spécification.dispositifs.includes(c.value)),p=q(()=>r.value&&o.spécification.dossier===void 0),V=q(()=>typeof o.spécification.dossier=="string"),S=q(()=>o.spécification.dossier?Ce.parse(o.spécification.dossier).base:"automatisations.fichierIntrouvable");return(n,v)=>(d(),$(se,{variant:"outlined",label:"",density:"compact"},{prepend:t(()=>[p.value?(d(),$(Ve,{key:0,class:"me-2",indeterminate:"",size:"15",width:"2",color:"primary"})):V.value?(d(),$(U,{key:1,start:""},{default:t(()=>v[0]||(v[0]=[k(" mdi-file-outline ")])),_:1})):(d(),$(U,{key:2,color:"error"},{default:t(()=>v[1]||(v[1]=[k(" mdi-alert ")])),_:1}))]),default:t(()=>[k(" "+u(s(m)(S.value)),1)]),_:1}))}}),Pt=M({__name:"JetonFichierImportation",props:{spécification:{}},setup(l){const o=l,{மொழியாக்கம்_பயன்படுத்து:y}=J(),{$மொ:m}=y(),a=ue(),c=q(()=>o.spécification.source.typeSource==="fichier"?p.value===void 0:!1),r=q(()=>o.spécification.source.typeSource==="url"||typeof p.value=="string"),p=b();K(async()=>{o.spécification.source.typeSource==="fichier"&&(p.value=await a.automatisations.résoudreAdressePrivéeFichier({clef:o.spécification.source.adresseFichier}))});const V=q(()=>o.spécification.source.typeSource==="fichier"?"mdi-file":"mdi-web"),S=q(()=>o.spécification.source.typeSource==="fichier"?p.value===void 0?"automatisations.rechercheFichier":p.value===null?"automatisations.fichierIntrouvable":Ce.parse(p.value).base:o.spécification.source.url.slice(-10)+m("communs.troisPetitsPoints"));return(n,v)=>(d(),$(se,null,{prepend:t(()=>[c.value?(d(),$(Ve,{key:0,indeterminate:"",color:"primary"})):r.value?(d(),$(U,{key:1},{default:t(()=>[k(u(V.value),1)]),_:1})):(d(),$(U,{key:2,color:"error"},{default:t(()=>v[0]||(v[0]=[k(" mdi-alert ")])),_:1}))]),default:t(()=>[k(" "+u(s(m)(S.value)),1)]),_:1}))}}),At=M({__name:"JetonStatutAutomatisation",props:{statut:{}},setup(l){const{மொழியாக்கம்_பயன்படுத்து:o}=J(),{$மொ:y}=o(),m=l,a=q(()=>{switch(m.statut.type){case"erreur":return{icône:"mdi-alert",couleur:"error"};case"programmée":return{icône:"mdi-check",couleur:"success"};case"sync":return{icône:"mdi-sync",couleur:"primary"};case"écoute":return{icône:"",couleur:"success"};default:throw new Error(JSON.stringify(m.statut))}}),c=b(new Date().getTime());let r;xe(()=>{r=window.setInterval(()=>c.value=new Date().getTime(),1e3)}),Qe(()=>{r&&clearInterval(r)});const p=q(()=>{switch(m.statut.type){case"écoute":return"automatisations.jetonStatut.écoute";case"sync":return y("automatisations.jetonStatut.sync",{depuis:c.value-m.statut.depuis});case"programmée":return y("automatisations.jetonStatut.programmée",{dans:m.statut.à-c.value});case"erreur":return m.statut.prochaineProgramméeÀ?y("automatisations.jetonStatut.erreurRéssayer",{dans:m.statut.prochaineProgramméeÀ-c.value}):"automatisations.jetonStatut.erreur";default:throw new Error(m.statut)}});return(V,S)=>(d(),$(se,{label:"",density:"compact",variant:"outlined"},{prepend:t(()=>[V.statut.type==="sync"?(d(),$(Ve,{key:0,indeterminate:""},{default:t(()=>[e(U,{color:a.value.couleur},{default:t(()=>[k(u(a.value.icône),1)]),_:1},8,["color"])]),_:1})):(d(),$(U,{key:1,start:"",color:a.value.couleur},{default:t(()=>[k(u(a.value.icône),1)]),_:1},8,["color"]))]),default:t(()=>[k(" "+u(s(y)(p.value)),1)]),_:1}))}}),ka=M({__name:"ItemAutomatisation",props:{spécification:{}},setup(l){const o=l,y=ue(),{அகராதியிலிருந்து_மொழிபெயர்ப்பு:m}=qe(),a=b();xe(()=>{if(o.spécification.type==="importation")ne(y.tableaux.suivreNomsTableau({idTableau:o.spécification.idTableau,f:n=>a.value=n}));else switch(o.spécification.typeObjet){case"tableau":ne(y.tableaux.suivreNomsTableau({idTableau:o.spécification.idObjet,f:n=>a.value=n}));break;case"projet":ne(y.projets.suivreNomsProjet({idProjet:o.spécification.idObjet,f:n=>a.value=n}));break;case"bd":ne(y.bds.suivreNomsBd({idBd:o.spécification.idObjet,f:n=>a.value=n}));break;case"nuée":ne(y.nuées.suivreNomsNuée({idNuée:o.spécification.idObjet,f:n=>a.value=n}));break;default:throw new Error(JSON.stringify(o.spécification))}});const c=m(a),r=q(()=>{if(o.spécification.type==="importation")return"tableaux.sansNom";switch(o.spécification.typeObjet){case"bd":return"bds.sansNom";case"nuée":return"nuées.sansNom";case"projet":return"projets.sansNom";case"tableau":return"tableaux.sansNom";default:return"communs.sansNom"}}),p=q(()=>o.spécification.type==="importation"?"mdi-table":he(o.spécification.typeObjet)),V=Xe(y.automatisations.suivreÉtatAutomatisations),S=q(()=>V.value?V.value[o.spécification.id]:void 0);return(n,v)=>(d(),$(W,null,{prepend:t(()=>[e(U,null,{default:t(()=>[k(u(n.spécification.type==="exportation"?"mdi-export":"mdi-import"),1)]),_:1})]),default:t(()=>[e(Ye,null,{default:t(()=>[e(U,null,{default:t(()=>[k(u(p.value),1)]),_:1}),k(" "+u(s(c)||r.value),1)]),_:1}),n.spécification.type==="importation"?(d(),$(Pt,{key:0,spécification:n.spécification},null,8,["spécification"])):(d(),$(Nt,{key:1,class:"mx-2 my-2",spécification:n.spécification},null,8,["spécification"])),S.value?(d(),$(At,{key:2,statut:S.value},null,8,["statut"])):A("",!0)]),_:1}))}}),Tt=M({__name:"OptionsLanguesExportation",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(l){const o=ve(l,"modelValue"),{மொழியாக்கம்_பயன்படுத்து:y,கிடைக்கும்_மொழிகளை_பயன்படுத்து:m}=J(),{$மொ:a}=y(),{மொழி:c,மாற்றுமொழிகள்:r}=qe(),{மொழிகளும்_குறியீடுகளும்:p}=m(),V=q(()=>p.value.map(S=>S.மொழி));return K(()=>{o.value=[c.value,...r.value].map(S=>p.value.find(n=>n.குறியீடு===S)?.மொழி||S)}),(S,n)=>(d(),$(Ze,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=v=>o.value=v),items:V.value,label:s(a)("exportations.carte.étiquetteLangues"),variant:"outlined",multiple:"",chips:"","closable-chips":"","hide-details":""},null,8,["modelValue","items","label"]))}}),Bt={key:0,class:"d-flex"},Rt={class:"my-auto"},Et={key:0,class:"d-flex"},zt={key:0,class:"d-flex"},Mt={class:"my-auto"},Lt={key:1,class:"d-flex"},Gt=M({__name:"OptionsSauvegardesMultiples",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(l){const{mdAndUp:o}=ge(),{மொழியாக்கம்_பயன்படுத்து:y}=J(),{$மொ:m}=y(),a=Oe(),c=ve(l,"modelValue"),r=b(c.value?.type?c.value.type:"aucune"),p=["aucune","n","temps"],V=b(c.value?.type==="n"?c.value.n.toString():"1"),S=q(()=>a.எண்ணுக்கு({உரை:V.value})),n=b(c.value?.type==="temps"?c.value.temps.détails.n.toString():"1"),v=q(()=>a.எண்ணுக்கு({உரை:n.value})),w=b(c.value?.type==="temps"?c.value.temps.détails.unités:"jours"),F=["années","mois","semaines","jours","heures","minutes","secondes","millisecondes"];return K(()=>{switch(r.value){case"aucune":c.value=void 0;break;case"n":{const R={type:"n",n:S.value};c.value=R;break}case"temps":{const R={type:"temps",temps:{type:"fixe",détails:{unités:w.value,n:v.value}}};c.value=R;break}}}),(R,D)=>(d(),z(ae,null,[e(Z,{modelValue:r.value,"onUpdate:modelValue":D[3]||(D[3]=h=>r.value=h),class:De(s(o)?["mb-4"]:["mb-2"]),items:p,variant:"outlined",density:"compact","hide-details":""},et({item:t(({props:h,item:j})=>[e(W,we(je({...h,title:s(m)(`automatisations.sauvegardes.sélection.${j.raw}.item`)})),null,16)]),selection:t(({item:h})=>[k(u(s(m)(`automatisations.sauvegardes.sélection.${h.raw}.sélection`)),1)]),_:2},[s(o)?{name:"append",fn:t(()=>[e(ke,null,{default:t(()=>[r.value==="n"?(d(),z("div",Bt,[e(Q,{modelValue:V.value,"onUpdate:modelValue":D[0]||(D[0]=h=>V.value=h),class:"mx-1 me-3",variant:"outlined","hide-details":"",density:"compact"},null,8,["modelValue"]),x("span",Rt,u(s(m)("automatisations.sauvegardes.sélection.n.sauvegardes")),1)])):A("",!0)]),_:1}),e(ke,null,{default:t(()=>[r.value==="temps"?(d(),z("div",Et,[e(Q,{modelValue:n.value,"onUpdate:modelValue":D[1]||(D[1]=h=>n.value=h),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"]),e(Z,{modelValue:w.value,"onUpdate:modelValue":D[2]||(D[2]=h=>w.value=h),items:F,class:"ms-2",variant:"outlined",density:"compact","hide-details":""},{selection:t(({item:h})=>[k(u(s(m)(`automatisations.fréquence.unités.${h.raw}`)),1)]),item:t(({item:h,props:j})=>[e(W,B(j,{title:s(m)(`automatisations.fréquence.unités.${h.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])])):A("",!0)]),_:1})]),key:"0"}:void 0]),1032,["modelValue","class"]),s(o)?A("",!0):(d(),$(Fe,{key:0},{default:t(()=>[r.value==="n"?(d(),z("div",zt,[e(Q,{modelValue:V.value,"onUpdate:modelValue":D[4]||(D[4]=h=>V.value=h),class:"mx-1 me-3",variant:"outlined","hide-details":"",density:"compact"},null,8,["modelValue"]),x("span",Mt,u(s(m)("automatisations.sauvegardes.sélection.n.sauvegardes")),1)])):A("",!0),r.value==="temps"?(d(),z("div",Lt,[e(Q,{modelValue:n.value,"onUpdate:modelValue":D[5]||(D[5]=h=>n.value=h),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"]),e(Z,{modelValue:w.value,"onUpdate:modelValue":D[6]||(D[6]=h=>w.value=h),items:F,class:"ms-2",variant:"outlined",density:"compact","hide-details":""},{selection:t(({item:h})=>[k(u(s(m)(`automatisations.fréquence.unités.${h.raw}`)),1)]),item:t(({item:h,props:j})=>[e(W,B(j,{title:s(m)(`automatisations.fréquence.unités.${h.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])])):A("",!0)]),_:1}))],64))}}),Jt=M({__name:"SélecteurProjet",props:{multiples:{type:Boolean},originaux:{}},emits:["selectionne"],setup(l,{emit:o}){const y=o,{மொழியாக்கம்_பயன்படுத்து:m}=J(),{$மொ:a}=m(),c=ue(),r=b([]);K(()=>{y("selectionne",r.value)});const p=b(),{résultats:V,onTravaille:S}=tt(c.recherche.rechercherProjetsSelonTexte,{texte:p});return(n,v)=>(d(),$(at,{multiples:n.multiples,originaux:n.originaux,"resultats-recherche":s(V),"on-travaille":s(S),"texte-etiquette-recherche":s(a)("projets.recherche.étiquette"),"texte-aucun-résultat":s(a)("projets.recherche.aucunRésultat"),onSelectionnee:v[0]||(v[0]=w=>r.value=w),onRequeteModifiee:v[1]||(v[1]=w=>p.value=w)},{résultat:t(({résultat:w,click:F})=>[e(qt,{résultat:w,onClick:F},null,8,["résultat","onClick"])]),"jeton-objet":t(({id:w,deselectionner:F})=>[e(Ot,{id:w},{activator:t(({props:R})=>[e(st,B({id:w},{props:R}),{default:t(()=>[e(U,{class:"ms-2",icon:"mdi-close",size:"small",variant:"flat",onClick:()=>F({id:w})},null,8,["onClick"])]),_:2},1040,["id"])]),_:2},1032,["id"])]),nouveau:t(({nouveau:w})=>[e(Dt,{onNouveau:w},{activator:t(({props:F})=>[e(W,B(F,{title:s(a)("projets.nouveau.btn"),"prepend-icon":"mdi-plus"}),null,16,["title"])]),_:2},1032,["onNouveau"])]),_:1},8,["multiples","originaux","resultats-recherche","on-travaille","texte-etiquette-recherche","texte-aucun-résultat"]))}}),Ht={class:"font-weight-bold"},Wt={class:"text-medium-emphasis text-caption"},Kt={class:"font-weight-bold"},Qt={class:"text-medium-emphasis text-caption"},Xt={key:0,class:"my-1 text-medium-emphasis text-caption"},Yt={class:"font-weight-bold"},Zt={class:"text-medium-emphasis text-caption",style:{display:"flex","align-items":"center"}},ea={class:"d-flex"},ta={key:0,class:"my-1 text-medium-emphasis text-caption"},aa={class:"font-weight-bold"},sa={class:"text-medium-emphasis text-caption"},la={class:"my-2"},$a=M({__name:"NouvelleExportation",props:{infoObjet:{}},setup(l){const o=l,{mdAndUp:y}=ge(),{மொழியாக்கம்_பயன்படுத்து:m}=J(),{$மொ:a}=m(),c=Oe(),{so:r}=Ie(),p=r==="androïde"||r==="iOS",V=ue(),S=b(!1),n=["objetConstellation","destination","format","automatiser","confirmation"],v=b(n.indexOf(o.infoObjet?P?"format":"destination":"objetConstellation")),w=q(()=>{switch(n[v.value]){case"objetConstellation":return"exportations.carte.titreObjetConstellation";case"destination":return"exportations.carte.titreDestination";case"format":return"exportations.carte.titreFormat";case"automatiser":return"exportations.carte.titreAutomatiser";case"confirmation":return"exportations.carte.titreConfirmation";default:return""}}),F=()=>{switch(n[v.value]){case"objetConstellation":v.value=n.indexOf(P?"format":"destination");break;default:v.value++;break}},R=()=>{switch(n[v.value]){case"format":v.value=n.indexOf(P?"objetConstellation":"destination");break;default:v.value--;break}},D=q(()=>{switch(n[v.value]){case"objetConstellation":return{actif:!!I.value,visible:!0};case"destination":return{actif:!!O.value,visible:!0};case"format":return{actif:!!f.value,visible:!0};case"automatiser":return{actif:!!N.value,visible:!0};case"confirmation":return{actif:!1,visible:!1};default:return{actif:!0,visible:!0}}}),h=q(()=>{switch(n[v.value]){case"objetConstellation":return{actif:!1,visible:!1};case"destination":return{actif:!o.infoObjet,visible:!o.infoObjet};case"format":return{actif:!o.infoObjet||!P,visible:!o.infoObjet||!P};case"confirmation":return{actif:!me.value,visible:!0};default:return{actif:!0,visible:!0}}}),j=b(o.infoObjet?.typeObjet||"bd"),I=b(o.infoObjet?.id),ee=[{type:"tableau",texte:"pages.mesDonnées.tableaux"},{type:"bd",texte:"pages.mesDonnées.bds"},{type:"projet",texte:"pages.mesDonnées.projets"},{type:"nuée",texte:"pages.mesDonnées.nuées"}],O=b(),C=async()=>{(O.value===""||!O.value)&&(O.value=await ct())},f=b("ods"),le=["ods","csv","txt","xlsx","xls"],H=b(),g=b(!0),N=b(P?"manuelle":"fixe"),L=b("1"),Y=q(()=>{try{return c.எண்ணுக்கு({உரை:L.value})}catch{return}}),re=b("jours"),fe=["années","mois","semaines","jours","heures","minutes","secondes","millisecondes"],ce=T=>{try{return c.எண்ணுக்கு({உரை:T}),!0}catch{return a("règles.numérique")}},oe=T=>(T|0)===T,de=()=>Y.value!==void 0&&Y.value>0&&oe(Y.value)?!0:a("règles.nombreEntierPositif"),te=b(),me=b(!1),pe=async()=>{if(!(!O.value||!I.value||!j.value)){if(N.value==="aucune")j.value==="tableau"?await V.tableaux.exporterTableauÀFichier(ie({idTableau:I.value,langues:H.value,formatDoc:f.value,dossier:O.value,inclureDocuments:g.value})):j.value==="bd"?await V.bds.exporterBdÀFichier(ie({idBd:I.value,langues:H.value,formatDoc:f.value,dossier:O.value,inclureDocuments:g.value})):j.value==="nuée"?await V.nuées.exporterNuéeÀFichier(ie({idNuée:I.value,langues:H.value,formatDoc:f.value,dossier:O.value,inclureDocuments:g.value})):j.value==="projet"&&await V.projets.exporterProjetÀFichier(ie({idProjet:I.value,langues:H.value,formatDoc:f.value,dossier:O.value,inclureDocuments:g.value}));else{if(!Y.value)return;await V.automatisations.ajouterAutomatisationExporter(ie({id:I.value,typeObjet:j.value,formatDoc:f.value,inclureDocuments:g.value,dossier:O.value,langues:H.value,fréquence:{type:N.value,détails:{n:Y.value,unités:re.value}},copies:te.value}))}_e()}},_e=()=>{S.value=!1};return(T,_)=>(d(),$(Ue,{modelValue:S.value,"onUpdate:modelValue":_[17]||(_[17]=i=>S.value=i)},{activator:t(({props:i})=>[He(T.$slots,"activator",we(je({props:i})))]),default:t(()=>[e(Ne,{class:"mx-auto",width:s(y)?600:"90%"},{default:t(()=>[e(Pe,null,{default:t(()=>[e(Ae,{class:"d-flex"},{default:t(()=>[k(u(s(a)(w.value))+" ",1),e(be),e(ye,{icon:"mdi-close",size:"small",variant:"flat",onClick:_[0]||(_[0]=i=>S.value=!1)})]),_:1})]),_:1}),e(Te,{style:{"overflow-y":"auto"}},{default:t(()=>[e(Be,{modelValue:v.value,"onUpdate:modelValue":_[16]||(_[16]=i=>v.value=i),style:{"overflow-y":"scroll"},disabled:""},{default:t(()=>[e(G,{value:n.indexOf("objetConstellation")},{default:t(()=>[e(Re,{modelValue:j.value,"onUpdate:modelValue":_[1]||(_[1]=i=>j.value=i),color:"primary",mandatory:""},{default:t(()=>[(d(),z(ae,null,Ee(ee,i=>e(se,{key:i.type,value:i.type,text:s(a)(i.texte),class:"mx-2",variant:"outlined","prepend-icon":s(he)(i.type)},null,8,["value","text","prepend-icon"])),64))]),_:1},8,["modelValue"]),j.value==="bd"?(d(),$(ze,{key:0,multiples:!1,onSelectionnee:_[2]||(_[2]=i=>I.value=i[0])})):j.value==="tableau"?(d(),$(Me,{key:1,multiples:!1,onSelectionne:_[3]||(_[3]=i=>I.value=i)})):j.value==="projet"?(d(),$(Jt,{key:2,multiples:!1,onSelectionne:_[4]||(_[4]=i=>I.value=i[0])})):j.value==="nuée"?(d(),$(Ct,{key:3,multiples:!1,onSelectionnee:_[5]||(_[5]=i=>I.value=i[0])})):A("",!0)]),_:1},8,["value"]),e(G,{value:n.indexOf("destination")},{default:t(()=>[e(Q,{modelValue:O.value,"onUpdate:modelValue":_[6]||(_[6]=i=>O.value=i),label:s(a)("exportations.carte.étiquetteDestination"),class:"mt-2",variant:"outlined","prepend-icon":"mdi-folder-outline",density:"compact",clearable:"",onClick:_[7]||(_[7]=()=>C())},null,8,["modelValue","label"])]),_:1},8,["value"]),e(G,{value:n.indexOf("format")},{default:t(()=>[e(Z,{modelValue:f.value,"onUpdate:modelValue":_[8]||(_[8]=i=>f.value=i),items:le,label:s(a)("exportations.carte.étiquetteFormatDoc"),class:"mt-2",variant:"outlined"},{selection:t(({item:i})=>[k(u(s(a)(`exportations.format.${i.raw}`)),1)]),item:t(({item:i,props:E})=>[e(W,B(E,{title:s(a)(`exportations.format.${i.raw}`)}),null,16,["title"])]),_:1},8,["modelValue","label"]),e(Tt,{modelValue:H.value,"onUpdate:modelValue":_[9]||(_[9]=i=>H.value=i)},null,8,["modelValue"]),e(Le,{modelValue:g.value,"onUpdate:modelValue":_[10]||(_[10]=i=>g.value=i),color:"primary"},{label:t(()=>[k(u(s(a)("exportations.carte.étiquetteInclureDocuments"))+" ",1),s(p)?A("",!0):(d(),$(Ge,{key:0,location:"bottom",text:s(a)("exportations.carte.indiceInclureDocuments")},{activator:t(({props:i})=>[e(U,B(i,{icon:"mdi-information-outline",end:""}),null,16)]),_:1},8,["text"]))]),_:1},8,["modelValue"])]),_:1},8,["value"]),e(G,{value:n.indexOf("automatiser")},{default:t(()=>[x("p",null,u(s(a)("exportations.carte.automatiser")),1),e(Je,{modelValue:N.value,"onUpdate:modelValue":_[13]||(_[13]=i=>N.value=i)},{default:t(()=>[e(X,{value:"manuelle",class:"my-2"},{label:t(()=>[x("div",null,[x("p",Ht,u(s(a)("automatisations.fréquence.manuelle")),1),x("p",Wt,u(s(a)("automatisations.fréquence.indiceManuelle")),1)])]),_:1}),e(X,{value:"dynamique",class:"my-2",disabled:s(P)},{label:t(()=>[x("div",null,[x("p",Kt,u(s(a)("automatisations.fréquence.dynamique")),1),x("p",Qt,u(s(a)("automatisations.fréquence.indiceDynamique")),1),s(P)?(d(),z("p",Xt,[e(U,{icon:"mdi-alert-outline",start:""}),k(u(s(a)("automatisations.fréquence.pasSurNavig")),1)])):A("",!0)])]),_:1},8,["disabled"]),e(X,{value:"fixe",class:"my-2",disabled:s(P)},{label:t(()=>[x("div",null,[x("p",Yt,u(s(a)("automatisations.fréquence.fixe")),1),_[18]||(_[18]=x("p",{class:"text-medium-emphasis text-caption"},null,-1)),x("div",{class:De({"d-flex":s(y)})},[x("div",Zt,u(s(a)("automatisations.fréquence.indiceFixe")),1),x("div",ea,[e(Q,{modelValue:L.value,"onUpdate:modelValue":_[11]||(_[11]=i=>L.value=i),class:"mx-1",variant:"outlined",density:"compact","hide-details":ce(L.value)===!0&&de()===!0,rules:[ce,de]},null,8,["modelValue","hide-details","rules"]),e(Z,{modelValue:re.value,"onUpdate:modelValue":_[12]||(_[12]=i=>re.value=i),items:fe,class:"mx-1",variant:"outlined",density:"compact","hide-details":""},{selection:t(({item:i})=>[k(u(s(a)(`automatisations.fréquence.unités.${i.raw}`)),1)]),item:t(({item:i,props:E})=>[e(W,B(E,{title:s(a)(`automatisations.fréquence.unités.${i.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])])],2),s(P)?(d(),z("p",ta,[e(U,{icon:"mdi-alert-outline",start:""}),k(u(s(a)("automatisations.fréquence.pasSurNavig")),1)])):A("",!0)])]),_:1},8,["disabled"]),e(X,{value:"aucune",class:"my-2"},{label:t(()=>[x("div",null,[x("p",aa,u(s(a)("automatisations.fréquence.aucune")),1),x("p",sa,u(s(a)("automatisations.fréquence.indiceAucune")),1)])]),_:1})]),_:1},8,["modelValue"]),e(Fe,null,{default:t(()=>[lt(x("div",null,[x("p",la,u(s(a)("exportations.carte.copies")),1),e(Gt,{modelValue:te.value,"onUpdate:modelValue":_[14]||(_[14]=i=>te.value=i)},null,8,["modelValue"])],512),[[ot,N.value==="dynamique"||N.value==="fixe"]])]),_:1})]),_:1},8,["value"]),e(G,{value:n.indexOf("confirmation"),class:"text-center"},{default:t(()=>[e(ye,{"append-icon":"mdi-check",variant:"outlined",onClick:_[15]||(_[15]=()=>pe())},{default:t(()=>[k(u(s(a)("exportations.carte.confirmer")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:1}),e(nt),e(it,null,{default:t(()=>[e(ut,{visible:h.value.visible,actif:h.value.actif,onRetour:R},null,8,["visible","actif"]),e(be),e(rt,{visible:D.value.visible,actif:D.value.actif,onSuivant:F},null,8,["visible","actif"])]),_:1})]),_:1},8,["width"])]),_:3},8,["modelValue"]))}}),oa=mt({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:l=>typeof l=="boolean"||[1e3,1024].includes(Number(l))},...gt({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:l=>l.multiple?[]:null,validator:l=>We(l).every(o=>o!=null&&typeof o=="object")},...ht({clearable:!0})},"VFileInput"),na=dt()({name:"VFileInput",inheritAttrs:!1,props:oa(),emits:{"click:control":l=>!0,"mousedown:control":l=>!0,"update:focused":l=>!0,"update:modelValue":l=>!0},setup(l,o){let{attrs:y,emit:m,slots:a}=o;const{t:c}=pt(),r=vt(l,"modelValue",l.modelValue,g=>We(g),g=>!l.multiple&&Array.isArray(g)?g[0]:g),{isFocused:p,focus:V,blur:S}=ft(l),n=q(()=>typeof l.showSize!="boolean"?l.showSize:void 0),v=q(()=>(r.value??[]).reduce((g,N)=>{let{size:L=0}=N;return g+L},0)),w=q(()=>$e(v.value,n.value)),F=q(()=>(r.value??[]).map(g=>{const{name:N="",size:L=0}=g;return l.showSize?`${N} (${$e(L,n.value)})`:N})),R=q(()=>{const g=r.value?.length??0;return l.showSize?c(l.counterSizeString,g,w.value):c(l.counterString,g)}),D=b(),h=b(),j=b(),I=q(()=>p.value||l.active),ee=q(()=>["plain","underlined"].includes(l.variant));function O(){j.value!==document.activeElement&&j.value?.focus(),p.value||V()}function C(g){j.value?.click()}function f(g){m("mousedown:control",g)}function le(g){j.value?.click(),m("click:control",g)}function H(g){g.stopPropagation(),O(),kt(()=>{r.value=[],$t(l["onClick:clear"],g)})}return _t(r,g=>{(!Array.isArray(g)||!g.length)&&j.value&&(j.value.value="")}),bt(()=>{const g=!!(a.counter||l.counter),N=!!(g||a.details),[L,Y]=yt(y),{modelValue:re,...fe}=Se.filterProps(l),ce=xt(l);return e(Se,B({ref:D,modelValue:l.multiple?r.value:r.value[0],class:["v-file-input",{"v-file-input--chips":!!l.chips,"v-file-input--hide":l.hideInput,"v-input--plain-underlined":ee.value},l.class],style:l.style,"onClick:prepend":C},L,fe,{centerAffix:!ee.value,focused:p.value}),{...a,default:oe=>{let{id:de,isDisabled:te,isDirty:me,isReadonly:pe,isValid:_e}=oe;return e(jt,B({ref:h,"prepend-icon":l.prependIcon,onMousedown:f,onClick:le,"onClick:clear":H,"onClick:prependInner":l["onClick:prependInner"],"onClick:appendInner":l["onClick:appendInner"]},ce,{id:de.value,active:I.value||me.value,dirty:me.value||l.dirty,disabled:te.value,focused:p.value,error:_e.value===!1}),{...a,default:T=>{let{props:{class:_,...i}}=T;return e(ae,null,[e("input",B({ref:j,type:"file",readonly:pe.value,disabled:te.value,multiple:l.multiple,name:l.name,onClick:E=>{E.stopPropagation(),pe.value&&E.preventDefault(),O()},onChange:E=>{if(!E.target)return;const Ke=E.target;r.value=[...Ke.files??[]]},onFocus:O,onBlur:S},i,Y),null),e("div",{class:_},[!!r.value?.length&&!l.hideInput&&(a.selection?a.selection({fileNames:F.value,totalBytes:v.value,totalBytesReadable:w.value}):l.chips?F.value.map(E=>e(se,{key:E,size:"small",text:E},null)):F.value.join(", "))])])}})},details:N?oe=>e(ae,null,[a.details?.(oe),g&&e(ae,null,[e("span",null,null),e(wt,{active:!!r.value?.length,value:R.value,disabled:l.disabled},a.counter)])]):void 0})}),Vt({},D,h,j)}}),ia={class:"font-weight-bold"},ua={class:"text-medium-emphasis text-caption"},ra={class:"font-weight-bold"},ca={class:"text-medium-emphasis text-caption"},da={key:0,class:"my-1 text-medium-emphasis text-caption"},ma={key:1,class:"my-1 text-medium-emphasis text-caption"},pa={class:"font-weight-bold"},va={class:"d-flex vertical-align"},fa={class:"text-medium-emphasis text-caption",style:{display:"flex","align-items":"center"}},_a={key:0,class:"my-1 text-medium-emphasis text-caption"},ba={class:"font-weight-bold"},ya={class:"text-medium-emphasis text-caption"},Sa=M({__name:"NouvelleImportation",props:{infoObjet:{}},setup(l){const o=l,{mdAndUp:y}=ge(),{மொழியாக்கம்_பயன்படுத்து:m}=J(),{$மொ:a}=m(),c=b(!1),r=["objetConstellation","sourceImportation","correspondancesImportation","automatiser","confirmation"],p=b(r.indexOf(o.infoObjet?"sourceImportation":"objetConstellation")),V=q(()=>{switch(r[p.value]){case"objetConstellation":return"importations.carte.titreObjetConstellation";case"sourceImportation":return"importations.carte.titreSourceImportation";case"correspondancesImportation":return"importations.carte.titreCorrespondancesImportation";case"confirmation":return"importations.carte.titreconfirmation";default:return""}}),S=b(o.infoObjet?.typeObjet),n=b(o.infoObjet?.id),v=b(),w=b();K(()=>{v.value&&(w.value=void 0)}),K(()=>{w.value&&(v.value=void 0)});const F=b(),R=b(),D=b(!1);K(()=>{const O=v.value?.[0].name||w.value;R.value=O?.split(".").pop()}),K(async()=>{if(w.value)try{const O=await St.get(w.value);F.value=O.data}catch{D.value=!0}else v.value?F.value=new Uint8Array(await v.value[0].arrayBuffer()):F.value=void 0});const h=b("manuelle"),j=b(1),I=b("jours"),ee=["années","mois","semaines","jours","heures","minutes","secondes","millisecondes"];return(O,C)=>(d(),$(Ue,{modelValue:c.value,"onUpdate:modelValue":C[10]||(C[10]=f=>c.value=f)},{activator:t(({props:f})=>[He(O.$slots,"activator",we(je({props:f})))]),default:t(()=>[e(Ne,{class:"mx-auto","max-width":s(y)?500:300},{default:t(()=>[e(Pe,null,{default:t(()=>[e(Ae,{class:"d-flex"},{default:t(()=>[k(u(s(a)(V.value))+" ",1),e(be),e(ye,{icon:"mdi-close",size:"small",variant:"flat",onClick:C[0]||(C[0]=f=>c.value=!1)})]),_:1})]),_:1}),e(Te,null,{default:t(()=>[e(Be,{modelValue:p.value,"onUpdate:modelValue":C[9]||(C[9]=f=>p.value=f),style:{"overflow-y":"scroll"}},{default:t(()=>[e(G,{value:r.indexOf("objetConstellation")},{default:t(()=>[e(Re,{modelValue:S.value,"onUpdate:modelValue":C[1]||(C[1]=f=>S.value=f),color:"primary",mandatory:""},{default:t(()=>[(d(),z(ae,null,Ee(["tableau","bd"],f=>e(se,{key:f,class:"mx-2",variant:"outlined","prepend-icon":s(he)(f)},null,8,["prepend-icon"])),64))]),_:1},8,["modelValue"]),S.value==="bd"?(d(),$(ze,{key:0,multiples:!1,onSelectionnee:C[2]||(C[2]=f=>n.value=f[0])})):S.value==="tableau"?(d(),$(Me,{key:1,multiples:!1,onSelectionne:C[3]||(C[3]=f=>n.value=f)})):A("",!0)]),_:1},8,["value"]),e(G,{value:r.indexOf("sourceImportation")},{default:t(()=>[e(na,{modelValue:v.value,"onUpdate:modelValue":C[4]||(C[4]=f=>v.value=f),class:"mt-2",variant:"outlined",label:s(a)("importations.carte.étiquetteFichier")},null,8,["modelValue","label"]),e(Q,{modelValue:w.value,"onUpdate:modelValue":C[5]||(C[5]=f=>w.value=f),"prepend-icon":"mdi-web",variant:"outlined",label:s(a)("importations.carte.étiquetteURL")},null,8,["modelValue","label"]),k(" "+u(w.value)+" "+u(F.value),1)]),_:1},8,["value"]),e(G,{value:r.indexOf("correspondancesImportation")},null,8,["value"]),e(G,{value:r.indexOf("automatiser")},{default:t(()=>[x("p",null,u(s(a)("exportations.carte.automatiser")),1),e(Je,{modelValue:h.value,"onUpdate:modelValue":C[8]||(C[8]=f=>h.value=f)},{default:t(()=>[e(X,{value:"manuelle",class:"my-2"},{label:t(()=>[x("div",null,[x("p",ia,u(s(a)("automatisations.fréquence.manuelle")),1),x("p",ua,u(s(a)("automatisations.fréquence.indiceManuelle")),1)])]),_:1}),e(X,{value:"dynamique",class:"my-2",disabled:!!w.value||s(P)},{label:t(()=>[x("div",null,[x("p",ra,u(s(a)("automatisations.fréquence.dynamique")),1),x("p",ca,u(s(a)("automatisations.fréquence.indiceDynamique")),1),w.value?(d(),z("p",da,[e(U,{icon:"mdi-alert-outline",start:""}),k(u(s(a)("automatisations.fréquence.pasDeSourceURL")),1)])):s(P)?(d(),z("p",ma,[e(U,{icon:"mdi-alert-outline",start:""}),k(u(s(a)("automatisations.fréquence.pasSurNavig")),1)])):A("",!0)])]),_:1},8,["disabled"]),e(X,{value:"fixe",class:"my-2",disabled:s(P)},{label:t(()=>[x("div",null,[x("p",pa,u(s(a)("automatisations.fréquence.fixe")),1),C[11]||(C[11]=x("p",{class:"text-medium-emphasis text-caption"},null,-1)),x("div",va,[x("div",fa,u(s(a)("automatisations.fréquence.indiceFixe")),1),e(Q,{modelValue:j.value,"onUpdate:modelValue":C[6]||(C[6]=f=>j.value=f),class:"mx-1",variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"]),e(Z,{modelValue:I.value,"onUpdate:modelValue":C[7]||(C[7]=f=>I.value=f),items:ee,class:"mx-1",variant:"outlined",density:"compact","hide-details":""},{selection:t(({item:f})=>[k(u(s(a)(`automatisations.fréquence.unités.${f.raw}`)),1)]),item:t(({item:f,props:le})=>[e(W,B(le,{title:s(a)(`automatisations.fréquence.unités.${f.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])]),s(P)?(d(),z("p",_a,[e(U,{icon:"mdi-alert-outline",start:""}),k(u(s(a)("automatisations.fréquence.pasSurNavig")),1)])):A("",!0)])]),_:1},8,["disabled"]),e(X,{value:"aucune",class:"my-2"},{label:t(()=>[x("div",null,[x("p",ba,u(s(a)("automatisations.fréquence.aucune")),1),x("p",ya,u(s(a)("automatisations.fréquence.indiceAucune")),1)])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["value"]),e(G,{value:r.indexOf("confirmation")},null,8,["value"])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["max-width"])]),_:3},8,["modelValue"]))}}),Ca=M({__name:"OptionsDocumentsExportation",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(l){const{மொழியாக்கம்_பயன்படுத்து:o}=J(),{$மொ:y}=o(),{so:m}=Ie(),a=m==="androïde"||m==="iOS",c=ve(l,"modelValue");return(r,p)=>(d(),$(Le,{modelValue:c.value,"onUpdate:modelValue":p[0]||(p[0]=V=>c.value=V),color:"primary","hide-details":""},{label:t(()=>[k(u(s(y)("exportations.carte.étiquetteInclureDocuments"))+" ",1),s(a)?A("",!0):(d(),$(Ge,{key:0,location:"bottom",text:s(y)("exportations.carte.indiceInclureDocuments")},{activator:t(({props:V})=>[e(U,B(V,{icon:"mdi-information-outline",end:""}),null,16)]),_:1},8,["text"]))]),_:1},8,["modelValue"]))}}),qa=M({__name:"OptionsFormatExportation",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(l){ve(l,"modelValue");const{மொழியாக்கம்_பயன்படுத்து:o}=J(),{$மொ:y}=o(),m=b("ods"),a=["ods","csv","txt","xlsx","xls"];return(c,r)=>(d(),$(Z,{modelValue:m.value,"onUpdate:modelValue":r[0]||(r[0]=p=>m.value=p),items:a,label:s(y)("exportations.carte.étiquetteFormatDoc"),class:"mt-2",variant:"outlined"},{selection:t(({item:p})=>[k(u(s(y)(`exportations.format.${p.raw}`)),1)]),item:t(({item:p,props:V})=>[e(W,B(V,{title:s(y)(`exportations.format.${p.raw}`)}),null,16,["title"])]),_:1},8,["modelValue","label"]))}});export{Sa as _,$a as a,ka as b,qa as c,Tt as d,Ca as e,Nt as f,Gt as g,At as h,Pt as i};
//# sourceMappingURL=OptionsFormatExportation.vue_vue_type_script_setup_true_lang-CC7VPOsf.js.map

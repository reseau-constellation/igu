import{d as w,E as k,s as p,r as h,G as V,dM as x,a as u,c as n,w as a,bp as g,L as v,e as c,t as f,f as S,a$ as N,க as O,o as T,q as I,b,ம as C,cb as m,az as B,ap as E,R as $,aB as A,Y as F}from"./index-CmPTsS4g.js";const J=w({__name:"JetonFichierImportation",props:{spécification:{}},setup(y){const e=y,{மொழியாக்கம்_பயன்படுத்து:i}=O(),{$மொ:r}=i(),s=k(),l=p(()=>e.spécification.source.typeSource==="fichier"?o.value===void 0:!1),_=p(()=>e.spécification.source.typeSource==="url"||typeof o.value=="string"),o=h();V(async()=>{e.spécification.source.typeSource==="fichier"&&(o.value=await s.automatisations.résoudreAdressePrivéeFichier({clef:e.spécification.source.adresseFichier}))});const d=p(()=>e.spécification.source.typeSource==="fichier"?"mdi-file":"mdi-web"),t=p(()=>e.spécification.source.typeSource==="fichier"?o.value===void 0?"automatisation.rechercheFichier":o.value===null?"automatisations.fichierIntrouvable":x.parse(o.value).base:e.spécification.source.url.slice(-10)+r("communs.troisPetitsPoints"));return(P,j)=>(u(),n(N,null,{prepend:a(()=>[l.value?(u(),n(g,{key:0,indeterminate:"",color:"primary"})):_.value?(u(),n(v,{key:1},{default:a(()=>[c(f(d.value),1)]),_:1})):(u(),n(v,{key:2,color:"error"},{default:a(()=>j[0]||(j[0]=[c(" mdi-alert ")])),_:1}))]),default:a(()=>[c(" "+f(S(r)(t.value)),1)]),_:1}))}}),L=w({__name:"JetonStatutAutomatisation",props:{statut:{}},setup(y){const{மொழியாக்கம்_பயன்படுத்து:e}=O(),{$மொ:i}=e(),r=y,s=p(()=>{switch(r.statut.type){case"erreur":return{icône:"mdi-alert",couleur:"error"};case"programmée":return{icône:"mdi-check",couleur:"success"};case"sync":return{icône:"mdi-sync",couleur:"primary"};case"écoute":return{icône:"",couleur:"success"};default:throw new Error(JSON.stringify(r.statut))}}),l=h(new Date().getTime());let _;T(()=>{_=window.setInterval(()=>l.value=new Date().getTime(),1e3)}),I(()=>{_&&clearInterval(_)});const o=p(()=>{switch(r.statut.type){case"écoute":return"auto.jetonStatut.écoute";case"sync":return i("auto.jetonStatut.sync",{depuis:l.value-r.statut.depuis});case"programmée":return i("auto.jetonStatut.programmée",{dans:r.statut.à-l.value});case"erreur":return r.statut.prochaineProgramméeÀ?i("auto.jetonStatut.erreurRéssayer",{dans:r.statut.prochaineProgramméeÀ-l.value}):"auto.jetonStatut.erreur";default:throw new Error(r.statut)}});return(d,t)=>(u(),n(N,null,{prepend:a(()=>[d.statut.type==="sync"?(u(),n(g,{key:0,indeterminate:""},{default:a(()=>[b(v,{color:s.value.couleur},{default:a(()=>[c(f(s.value.icône),1)]),_:1},8,["color"])]),_:1})):(u(),n(v,{key:1,color:s.value.couleur},{default:a(()=>[c(f(s.value.icône),1)]),_:1},8,["color"]))]),default:a(()=>[c(" "+f(S(i)(o.value)),1)]),_:1}))}}),R=w({__name:"ItemAutomatisation",props:{spécification:{}},setup(y){const e=y,i=k(),{அகராதியிலிருந்து_மொழிபெயர்ப்பு:r}=C(),s=h();T(()=>{if(e.spécification.type==="importation")m(i.tableaux.suivreNomsTableau({idTableau:e.spécification.idTableau,f:t=>s.value=t}));else switch(e.spécification.typeObjet){case"tableau":m(i.tableaux.suivreNomsTableau({idTableau:e.spécification.idObjet,f:t=>s.value=t}));break;case"projet":m(i.projets.suivreNomsProjet({idProjet:e.spécification.idObjet,f:t=>s.value=t}));break;case"bd":m(i.bds.suivreNomsBd({idBd:e.spécification.idObjet,f:t=>s.value=t}));break;case"nuée":m(i.nuées.suivreNomsNuée({idNuée:e.spécification.idObjet,f:t=>s.value=t}));break;default:throw new Error(JSON.stringify(e.spécification))}});const l=r(s),_=p(()=>e.spécification.type==="importation"?"mdi-table":B(e.spécification.typeObjet)),o=h();m(i.automatisations.suivreÉtatAutomatisations({f:t=>o.value=t}));const d=p(()=>o.value?o.value[e.spécification.id]:void 0);return(t,P)=>(u(),n(F,null,{prepend:a(()=>[b(v,null,{default:a(()=>[c(f(t.spécification.type==="exportation"?"mdi-export":"mdi-import"),1)]),_:1})]),default:a(()=>[b(E,null,{default:a(()=>[b(v,null,{default:a(()=>[c(f(_.value),1)]),_:1}),c(" "+f(S(l)),1)]),_:1}),t.spécification.type==="importation"?(u(),n(J,{key:0,spécification:t.spécification},null,8,["spécification"])):$("",!0),d.value?(u(),n(L,{key:1,statut:d.value},null,8,["statut"])):(u(),n(A,{key:2,type:"chip"}))]),_:1}))}});export{R as _};
//# sourceMappingURL=ItemAutomatisation.vue_vue_type_script_setup_true_lang-BtGuup_k.js.map

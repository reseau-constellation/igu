import{d as Z,p as re,q,r as p,v as Q,dr as Te,a as V,c as C,w as t,D as xe,H as A,e as S,t as r,f as a,X as oe,க as ne,o as Ve,cj as ze,b as e,ம as he,bX as Y,aC as be,as as Me,W as L,aE as Le,L as le,ah as Ee,ds as Je,J as T,al as Ge,n as je,ax as We,dt as P,x as we,y as ge,z as ke,h as Ce,V as Se,A as pe,i as ve,l as qe,Q as Ie,R as N,bu as Oe,C as H,M as De,N as ae,bG as $e,du as Fe,a2 as ue,aX as fe,aQ as Xe,am as Qe,an as He,B as b,aL as Pe,aM as E,ao as Ke,bs as Ye,bt as Ze,m as Ae,I as Ue,dv as et,bb as tt,dw as at,cM as Ne,bf as lt,bg as ot,bk as nt,bj as it,bi as st,dx as _e,aP as ut,bn as rt,bo as ct,dy as ye,dz as dt,bp as mt,dA as pt,db as vt,bm as ft,dB as bt,dC as _t}from"./index-CdQEPL7L.js";import{d as yt}from"./SélecteurNuée.vue_vue_type_script_setup_true_lang-BBN87rmU.js";import{_ as xt}from"./RésultatRechercheProjet.vue_vue_type_script_setup_true_lang-B4v4ZAfR.js";import{_ as Vt}from"./CarteProjet.vue_vue_type_script_setup_true_lang-CwmfqBOw.js";import{_ as ht}from"./NouveauProjet.vue_vue_type_script_setup_true_lang-DSWpRWHe.js";const jt=Z({__name:"JetonFichierImportation",props:{spécification:{}},setup(l){const i=l,{மொழியாக்கம்_பயன்படுத்து:k}=ne(),{$மொ:w}=k(),n=re(),s=q(()=>i.spécification.source.typeSource==="fichier"?h.value===void 0:!1),v=q(()=>i.spécification.source.typeSource==="url"||typeof h.value=="string"),h=p();Q(async()=>{i.spécification.source.typeSource==="fichier"&&(h.value=await n.automatisations.résoudreAdressePrivéeFichier({clef:i.spécification.source.adresseFichier}))});const D=q(()=>i.spécification.source.typeSource==="fichier"?"mdi-file":"mdi-web"),f=q(()=>i.spécification.source.typeSource==="fichier"?h.value===void 0?"automatisation.rechercheFichier":h.value===null?"automatisations.fichierIntrouvable":Te.parse(h.value).base:i.spécification.source.url.slice(-10)+w("communs.troisPetitsPoints"));return(U,y)=>(V(),C(oe,null,{prepend:t(()=>[s.value?(V(),C(xe,{key:0,indeterminate:"",color:"primary"})):v.value?(V(),C(A,{key:1},{default:t(()=>[S(r(D.value),1)]),_:1})):(V(),C(A,{key:2,color:"error"},{default:t(()=>y[0]||(y[0]=[S(" mdi-alert ")])),_:1}))]),default:t(()=>[S(" "+r(a(w)(f.value)),1)]),_:1}))}}),wt=Z({__name:"JetonStatutAutomatisation",props:{statut:{}},setup(l){const{மொழியாக்கம்_பயன்படுத்து:i}=ne(),{$மொ:k}=i(),w=l,n=q(()=>{switch(w.statut.type){case"erreur":return{icône:"mdi-alert",couleur:"error"};case"programmée":return{icône:"mdi-check",couleur:"success"};case"sync":return{icône:"mdi-sync",couleur:"primary"};case"écoute":return{icône:"",couleur:"success"};default:throw new Error(JSON.stringify(w.statut))}}),s=p(new Date().getTime());let v;Ve(()=>{v=window.setInterval(()=>s.value=new Date().getTime(),1e3)}),ze(()=>{v&&clearInterval(v)});const h=q(()=>{switch(w.statut.type){case"écoute":return"auto.jetonStatut.écoute";case"sync":return k("auto.jetonStatut.sync",{depuis:s.value-w.statut.depuis});case"programmée":return k("auto.jetonStatut.programmée",{dans:w.statut.à-s.value});case"erreur":return w.statut.prochaineProgramméeÀ?k("auto.jetonStatut.erreurRéssayer",{dans:w.statut.prochaineProgramméeÀ-s.value}):"auto.jetonStatut.erreur";default:throw new Error(w.statut)}});return(D,f)=>(V(),C(oe,null,{prepend:t(()=>[D.statut.type==="sync"?(V(),C(xe,{key:0,indeterminate:""},{default:t(()=>[e(A,{color:n.value.couleur},{default:t(()=>[S(r(n.value.icône),1)]),_:1},8,["color"])]),_:1})):(V(),C(A,{key:1,color:n.value.couleur},{default:t(()=>[S(r(n.value.icône),1)]),_:1},8,["color"]))]),default:t(()=>[S(" "+r(a(k)(h.value)),1)]),_:1}))}}),ta=Z({__name:"ItemAutomatisation",props:{spécification:{}},setup(l){const i=l,k=re(),{அகராதியிலிருந்து_மொழிபெயர்ப்பு:w}=he(),n=p();Ve(()=>{if(i.spécification.type==="importation")Y(k.tableaux.suivreNomsTableau({idTableau:i.spécification.idTableau,f:f=>n.value=f}));else switch(i.spécification.typeObjet){case"tableau":Y(k.tableaux.suivreNomsTableau({idTableau:i.spécification.idObjet,f:f=>n.value=f}));break;case"projet":Y(k.projets.suivreNomsProjet({idProjet:i.spécification.idObjet,f:f=>n.value=f}));break;case"bd":Y(k.bds.suivreNomsBd({idBd:i.spécification.idObjet,f:f=>n.value=f}));break;case"nuée":Y(k.nuées.suivreNomsNuée({idNuée:i.spécification.idObjet,f:f=>n.value=f}));break;default:throw new Error(JSON.stringify(i.spécification))}});const s=w(n),v=q(()=>i.spécification.type==="importation"?"mdi-table":be(i.spécification.typeObjet)),h=p();Y(k.automatisations.suivreÉtatAutomatisations({f:f=>h.value=f}));const D=q(()=>h.value?h.value[i.spécification.id]:void 0);return(f,U)=>(V(),C(le,null,{prepend:t(()=>[e(A,null,{default:t(()=>[S(r(f.spécification.type==="exportation"?"mdi-export":"mdi-import"),1)]),_:1})]),default:t(()=>[e(Me,null,{default:t(()=>[e(A,null,{default:t(()=>[S(r(v.value),1)]),_:1}),S(" "+r(a(s)),1)]),_:1}),f.spécification.type==="importation"?(V(),C(jt,{key:0,spécification:f.spécification},null,8,["spécification"])):L("",!0),D.value?(V(),C(wt,{key:1,statut:D.value},null,8,["statut"])):(V(),C(Le,{key:2,type:"chip"}))]),_:1}))}}),gt=Z({__name:"SélecteurProjet",props:{multiples:{type:Boolean},originaux:{}},emits:["selectionne"],setup(l,{emit:i}){const k=i,{மொழியாக்கம்_பயன்படுத்து:w}=ne(),{$மொ:n}=w(),s=re(),v=p([]);Q(()=>{k("selectionne",v.value)});const h=p(),{résultats:D,onTravaille:f}=Ee(s.recherche.rechercherProjetsSelonTexte,{texte:h});return(U,y)=>(V(),C(Ge,{multiples:U.multiples,originaux:U.originaux,"resultats-recherche":a(D),"on-travaille":a(f),"texte-etiquette-recherche":a(n)("projets.recherche.étiquette"),"texte-aucun-résultat":a(n)("projets.recherche.aucunRésultat"),onSelectionnee:y[0]||(y[0]=_=>v.value=_),onRequeteModifiee:y[1]||(y[1]=_=>h.value=_)},{résultat:t(({résultat:_,click:x})=>[e(xt,{résultat:_,onClick:x},null,8,["résultat","onClick"])]),"jeton-objet":t(({id:_,deselectionner:x})=>[e(Vt,{id:_},{activator:t(({props:I})=>[e(Je,T({id:_},{props:I}),{default:t(()=>[e(A,{class:"ms-2",icon:"mdi-close",size:"small",variant:"flat",onClick:()=>x({id:_})},null,8,["onClick"])]),_:2},1040,["id"])]),_:2},1032,["id"])]),nouveau:t(({nouveau:_})=>[e(ht,{onNouveau:_},{activator:t(({props:x})=>[e(le,T(x,{title:a(n)("projets.nouveau.btn"),"prepend-icon":"mdi-plus"}),null,16,["title"])]),_:2},1032,["onNouveau"])]),_:1},8,["multiples","originaux","resultats-recherche","on-travaille","texte-etiquette-recherche","texte-aucun-résultat"]))}}),kt={class:"font-weight-bold"},Ct={class:"text-medium-emphasis text-caption"},St={class:"font-weight-bold"},qt={class:"text-medium-emphasis text-caption"},It={key:0,class:"my-1 text-medium-emphasis text-caption"},Ot={class:"font-weight-bold"},Dt={class:"d-flex vertical-align"},$t={class:"text-medium-emphasis text-caption",style:{display:"flex","align-items":"center"}},Ft={key:0,class:"my-1 text-medium-emphasis text-caption"},Pt={class:"font-weight-bold"},At={class:"text-medium-emphasis text-caption"},aa=Z({__name:"NouvelleExportation",props:{infoObjet:{}},setup(l){const i=l,{mdAndUp:k}=je(),{மொழியாக்கம்_பயன்படுத்து:w,கிடைக்கும்_மொழிகளை_பயன்படுத்து:n}=ne(),{$மொ:s}=w(),{மொழி:v,மாற்றுமொழிகள்:h}=he(),{மொழிகளும்_குறியீடுகளும்:D}=n(),{so:f}=We(),U=f==="androïde"||f==="iOS",y=re(),_=p(!1),x=["objetConstellation","destination","format","automatiser","confirmation"],I=p(x.indexOf(i.infoObjet?P?"format":"destination":"objetConstellation")),K=q(()=>{switch(x[I.value]){case"objetConstellation":return"exportations.carte.titreObjetConstellation";case"destination":return"exportations.carte.titreDestination";case"format":return"exportations.carte.titreFormat";case"automatiser":return"exportations.carte.titreAutomatiser";case"confirmation":return"exportations.carte.titreConfirmation";default:return""}}),J=()=>{switch(x[I.value]){case"objetConstellation":I.value=x.indexOf(P?"format":"destination");break;default:I.value++;break}},F=()=>{switch(x[I.value]){case"format":I.value=x.indexOf(P?"objetConstellation":"destination");break;default:I.value--;break}},G=q(()=>{switch(x[I.value]){case"objetConstellation":return{actif:!!c.value,visible:!0};case"destination":return{actif:!!O.value,visible:!0};case"format":return{actif:!!d.value,visible:!0};case"automatiser":return{actif:!!X.value,visible:!0};case"confirmation":return{actif:!1,visible:!1};default:return{actif:!0,visible:!0}}}),W=q(()=>{switch(x[I.value]){case"objetConstellation":return{actif:!1,visible:!1};case"destination":return{actif:!i.infoObjet,visible:!i.infoObjet};case"format":return{actif:!i.infoObjet||!P,visible:!i.infoObjet||!P};case"confirmation":return{actif:!ie.value,visible:!0};default:return{actif:!0,visible:!0}}}),j=p(i.infoObjet?.typeObjet||"bd"),c=p(i.infoObjet?.id),m=[{type:"tableau",texte:"pages.mesDonnées.tableaux"},{type:"bd",texte:"pages.mesDonnées.bds"},{type:"projet",texte:"pages.mesDonnées.projets"},{type:"nuée",texte:"pages.mesDonnées.nuées"}],O=p(),ce=async()=>{(O.value===""||!O.value)&&(O.value=await et())},d=p("ods"),B=["ods","csv","txt","xlsx","xls"],$=p(),de=q(()=>D.value.map(g=>g.மொழி));Q(()=>{$.value=[v.value,...h.value].map(g=>D.value.find(u=>u.குறியீடு===g)?.மொழி||g)});const z=p(!0),X=p("manuelle"),ee=p(1),R=p("jours"),me=["années","mois","semaines","jours","heures","minutes","secondes","millisecondes"],ie=p(!1),se=async()=>{if(!(!O.value||!c.value||!j.value))if(X.value==="aucune"){if(j.value==="tableau"){const g=await y.tableaux.exporterDonnées({idTableau:c.value,langues:$.value});await y.bds.exporterDocumentDonnées({données:g,formatDoc:d.value,dossier:O.value,inclureFichiersSFIP:z.value})}else if(j.value==="bd"){const g=await y.bds.exporterDonnées({idBd:c.value,langues:$.value});await y.bds.exporterDocumentDonnées({données:g,formatDoc:d.value,dossier:O.value,inclureFichiersSFIP:z.value})}else if(j.value==="nuée"){const g=await y.nuées.exporterDonnéesNuée({idNuée:c.value,langues:$.value});await y.bds.exporterDocumentDonnées({données:g,formatDoc:d.value,dossier:O.value,inclureFichiersSFIP:z.value})}else if(j.value==="projet"){const g=await y.projets.exporterDonnées({idProjet:c.value,langues:$.value});await y.projets.exporterDocumentDonnées({données:g,formatDoc:d.value,dossier:O.value,inclureFichiersSFIP:z.value})}}else await y.automatisations.ajouterAutomatisationExporter({id:c.value,typeObjet:j.value,formatDoc:d.value,inclureFichiersSFIP:z.value,dossier:O.value,langues:$.value,fréquence:{type:X.value,détails:{n:ee.value,unités:R.value}}})};return(g,u)=>(V(),C(Ue,{modelValue:_.value,"onUpdate:modelValue":u[16]||(u[16]=o=>_.value=o)},{activator:t(({props:o})=>[we(g.$slots,"activator",ge(ke({props:o})))]),default:t(()=>[e(Ae,{class:"mx-auto","min-width":a(k)?500:300},{default:t(()=>[e(Ce,null,{default:t(()=>[e(Se,{class:"d-flex"},{default:t(()=>[S(r(a(s)(K.value))+" ",1),e(pe),e(ve,{icon:"mdi-close",size:"small",variant:"flat",onClick:u[0]||(u[0]=o=>_.value=!1)})]),_:1})]),_:1}),e(qe,null,{default:t(()=>[e(Ie,{modelValue:I.value,"onUpdate:modelValue":u[15]||(u[15]=o=>I.value=o),style:{"overflow-y":"scroll"}},{default:t(()=>[e(N,{value:x.indexOf("objetConstellation")},{default:t(()=>[e(Oe,{modelValue:j.value,"onUpdate:modelValue":u[1]||(u[1]=o=>j.value=o),color:"primary",mandatory:""},{default:t(()=>[(V(),H(ae,null,De(m,o=>e(oe,{key:o.type,value:o.type,text:a(s)(o.texte),class:"mx-2",variant:"outlined","prepend-icon":a(be)(o.type)},null,8,["value","text","prepend-icon"])),64))]),_:1},8,["modelValue"]),j.value==="bd"?(V(),C($e,{key:0,multiples:!1,onSelectionnee:u[2]||(u[2]=o=>c.value=o[0])})):j.value==="tableau"?(V(),C(Fe,{key:1,multiples:!1,onSelectionne:u[3]||(u[3]=o=>c.value=o)})):j.value==="projet"?(V(),C(gt,{key:2,multiples:!1,onSelectionne:u[4]||(u[4]=o=>c.value=o[0])})):j.value==="nuée"?(V(),C(yt,{key:3,multiples:!1,onSelectionnee:u[5]||(u[5]=o=>c.value=o[0])})):L("",!0)]),_:1},8,["value"]),e(N,{value:x.indexOf("destination")},{default:t(()=>[e(ue,{modelValue:O.value,"onUpdate:modelValue":u[6]||(u[6]=o=>O.value=o),label:a(s)("exportations.carte.étiquetteDestination"),class:"mt-2",variant:"outlined","prepend-icon":"mdi-folder-outline",clearable:"",onClick:u[7]||(u[7]=()=>ce())},null,8,["modelValue","label"])]),_:1},8,["value"]),e(N,{value:x.indexOf("format")},{default:t(()=>[e(fe,{modelValue:d.value,"onUpdate:modelValue":u[8]||(u[8]=o=>d.value=o),items:B,label:a(s)("exportations.carte.étiquetteFormatDoc"),class:"mt-2",variant:"outlined"},{selection:t(({item:o})=>[S(r(a(s)(`exportations.format.${o.raw}`)),1)]),item:t(({item:o,props:te})=>[e(le,T(te,{title:a(s)(`exportations.format.${o.raw}`)}),null,16,["title"])]),_:1},8,["modelValue","label"]),e(Xe,{modelValue:$.value,"onUpdate:modelValue":u[9]||(u[9]=o=>$.value=o),items:de.value,label:a(s)("exportations.carte.étiquetteLangues"),variant:"outlined",multiple:"",chips:"","closable-chips":""},null,8,["modelValue","items","label"]),e(Qe,{modelValue:z.value,"onUpdate:modelValue":u[10]||(u[10]=o=>z.value=o),color:"primary"},{label:t(()=>[S(r(a(s)("exportations.carte.étiquetteInclureDocuments"))+" ",1),a(U)?L("",!0):(V(),C(He,{key:0,location:"bottom",text:a(s)("exportations.carte.indiceInclureDocuments")},{activator:t(({props:o})=>[e(A,T(o,{icon:"mdi-information-outline",end:""}),null,16)]),_:1},8,["text"]))]),_:1},8,["modelValue"])]),_:1},8,["value"]),e(N,{value:x.indexOf("automatiser")},{default:t(()=>[b("p",null,r(a(s)("exportations.carte.automatiser")),1),e(Pe,{modelValue:X.value,"onUpdate:modelValue":u[13]||(u[13]=o=>X.value=o)},{default:t(()=>[e(E,{value:"manuelle",class:"my-2"},{label:t(()=>[b("div",null,[b("p",kt,r(a(s)("automatisations.fréquence.manuelle")),1),b("p",Ct,r(a(s)("automatisations.fréquence.indiceManuelle")),1)])]),_:1}),e(E,{value:"dynamique",class:"my-2",disabled:a(P)},{label:t(()=>[b("div",null,[b("p",St,r(a(s)("automatisations.fréquence.dynamique")),1),b("p",qt,r(a(s)("automatisations.fréquence.indiceDynamique")),1),a(P)?(V(),H("p",It,[e(A,{icon:"mdi-alert-outline",start:""}),S(r(a(s)("automatisations.fréquence.pasSurNavig")),1)])):L("",!0)])]),_:1},8,["disabled"]),e(E,{value:"fixe",class:"my-2",disabled:a(P)},{label:t(()=>[b("div",null,[b("p",Ot,r(a(s)("automatisations.fréquence.fixe")),1),u[17]||(u[17]=b("p",{class:"text-medium-emphasis text-caption"},null,-1)),b("div",Dt,[b("div",$t,r(a(s)("automatisations.fréquence.indiceFixe")),1),e(ue,{modelValue:ee.value,"onUpdate:modelValue":u[11]||(u[11]=o=>ee.value=o),class:"mx-1",variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"]),e(fe,{modelValue:R.value,"onUpdate:modelValue":u[12]||(u[12]=o=>R.value=o),items:me,class:"mx-1",variant:"outlined",density:"compact","hide-details":""},{selection:t(({item:o})=>[S(r(a(s)(`automatisations.fréquence.unités.${o.raw}`)),1)]),item:t(({item:o,props:te})=>[e(le,T(te,{title:a(s)(`automatisations.fréquence.unités.${o.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])]),a(P)?(V(),H("p",Ft,[e(A,{icon:"mdi-alert-outline",start:""}),S(r(a(s)("automatisations.fréquence.pasSurNavig")),1)])):L("",!0)])]),_:1},8,["disabled"]),e(E,{value:"aucune",class:"my-2"},{label:t(()=>[b("div",null,[b("p",Pt,r(a(s)("automatisations.fréquence.aucune")),1),b("p",At,r(a(s)("automatisations.fréquence.indiceAucune")),1)])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["value"]),e(N,{value:x.indexOf("confirmation")},{default:t(()=>[e(ve,{onClick:u[14]||(u[14]=()=>se())})]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:1}),e(Ke,null,{default:t(()=>[e(Ye,{visible:W.value.visible,actif:W.value.actif,onRetour:F},null,8,["visible","actif"]),e(pe),e(Ze,{visible:G.value.visible,actif:G.value.actif,onSuivant:J},null,8,["visible","actif"])]),_:1})]),_:1},8,["min-width"])]),_:3},8,["modelValue"]))}}),Ut=tt({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:l=>typeof l=="boolean"||[1e3,1024].includes(Number(l))},...at({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:l=>l.multiple?[]:null,validator:l=>Ne(l).every(i=>i!=null&&typeof i=="object")},...lt({clearable:!0})},"VFileInput"),Nt=ot()({name:"VFileInput",inheritAttrs:!1,props:Ut(),emits:{"click:control":l=>!0,"mousedown:control":l=>!0,"update:focused":l=>!0,"update:modelValue":l=>!0},setup(l,i){let{attrs:k,emit:w,slots:n}=i;const{t:s}=nt(),v=it(l,"modelValue",l.modelValue,d=>Ne(d),d=>!l.multiple&&Array.isArray(d)?d[0]:d),{isFocused:h,focus:D,blur:f}=st(l),U=q(()=>typeof l.showSize!="boolean"?l.showSize:void 0),y=q(()=>(v.value??[]).reduce((d,B)=>{let{size:$=0}=B;return d+$},0)),_=q(()=>_e(y.value,U.value)),x=q(()=>(v.value??[]).map(d=>{const{name:B="",size:$=0}=d;return l.showSize?`${B} (${_e($,U.value)})`:B})),I=q(()=>{const d=v.value?.length??0;return l.showSize?s(l.counterSizeString,d,_.value):s(l.counterString,d)}),K=p(),J=p(),F=p(),G=q(()=>h.value||l.active),W=q(()=>["plain","underlined"].includes(l.variant));function j(){F.value!==document.activeElement&&F.value?.focus(),h.value||D()}function c(d){F.value?.click()}function m(d){w("mousedown:control",d)}function O(d){F.value?.click(),w("click:control",d)}function ce(d){d.stopPropagation(),j(),ft(()=>{v.value=[],bt(l["onClick:clear"],d)})}return ut(v,d=>{(!Array.isArray(d)||!d.length)&&F.value&&(F.value.value="")}),rt(()=>{const d=!!(n.counter||l.counter),B=!!(d||n.details),[$,de]=ct(k),{modelValue:z,...X}=ye.filterProps(l),ee=dt(l);return e(ye,T({ref:K,modelValue:v.value,"onUpdate:modelValue":R=>v.value=R,class:["v-file-input",{"v-file-input--chips":!!l.chips,"v-file-input--hide":l.hideInput,"v-input--plain-underlined":W.value},l.class],style:l.style,"onClick:prepend":c},$,X,{centerAffix:!W.value,focused:h.value}),{...n,default:R=>{let{id:me,isDisabled:ie,isDirty:se,isReadonly:g,isValid:u}=R;return e(mt,T({ref:J,"prepend-icon":l.prependIcon,onMousedown:m,onClick:O,"onClick:clear":ce,"onClick:prependInner":l["onClick:prependInner"],"onClick:appendInner":l["onClick:appendInner"]},ee,{id:me.value,active:G.value||se.value,dirty:se.value||l.dirty,disabled:ie.value,focused:h.value,error:u.value===!1}),{...n,default:o=>{let{props:{class:te,...Be}}=o;return e(ae,null,[e("input",T({ref:F,type:"file",readonly:g.value,disabled:ie.value,multiple:l.multiple,name:l.name,onClick:M=>{M.stopPropagation(),g.value&&M.preventDefault(),j()},onChange:M=>{if(!M.target)return;const Re=M.target;v.value=[...Re.files??[]]},onFocus:j,onBlur:f},Be,de),null),e("div",{class:te},[!!v.value?.length&&!l.hideInput&&(n.selection?n.selection({fileNames:x.value,totalBytes:y.value,totalBytesReadable:_.value}):l.chips?x.value.map(M=>e(oe,{key:M,size:"small",text:M},null)):x.value.join(", "))])])}})},details:B?R=>e(ae,null,[n.details?.(R),d&&e(ae,null,[e("span",null,null),e(pt,{active:!!v.value?.length,value:I.value,disabled:l.disabled},n.counter)])]):void 0})}),vt({},K,J,F)}}),Bt={class:"font-weight-bold"},Rt={class:"text-medium-emphasis text-caption"},Tt={class:"font-weight-bold"},zt={class:"text-medium-emphasis text-caption"},Mt={key:0,class:"my-1 text-medium-emphasis text-caption"},Lt={key:1,class:"my-1 text-medium-emphasis text-caption"},Et={class:"font-weight-bold"},Jt={class:"d-flex vertical-align"},Gt={class:"text-medium-emphasis text-caption",style:{display:"flex","align-items":"center"}},Wt={key:0,class:"my-1 text-medium-emphasis text-caption"},Xt={class:"font-weight-bold"},Qt={class:"text-medium-emphasis text-caption"},la=Z({__name:"NouvelleImportation",props:{infoObjet:{}},setup(l){const i=l,{mdAndUp:k}=je(),{மொழியாக்கம்_பயன்படுத்து:w}=ne(),{$மொ:n}=w(),s=p(!1),v=["objetConstellation","sourceImportation","correspondancesImportation","automatiser","confirmation"],h=p(v.indexOf(i.infoObjet?"sourceImportation":"objetConstellation")),D=q(()=>{switch(v[h.value]){case"objetConstellation":return"importations.carte.titreObjetConstellation";case"sourceImportation":return"importations.carte.titreSourceImportation";case"correspondancesImportation":return"importations.carte.titreCorrespondancesImportation";case"confirmation":return"importations.carte.titreconfirmation";default:return""}}),f=p(i.infoObjet?.typeObjet),U=p(i.infoObjet?.id),y=p(),_=p();Q(()=>{y.value&&(_.value=void 0)}),Q(()=>{_.value&&(y.value=void 0)});const x=p(),I=p(),K=p(!1);Q(()=>{const j=y.value?.[0].name||_.value;I.value=j?.split(".").pop()}),Q(async()=>{if(_.value)try{const j=await _t.get(_.value);x.value=j.data}catch{K.value=!0}else y.value?x.value=new Uint8Array(await y.value[0].arrayBuffer()):x.value=void 0});const J=p("manuelle"),F=p(1),G=p("jours"),W=["années","mois","semaines","jours","heures","minutes","secondes","millisecondes"];return(j,c)=>(V(),C(Ue,{modelValue:s.value,"onUpdate:modelValue":c[10]||(c[10]=m=>s.value=m)},{activator:t(({props:m})=>[we(j.$slots,"activator",ge(ke({props:m})))]),default:t(()=>[e(Ae,{class:"mx-auto","max-width":a(k)?500:300},{default:t(()=>[e(Ce,null,{default:t(()=>[e(Se,{class:"d-flex"},{default:t(()=>[S(r(a(n)(D.value))+" ",1),e(pe),e(ve,{icon:"mdi-close",size:"small",variant:"flat",onClick:c[0]||(c[0]=m=>s.value=!1)})]),_:1})]),_:1}),e(qe,null,{default:t(()=>[e(Ie,{modelValue:h.value,"onUpdate:modelValue":c[9]||(c[9]=m=>h.value=m),style:{"overflow-y":"scroll"}},{default:t(()=>[e(N,{value:v.indexOf("objetConstellation")},{default:t(()=>[e(Oe,{modelValue:f.value,"onUpdate:modelValue":c[1]||(c[1]=m=>f.value=m),color:"primary",mandatory:""},{default:t(()=>[(V(),H(ae,null,De(["tableau","bd"],m=>e(oe,{key:m,class:"mx-2",variant:"outlined","prepend-icon":a(be)(m)},null,8,["prepend-icon"])),64))]),_:1},8,["modelValue"]),f.value==="bd"?(V(),C($e,{key:0,multiples:!1,onSelectionnee:c[2]||(c[2]=m=>U.value=m[0])})):f.value==="tableau"?(V(),C(Fe,{key:1,multiples:!1,onSelectionne:c[3]||(c[3]=m=>U.value=m)})):L("",!0)]),_:1},8,["value"]),e(N,{value:v.indexOf("sourceImportation")},{default:t(()=>[e(Nt,{modelValue:y.value,"onUpdate:modelValue":c[4]||(c[4]=m=>y.value=m),class:"mt-2",variant:"outlined",label:a(n)("importations.carte.étiquetteFichier")},null,8,["modelValue","label"]),e(ue,{modelValue:_.value,"onUpdate:modelValue":c[5]||(c[5]=m=>_.value=m),"prepend-icon":"mdi-web",variant:"outlined",label:a(n)("importations.carte.étiquetteURL")},null,8,["modelValue","label"]),S(" "+r(_.value)+" "+r(x.value),1)]),_:1},8,["value"]),e(N,{value:v.indexOf("correspondancesImportation")},null,8,["value"]),e(N,{value:v.indexOf("automatiser")},{default:t(()=>[b("p",null,r(a(n)("exportations.carte.automatiser")),1),e(Pe,{modelValue:J.value,"onUpdate:modelValue":c[8]||(c[8]=m=>J.value=m)},{default:t(()=>[e(E,{value:"manuelle",class:"my-2"},{label:t(()=>[b("div",null,[b("p",Bt,r(a(n)("automatisations.fréquence.manuelle")),1),b("p",Rt,r(a(n)("automatisations.fréquence.indiceManuelle")),1)])]),_:1}),e(E,{value:"dynamique",class:"my-2",disabled:!!_.value||a(P)},{label:t(()=>[b("div",null,[b("p",Tt,r(a(n)("automatisations.fréquence.dynamique")),1),b("p",zt,r(a(n)("automatisations.fréquence.indiceDynamique")),1),_.value?(V(),H("p",Mt,[e(A,{icon:"mdi-alert-outline",start:""}),S(r(a(n)("automatisations.fréquence.pasDeSourceURL")),1)])):a(P)?(V(),H("p",Lt,[e(A,{icon:"mdi-alert-outline",start:""}),S(r(a(n)("automatisations.fréquence.pasSurNavig")),1)])):L("",!0)])]),_:1},8,["disabled"]),e(E,{value:"fixe",class:"my-2",disabled:a(P)},{label:t(()=>[b("div",null,[b("p",Et,r(a(n)("automatisations.fréquence.fixe")),1),c[11]||(c[11]=b("p",{class:"text-medium-emphasis text-caption"},null,-1)),b("div",Jt,[b("div",Gt,r(a(n)("automatisations.fréquence.indiceFixe")),1),e(ue,{modelValue:F.value,"onUpdate:modelValue":c[6]||(c[6]=m=>F.value=m),class:"mx-1",variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"]),e(fe,{modelValue:G.value,"onUpdate:modelValue":c[7]||(c[7]=m=>G.value=m),items:W,class:"mx-1",variant:"outlined",density:"compact","hide-details":""},{selection:t(({item:m})=>[S(r(a(n)(`automatisations.fréquence.unités.${m.raw}`)),1)]),item:t(({item:m,props:O})=>[e(le,T(O,{title:a(n)(`automatisations.fréquence.unités.${m.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])]),a(P)?(V(),H("p",Wt,[e(A,{icon:"mdi-alert-outline",start:""}),S(r(a(n)("automatisations.fréquence.pasSurNavig")),1)])):L("",!0)])]),_:1},8,["disabled"]),e(E,{value:"aucune",class:"my-2"},{label:t(()=>[b("div",null,[b("p",Xt,r(a(n)("automatisations.fréquence.aucune")),1),b("p",Qt,r(a(n)("automatisations.fréquence.indiceAucune")),1)])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["value"]),e(N,{value:v.indexOf("confirmation")},null,8,["value"])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["max-width"])]),_:3},8,["modelValue"]))}});export{la as _,aa as a,ta as b};
//# sourceMappingURL=NouvelleImportation.vue_vue_type_script_setup_true_lang-CFJuIMmc.js.map
